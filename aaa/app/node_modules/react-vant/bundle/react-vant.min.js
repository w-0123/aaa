var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,n)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__spreadValues=(e,t)=>{for(var n in t||(t={}))__hasOwnProp.call(t,n)&&__defNormalProp(e,n,t[n]);if(__getOwnPropSymbols)for(var n of __getOwnPropSymbols(t))__propIsEnum.call(t,n)&&__defNormalProp(e,n,t[n]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t)),__objRest=(e,t)=>{var n={};for(var r in e)__hasOwnProp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&__getOwnPropSymbols)for(var r of __getOwnPropSymbols(e))t.indexOf(r)<0&&__propIsEnum.call(e,r)&&(n[r]=e[r]);return n};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["react-vant"]={},e.React,e.ReactDOM)}(this,(function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o=r(t),l=a(t),s=r(n),i=a(n);function c(e,t){if(!e)return t;let n;return n="function"==typeof e?e():"current"in e?e.current:e,n}function u(e,n,r="click"){const a=t.useRef(n);a.current=n,t.useEffect((()=>{const t=t=>{(Array.isArray(e)?e:[e]).some((e=>{const n=c(e);return!n||(null==n?void 0:n.contains(t.target))}))||a.current(t)};return document.addEventListener(r,t),()=>{document.removeEventListener(r,t)}}),[e,r])}function d(){}const f=Object.assign,m="undefined"!=typeof window;function p(e){return null!=e}function h(e){return"function"==typeof e}function v(e){return null!==e&&"object"==typeof e}function g(e,t,n){return t.reduce(((t,r)=>(n&&void 0===e[r]||(t[r]=e[r]),t)),{})}function y(e,t){return t?"string"==typeof t?` ${e}--${t}`:Array.isArray(t)?t.reduce(((t,n)=>t+y(e,n)),""):Object.keys(t).reduce(((n,r)=>n+(t[r]?y(e,r):"")),""):""}function b(e){return(t,n)=>(t&&"string"!=typeof t&&(n=t,t=""),`${t=t?`${e}__${t}`:e}${y(t,n)}`)}function w(e,t){return[b(e=`${t||"rv"}-${e}`),e]}function E(e){e.stopPropagation()}function x(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&E(e)}const C={click:"onClick"};function _(e,t){const n=__spreadValues({},t.props);for(const r of e){const e=C[r];n[e]=function(n){var r,a;n.stopPropagation(),null==(a=(r=t.props)[e])||a.call(r,n)}}return o.default.cloneElement(t,n)}const k=m?window:global;let N,S=Date.now();function O(e){const t=Date.now(),n=Math.max(0,16-(t-S)),r=setTimeout(e,n);return S=t+n,r}function P(e){return(k.requestAnimationFrame||O).call(k,e)}function M(e){(k.cancelAnimationFrame||k.clearTimeout).call(k,e)}function R(e){P((()=>{P(e)}))}function V(e){return e===window}function T(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function I(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function F(e){D(window,e)}function A(e,t){if(V(e))return 0;const n=t?T(t):I();return e.getBoundingClientRect().top+n}function j(e){return V(e)?e.innerHeight:e.getBoundingClientRect().height}function D(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}const L=!!m&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());function $(){L&&F(I())}function z(e){const t=e;if(!t)return!1;const n=window.getComputedStyle(t),r="none"===n.display,a=null===t.offsetParent&&"fixed"!==n.position;return r||a}function H(e){return/^\d+(\.\d+)?$/.test(e)}function B(e){return Number.isNaN?Number.isNaN(e):e!=e}function q(e){if(p(e))return H(e=String(e))?`${e}px`:e}function U(e){if(p(e)){const t=q(e);return{width:t,height:t}}return{}}function W(e){const t={};return void 0!==e&&(t.zIndex=+e),t}let K;function Y(e){return+(e=e.replace(/rem/g,""))*function(){if(!K){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;K=parseFloat(t)}return K}()}function X(e){if("number"==typeof e)return e;if(m){if(-1!==e.indexOf("rem"))return Y(e);if(-1!==e.indexOf("vw"))return function(e){return+(e=e.replace(/vw/g,""))*window.innerWidth/100}(e);if(-1!==e.indexOf("vh"))return function(e){return+(e=e.replace(/vh/g,""))*window.innerHeight/100}(e)}return parseFloat(e)}function J(e,t,n){return Math.min(Math.max(e,t),n)}function G(e,t,n){const r=e.indexOf(t);return-1===r?e:"-"===t&&0!==r?e.slice(0,r):e.slice(0,r+1)+e.slice(r).replace(n,"")}function Q(e,t=!0,n=!0){e=t?G(e,".",/\./g):e.split(".")[0];const r=t?/[^-0-9.]/g:/[^-0-9]/g;return(e=n?G(e,"-",/-/g):e.replace(/-/,"")).replace(r,"")}function Z(e,t=2){let n=`${e}`;for(;n.length<t;)n=`0${n}`;return n}const ee=1e3,te=6e4,ne=36e5,re=24*ne;function ae(e){const n=t.useRef(0),r=t.useRef(0),a=t.useRef(!1),[o,l]=t.useState((()=>e.time)),s=t.useRef(0),i=t.useRef({}),c=t.useMemo((()=>{return{total:e=o,days:Math.floor(e/re),hours:Math.floor(e%re/ne),minutes:Math.floor(e%ne/te),seconds:Math.floor(e%te/ee),milliseconds:Math.floor(e%ee)};var e}),[o]);i.current=c,s.current=o;const u=()=>{a.current=!1,M(n.current)},d=()=>Math.max(r.current-Date.now(),0),f=t=>{var n,r;s.current=t,l(t),null==(n=e.onChange)||n.call(e,i.current),0===t&&(u(),null==(r=e.onFinish)||r.call(e))},p=()=>{n.current=P((()=>{a.current&&(f(d()),s.current>0&&p())}))},h=()=>{n.current=P((()=>{if(a.current){const n=d();e=n,t=s.current,(Math.floor(e/1e3)!==Math.floor(t/1e3)||0===n)&&f(n),s.current>0&&h()}var e,t}))},v=()=>{a.current||(r.current=Date.now()+s.current,a.current=!0,m&&(e.millisecond?p():h()))};return t.useEffect((()=>{e.autostart&&v()}),[]),{start:v,pause:u,reset:(t=e.time)=>{u(),s.current=t,l(t)},current:c}}let oe=!1;if(m)try{const e={};Object.defineProperty(e,"passive",{get(){oe=!0}}),window.addEventListener("test-passive",null,e)}catch(yv){}function le(e,n,r={}){if(!m)return;const{target:a=window,passive:o=!1,capture:l=!1,depends:s=[]}=r;let i;t.useEffect((()=>((()=>{const t=c(a);t&&!i&&(t.addEventListener(e,n,oe?{capture:l,passive:o}:l),i=!0)})(),()=>(()=>{const t=c(a);t&&i&&(t.removeEventListener(e,n,l),i=!1)})())),[a,...s])}function se(e){const[n,r]=t.useState(e),a=t.useRef(n);return[n,t.useCallback((e=>{r((t=>a.current=h(e)?e(t):e))}),[n]),a]}const ie=(e={})=>{const n=(()=>{const e=t.useRef(!1);return t.useEffect((()=>(e.current=!1,()=>{e.current=!0})),[]),e})(),[r,a,o]=se(e);return[r,t.useCallback((e=>{n.current||a((t=>__spreadValues(__spreadValues({},t),h(e)?e(t):e)))}),[]),o]},ce=(e,n)=>{const r=t.useRef(!1);t.useEffect((()=>{if(r.current)return e();r.current=!0}),n)},ue=e=>{t.useEffect((()=>{e()}),[])};function de(e,n){const[r,a]=t.useState();return t.useEffect((()=>{if(!m||!window.IntersectionObserver)return null;const t=new IntersectionObserver((e=>{null==n||n(e[0].intersectionRatio>0);for(const t of e)a(t.isIntersecting)}),{root:document.body});return e.current&&t.observe(e.current),()=>{e.current&&t.unobserve(e.current)}}),[e.current]),[r]}function fe(e){const n=t.useRef(e);return n.current=e,n}const me=e=>{const n=fe(e);t.useEffect((()=>()=>{n.current()}),[])};function pe(e,t){if(e===t)return!0;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}const he=(ve=t.useEffect,(e,n,r)=>{const a=t.useRef(!1),o=t.useRef([]),l=t.useRef([]),s=t.useRef();ve((()=>{var t;const i=(Array.isArray(r)?r:[r]).map((e=>c(e)));if(!a.current)return a.current=!0,o.current=i,l.current=n,void(s.current=e());i.length===o.current.length&&pe(i,o.current)&&pe(n,l.current)||(null==(t=s.current)||t.call(s),o.current=i,l.current=n,s.current=e())})),me((()=>{var e;null==(e=s.current)||e.call(s),a.current=!1}))});var ve;function ge(e,n){const[r,a]=t.useState(),[o,l]=t.useState();return he((()=>{const t=c(e);if(!t)return;const r=new IntersectionObserver((e=>{for(const t of e)l(t.intersectionRatio),a(t.isIntersecting)}),__spreadProps(__spreadValues({},n),{root:c(null==n?void 0:n.root)}));return r.observe(t),()=>{r.disconnect()}}),[],e),[r,o]}function ye(){const e=t.useRef(0),n=t.useRef(0),r=t.useRef(0),a=t.useRef(0),o=t.useRef(0),l=t.useRef(0),s=t.useRef(""),i=t.useRef(null),c=()=>{r.current=0,a.current=0,o.current=0,l.current=0,s.current="",i.current=null};return{move:t=>{const c=t.touches[0];var u,d;r.current=c.clientX<0?0:c.clientX-e.current,a.current=c.clientY-n.current,o.current=Math.abs(r.current),l.current=Math.abs(a.current),null===i.current?i.current=!0:i.current=!1,s.current||(s.current=(u=o.current,d=l.current,u>d&&u>10?"horizontal":d>u&&d>10?"vertical":""))},start:t=>{c(),e.current=t.touches[0].clientX,n.current=t.touches[0].clientY},reset:c,startX:e,startY:n,deltaX:r,deltaY:a,offsetX:o,offsetY:l,direction:s,isVertical:()=>"vertical"===s.current,isHorizontal:()=>"horizontal"===s.current,firstMove:i}}const be=/scroll|auto/i,we=m?window:void 0;function Ee(e){return"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType}function xe(e,t=we){void 0===t&&(t=window);let n=e;for(;n&&n!==t&&Ee(n);){const{overflowY:e}=window.getComputedStyle(n);if(be.test(e)){if("BODY"!==n.tagName)return n;const e=window.getComputedStyle(n.parentNode).overflowY;if(be.test(e))return n}n=n.parentNode}return t}function Ce(e){const[n,r]=t.useState();return t.useEffect((()=>{if(e){const t=c(e);r(xe(t))}}),[]),n}const _e=m?o.default.useLayoutEffect:o.default.useEffect,ke=(Ne=_e,(e,n)=>{const r=t.useRef(!1);Ne((()=>()=>{r.current=!1}),[]),Ne((()=>{if(r.current)return e();r.current=!0}),n)});var Ne;const Se=()=>{const[,e]=t.useState({});return t.useCallback((()=>e({})),[])};function Oe(e){const n=t.useRef(e);n.current=t.useMemo((()=>e),[e]);const r=t.useRef();return r.current||(r.current=function(...e){return n.current.apply(this,e)}),r.current}function Pe(e){const{value:n,defaultValue:r,onChange:a}=e,o=Se(),l=t.useRef(void 0!==n?n:r);void 0!==n&&(l.current=n);const s=Oe(((e,t)=>{const n="function"==typeof e?e(l.current):e;(t||n!==l.current)&&(l.current=n,o(),null==a||a(n))}));return[l.current,s]}var Me={useClickAway:u,useCountDown:ae,useEventListener:le,useFormSmart:function(e={}){const{value:n,sync:r}=e,a=t.useRef(null),[o,l]=t.useState(!1),s=t.useCallback((e=>{var t;null==(t=null==a?void 0:a.current)||t.setFieldsValue(e)}),[]),i=t.useCallback((e=>{var t;return null==(t=null==a?void 0:a.current)?void 0:t.getFieldValue(e)}),[]),c=t.useCallback((()=>{var e;null==(e=null==a?void 0:a.current)||e.submit()}),[]),u=t.useCallback((()=>{var e;null==(e=null==a?void 0:a.current)||e.resetFields()}),[]),d=t.useCallback((()=>{var e;return null==(e=null==a?void 0:a.current)?void 0:e.getFieldsValue()}),[]);return t.useEffect((()=>{var e;v(e=n)&&"{}"!==JSON.stringify(e)&&(r?s(n):o||(s(n),l(!0)))}),[n]),[a,{set:s,get:i,submit:c,clear:u,getAll:d}]},useSetState:ie,useUpdateEffect:ce,useMount:ue,usePageVisibility:function(){const[e,n]=t.useState("visible"),r=()=>{m&&n(document.hidden?"hidden":"visible")};return t.useEffect((()=>{r()}),[]),le("visibilitychange",r,{depends:[e]}),e},useVisibilityChange:de,useInViewport:ge,useTouch:ye,useScrollParent:Ce,useWindowSize:function(){const[e,n]=t.useState(m?window.innerWidth:0),[r,a]=t.useState(m?window.innerHeight:0),o=()=>{n(window.innerWidth),a(window.innerHeight)};return le("resize",o),le("orientationchange",o),{width:e,height:r}},useIsomorphicLayoutEffect:_e,useUpdate:Se,useMemoizedFn:Oe,usePropsValue:Pe};function Re(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Re(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ve(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Re(e))&&(r&&(r+=" "),r+=t);return r}const Te=({bem:e})=>o.default.createElement(o.default.Fragment,null,Array(12).fill(null).map(((t,n)=>o.default.createElement("i",{key:n,className:Ve(e("line",String(n+1)))})))),Ie=({bem:e})=>o.default.createElement("svg",{className:Ve(e("circular")),viewBox:"25 25 50 50"},o.default.createElement("circle",{cx:"50",cy:"50",r:"20",fill:"none"})),Fe=({bem:e})=>o.default.createElement("div",{className:Ve(e("ball"))},o.default.createElement("div",null),o.default.createElement("div",null),o.default.createElement("div",null)),[Ae]=w("loading"),je=e=>{const{className:n,type:r="circular",vertical:a,color:l,size:s,textColor:i,children:c,textSize:u}=e,d=t.useMemo((()=>__spreadValues({color:l},U(s))),[l,s]);return o.default.createElement("div",{className:Ve(n,Ae([r,{vertical:a}])),style:e.style},o.default.createElement("span",{className:Ve(Ae("spinner",r)),style:d},(f=Ae,{spinner:o.default.createElement(Te,{bem:f}),circular:o.default.createElement(Ie,{bem:f}),ball:o.default.createElement(Fe,{bem:f})})[r]),c?o.default.createElement("span",{className:Ve(Ae("text")),style:{fontSize:q(u),color:null!=i?i:l}},c):null);var f},De="rv-hairline",Le=`${De}--top`,$e=`${De}--left`,ze=`${De}--bottom`,He=`${De}--surround`,Be=`${De}--top-bottom`,qe=`${De}-unset--top-bottom`,Ue="__REACT_VANT_COMPONENT",We=o.default.createContext({}),[Ke]=w("button"),[Ye]=w("button-group"),Xe=Object.assign((e=>{const n=e,{color:r,loading:a,className:l,hairline:s,loadingText:i,round:c,square:u,plain:d,block:f,loadingType:m,nativeType:p,iconPosition:h}=n,v=__objRest(n,["color","loading","className","hairline","loadingText","round","square","plain","block","loadingType","nativeType","iconPosition"]),{parent:g}=t.useContext(We),y=o.default.useMemo((()=>e.size||(null==g?void 0:g.size)||"normal"),[null==g?void 0:g.size,e.size]),b=o.default.useMemo((()=>e.type||(null==g?void 0:g.type)||"default"),[null==g?void 0:g.type,e.type]),w=o.default.useMemo((()=>null!=d?d:null==g?void 0:g.plain),[null==g?void 0:g.plain,d]),E=o.default.useMemo((()=>null!=f?f:null==g?void 0:g.block),[null==g?void 0:g.block,f]),x=o.default.useMemo((()=>h||(null==g?void 0:g.iconPosition)||"left"),[null==g?void 0:g.iconPosition,h]),C=o.default.useMemo((()=>{var t;return null!=(t=e.disabled)?t:null==g?void 0:g.disabled}),[null==g?void 0:g.disabled,e.disabled]),_=o.default.useMemo((()=>p||(null==g?void 0:g.nativeType)||"button"),[null==g?void 0:g.nativeType,p]),k=o.default.useMemo((()=>e.tag||(null==g?void 0:g.tag)||"button"),[null==g?void 0:g.tag,e.tag]),N=Ve(l,Ke([b,y,{plain:w,loading:a,disabled:C,hairline:s,block:E,round:c,square:u}]),{[He]:s},e.shadow&&"rv-shadow--"+ +e.shadow),S=__spreadValues({},e.style);r&&(S.color=w?r:"#fff",w||(S.background=r),-1!==r.indexOf("gradient")?S.border=0:S.borderColor=r);const O=()=>e.loading?(()=>{if(a){const{loadingSize:t="20px"}=e;return o.default.createElement(je,{className:Ve(Ke("loading")),size:t,type:m,color:"default"===b?void 0:""})}return null})():e.icon?o.default.cloneElement(e.icon,{className:Ve(Ke("icon"))}):null;return o.default.createElement(k,__spreadProps(__spreadValues({},v),{disabled:C,className:N,style:S,type:_,onClick:t=>{a||C||!e.onClick||e.onClick(t)}}),o.default.createElement("div",{className:Ve(Ke("content"))},"left"===x&&O(),(()=>{let t;return t=a?i:e.children||e.text,t?o.default.createElement("span",{key:"text",className:Ve(Ke("text"))},t):null})(),"right"===x&&O()))}),{Group:e=>{var t=e,{className:n,style:r,children:a,onClick:l}=t,s=__objRest(t,["className","style","children","onClick"]);return o.default.createElement("div",{onClick:e=>{s.disabled||null==l||l(e)},style:r,className:Ve(n,Ye([s.type,{round:s.round,plain:s.plain,disabled:s.disabled}]),s.shadow&&"rv-shadow--"+ +s.shadow)},o.default.createElement(We.Provider,{value:{parent:s}},a))}});function Je(...e){const t=__spreadValues({},e[0]);return e.forEach((e=>{for(const n in e){const r=e[n];t[n]=t.hasOwnProperty(n)?t[n]:r}})),t}const[Ge]=w("badge"),Qe=e=>{const t=Je(e,{tag:"div",showZero:!0}),{content:n,max:r,dot:a,showZero:l,tag:s="div"}=t,i=s,c=()=>!!t.content||p(n)&&""!==n&&(l||0!=+n),u=()=>{if(c()||t.dot){let e={background:t.color};if(t.offset){const[n,r]=t.offset;t.children?(e.top=q(r),e.right=q(n)):(e.marginTop=q(r),e.marginLeft=q(n))}return t.children||(e=__spreadValues(__spreadValues({},t.style),e)),o.default.createElement("div",{className:Ve({[t.className]:t.className&&!t.children},Ge({dot:t.dot,fixed:!!t.children})),style:e},!a&&c()?p(r)&&H(null==n?void 0:n.toString())&&+n>r?`${r}+`:n:null)}return null};return t.children?o.default.createElement(i,{className:Ve(Ge("wrapper"),t.className),style:t.style,onClick:t.onClick,onTouchStart:t.onTouchStart},t.children,u()):u()};var Ze=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var et=o.default.forwardRef(((e,t)=>{const{name:n="",className:r,style:a,spin:l,rotate:s,tabIndex:i,onClick:c,children:u}=e,d=Ze(e,["name","className","style","spin","rotate","tabIndex","onClick","children"]),f={};s&&(f.msTransform=`rotate(${s}deg)`,f.transform=`rotate(${s}deg)`);const m=n?n.substring(3).replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""):void 0;let p=i;void 0===p&&c&&(p=-1);const h=Object.assign({role:"img","aria-label":m,focusable:"false","data-icon":m,"aria-hidden":"true",preserveAspectRatio:"xMidYMid meet",ref:t,tabIndex:p,onClick:c,className:["rv-icon",m?`rv-icon-${m}`:"",l?"rv-icon--spin":"",r].join(" ").trim(),style:Object.assign(Object.assign({},a),f)},d);return o.default.cloneElement(u,h)}));const tt=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("path",{d:"M494.094 733.426a41.472 41.472 0 01-20.023-11.126L140.16 388.388c-16.272-16.271-16.272-42.653 0-58.925 16.271-16.272 42.653-16.272 58.925 0L503.66 634.037 808.186 329.51c16.271-16.272 42.653-16.272 58.925 0s16.272 42.654 0 58.926L533.2 722.347c-10.607 10.607-25.508 14.3-39.106 11.08z",fillRule:"evenodd"}));var nt=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgArrowDown"},e,{ref:t}),l.createElement(tt,null))));const rt=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("path",{d:"M296.114 508.035c-3.22-13.597.473-28.499 11.079-39.105l333.912-333.912c16.271-16.272 42.653-16.272 58.925 0s16.272 42.654 0 58.926L395.504 498.47l304.574 304.574c16.272 16.272 16.272 42.654 0 58.926s-42.654 16.272-58.926 0L307.241 528.058a41.472 41.472 0 01-11.127-20.023z",fillRule:"evenodd"}));var at=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgArrowLeft"},e,{ref:t}),l.createElement(rt,null))));const ot=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("path",{d:"M513.176 285.05a41.472 41.472 0 0120.024 11.127L867.11 630.089c16.272 16.271 16.272 42.653 0 58.925s-42.654 16.272-58.925 0L503.612 384.44 199.085 688.967c-16.272 16.271-42.654 16.271-58.925 0-16.272-16.272-16.272-42.654 0-58.926L474.07 296.129c10.606-10.606 25.508-14.299 39.105-11.078z",fillRule:"evenodd"}));var lt=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgArrowUp"},e,{ref:t}),l.createElement(ot,null))));const st=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("path",{d:"M711.156 508.035a41.472 41.472 0 01-11.126 20.023L366.12 861.97c-16.272 16.272-42.654 16.272-58.926 0s-16.272-42.654 0-58.926L611.767 498.47 307.241 193.944c-16.272-16.272-16.272-42.654 0-58.926 16.271-16.272 42.653-16.272 58.925 0L700.078 468.93c10.606 10.606 14.299 25.508 11.078 39.105z",fillRule:"evenodd"}));var it=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgArrow"},e,{ref:t}),l.createElement(st,null))));const ct=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("g",{fillRule:"evenodd"},l.createElement("path",{d:"M500.445 56c245.46 0 444.445 198.985 444.445 444.445 0 245.46-198.985 444.445-444.445 444.445C254.985 944.89 56 745.905 56 500.445 56 254.985 254.985 56 500.445 56zm266.059 282.106c-5.706-5.318-15.835-5.814-22.457-1.049l-.308.227-294.172 222.751c-5.386 4.079-15.236 4.61-21.148 1.159l-.313-.189-111.327-69.351c-6.867-4.278-16.54-2.83-21.866 3.144l-.24.275-12.861 15.134c-5.423 6.38-4.52 15.259 1.484 21.081l.265.252 137.63 128.264c10.007 9.327 25.908 9.816 35.757.95l.306-.28 315.733-294.249c6.523-6.078 7.056-15.241 1.012-21.13l-.249-.236-7.246-6.753z"})));var ut=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgChecked"},e,{ref:t}),l.createElement(ct,null))));const dt=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("path",{d:"M500 55.556c245.46 0 444.444 198.984 444.444 444.444S745.46 944.444 500 944.444 55.556 745.46 55.556 500 254.54 55.556 500 55.556zm176.441 267.887c-10.848-10.848-28.436-10.848-39.284 0L499.665 460.936 362.172 323.443c-10.848-10.848-28.436-10.848-39.284 0-10.848 10.848-10.848 28.436 0 39.284L460.38 500.22 322.888 637.713c-10.848 10.848-10.848 28.436 0 39.284 10.848 10.848 28.436 10.848 39.284 0l137.493-137.493 137.492 137.493c10.848 10.848 28.436 10.848 39.284 0 10.848-10.848 10.848-28.436 0-39.284L538.948 500.22l137.493-137.493c10.848-10.848 10.848-28.436 0-39.284z",fillRule:"evenodd"}));var ft=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgClear"},e,{ref:t}),l.createElement(dt,null))));const mt=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("g",{fillRule:"evenodd"},l.createElement("path",{d:"M499.665 460.936l137.492-137.493c10.848-10.848 28.436-10.848 39.284 0 10.848 10.848 10.848 28.436 0 39.284L538.948 500.22l137.493 137.493c10.848 10.848 10.848 28.436 0 39.284-10.848 10.848-28.436 10.848-39.284 0L499.665 539.504 362.172 676.997c-10.848 10.848-28.436 10.848-39.284 0-10.848-10.848-10.848-28.436 0-39.284L460.38 500.22 322.888 362.727c-10.848-10.848-10.848-28.436 0-39.284 10.848-10.848 28.436-10.848 39.284 0l137.493 137.493z"}),l.createElement("path",{d:"M500 888.889c214.777 0 388.889-174.112 388.889-388.889 0-214.777-174.112-388.889-388.889-388.889-214.777 0-388.889 174.112-388.889 388.889 0 214.777 174.112 388.889 388.889 388.889zm0 55.555C254.54 944.444 55.556 745.46 55.556 500S254.54 55.556 500 55.556 944.444 254.54 944.444 500 745.46 944.444 500 944.444z",fillRule:"nonzero"})));var pt=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgClose"},e,{ref:t}),l.createElement(mt,null))));const ht=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("path",{d:"M560.149 501.223l255.344 255.344c16.272 16.272 16.272 42.654 0 58.926s-42.654 16.272-58.926 0L501.223 560.149 245.88 815.493c-16.272 16.272-42.654 16.272-58.925 0-16.272-16.272-16.272-42.654 0-58.926l255.344-255.344L186.954 245.88c-16.272-16.272-16.272-42.654 0-58.925 16.271-16.272 42.653-16.272 58.925 0l255.344 255.344 255.344-255.344c16.272-16.272 42.654-16.272 58.926 0 16.272 16.271 16.272 42.653 0 58.925L560.149 501.223z",fillRule:"nonzero"}));var vt=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgCross"},e,{ref:t}),l.createElement(ht,null))));const gt=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("path",{d:"M611.111 865.889V722.222h143.667L611.11 865.89zm-388.889 23V111.11h555.556v555.556H611.11c-30.722 0-55.555 24.833-55.555 55.555V888.89H222.222zM777.778 55.556H222.222c-30.722 0-55.555 24.833-55.555 55.555V888.89c0 30.722 24.833 55.555 55.555 55.555h365.89a55.505 55.505 0 0039.277-16.277l39.278-39.278 111.11-111.111 39.279-39.278c10.444-10.389 16.277-24.556 16.277-39.278v-588.11c0-30.723-24.833-55.556-55.555-55.556zm-138.89 166.672H361.112c-15.333 0-27.778 12.444-27.778 27.778 0 15.333 12.445 27.777 27.778 27.777H638.89c15.333 0 27.778-12.444 27.778-27.777 0-15.334-12.445-27.778-27.778-27.778m0 111.11H361.11c-15.333 0-27.778 12.445-27.778 27.779 0 15.333 12.445 27.777 27.778 27.777H638.89c15.333 0 27.778-12.444 27.778-27.777 0-15.334-12.445-27.778-27.778-27.778M527.778 444.45H361.11c-15.333 0-27.778 12.444-27.778 27.778 0 15.333 12.445 27.778 27.778 27.778h166.667c15.333 0 27.778-12.445 27.778-27.778 0-15.334-12.445-27.778-27.778-27.778",fillRule:"evenodd"}));var yt=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgDescription"},e,{ref:t}),l.createElement(gt,null))));const bt=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("g",{fillRule:"evenodd"},l.createElement("path",{d:"M166.667 166.667v666.666h666.666V166.667H166.667zm0-55.556h666.666c30.683 0 55.556 24.873 55.556 55.556v666.666c0 30.683-24.873 55.556-55.556 55.556H166.667c-30.683 0-55.556-24.873-55.556-55.556V166.667c0-30.683 24.873-55.556 55.556-55.556z",fillRule:"nonzero"}),l.createElement("path",{d:"M583.333 222.222H750c15.341 0 27.778 12.437 27.778 27.778S765.34 277.778 750 277.778H583.333c-15.34 0-27.777-12.437-27.777-27.778s12.436-27.778 27.777-27.778z"}),l.createElement("path",{d:"M750 222.222c15.341 0 27.778 12.437 27.778 27.778v166.667c0 15.34-12.437 27.777-27.778 27.777s-27.778-12.436-27.778-27.777V250c0-15.341 12.437-27.778 27.778-27.778z"}),l.createElement("path",{d:"M602.975 436.309c-10.848 10.847-28.436 10.847-39.284 0-10.847-10.848-10.847-28.436 0-39.284l166.667-166.667c10.848-10.848 28.436-10.848 39.284 0 10.848 10.848 10.848 28.436 0 39.284L602.975 436.309z",fillRule:"nonzero"}),l.createElement("g",null,l.createElement("path",{d:"M416.667 777.778H250c-15.341 0-27.778-12.437-27.778-27.778S234.66 722.222 250 722.222h166.667c15.34 0 27.777 12.437 27.777 27.778s-12.436 27.778-27.777 27.778z"}),l.createElement("path",{d:"M250 777.778c-15.341 0-27.778-12.437-27.778-27.778V583.333c0-15.34 12.437-27.777 27.778-27.777s27.778 12.436 27.778 27.777V750c0 15.341-12.437 27.778-27.778 27.778z"}),l.createElement("path",{d:"M397.025 563.691c10.848-10.847 28.436-10.847 39.284 0 10.847 10.848 10.847 28.436 0 39.284L269.642 769.642c-10.848 10.848-28.436 10.848-39.284 0-10.848-10.848-10.848-28.436 0-39.284l166.667-166.667z",fillRule:"nonzero"}))));var wt=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgExpandO"},e,{ref:t}),l.createElement(bt,null))));const Et=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("path",{d:"M389.334 167l-18.5 55.556H111.556v388.889l71.833-71.833c20.051-20.052 51.558-21.594 73.372-4.628l5.24 4.628 71.777 71.833 102.89-123.5L556 667l-55.556 166.667h-388.89c-28.476 0-51.97-21.46-55.181-49.08L56 778.112V222.556c0-28.528 21.46-51.978 49.08-55.183l6.476-.373h277.778zm500 0c28.528 0 51.978 21.412 55.183 49.07l.373 6.486v555.556c0 28.476-21.412 51.97-49.07 55.182l-6.486.374H611.556L667.112 667 498.389 413.889l71.112-85.278c20.533-24.681 57.182-26.569 80.135-5.481l4.698 4.87 235 274.167V222.556H481.945l18.5-55.556h388.89zM306.028 278.089c15.508 0 30.03 4.243 42.47 11.63l-14.72 43.948 45.282 67.904c-14.188 25.737-41.585 43.185-73.032 43.185-46 0-83.333-37.333-83.333-83.334 0-46 37.333-83.333 83.333-83.333z",fillRule:"evenodd"}));var xt=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgPhotoFail"},e,{ref:t}),l.createElement(Et,null))));const Ct=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("path",{d:"M305.583 277.756c-46 0-83.333 37.333-83.333 83.333s37.333 83.333 83.333 83.333 83.334-37.333 83.334-83.333-37.334-83.333-83.334-83.333m348.306 49.91c-22.333-26.11-62.833-25.833-84.833.612L333.333 611.11l-71.777-71.833c-21.723-21.722-56.89-21.722-78.612 0l-71.833 71.833V222.222H888.89v379.611l-235-274.166zm235-161H111.11c-30.667 0-55.555 24.834-55.555 55.556v555.555c0 30.667 24.888 55.556 55.555 55.556H888.89c30.722 0 55.555-24.889 55.555-55.555V222.222c0-30.722-24.833-55.555-55.555-55.555z",fillRule:"evenodd"}));var _t=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgPhoto"},e,{ref:t}),l.createElement(Ct,null))));const kt=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("path",{d:"M618.416 111.111a55.556 55.556 0 0146.225 24.739l57.581 86.372H888.89c30.682 0 55.555 24.873 55.555 55.556v555.555c0 30.683-24.873 55.556-55.555 55.556H111.11c-30.682 0-55.555-24.873-55.555-55.556V277.778c0-30.683 24.873-55.556 55.555-55.556h166.667l57.581-86.372a55.556 55.556 0 0146.225-24.739h236.832zM500 333.333c-122.73 0-222.222 99.493-222.222 222.223 0 122.73 99.492 222.222 222.222 222.222s222.222-99.493 222.222-222.222c0-122.73-99.492-222.223-222.222-222.223zm0 111.111c61.365 0 111.111 49.747 111.111 111.112 0 61.365-49.746 111.11-111.111 111.11s-111.111-49.745-111.111-111.11S438.635 444.444 500 444.444z",fillRule:"evenodd"}));var Nt=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgPhotograph"},e,{ref:t}),l.createElement(kt,null))));const St=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("path",{d:"M500 888.889c-214.389 0-388.889-174.5-388.889-388.889S285.611 111.111 500 111.111 888.889 285.611 888.889 500 714.389 888.889 500 888.889m0-833.333c-245.444 0-444.444 199-444.444 444.444 0 245.444 199 444.444 444.444 444.444 245.444 0 444.444-199 444.444-444.444 0-245.444-199-444.444-444.444-444.444m6.456 222.222c-44.612 0-80 12.778-105.612 39.055-26.277 25.667-39.055 60.445-39.055 105.056v1c0 17.944 14.444 32.444 32.389 32.444 17.889 0 32.389-14.5 32.389-32.444 0-.389-.111-1-.111-1 0-26.945 5.444-48.222 16.444-62.889 12.222-17.111 32.333-25.667 59.889-25.667 21.944 0 39.055 6.111 51.222 18.334 11.611 12.222 17.778 28.722 17.778 50.055 0 15.89-5.556 30.5-16.556 44.556l-10.389 11.61c-37.777 33.556-60.333 59-69.61 75.668-13.834 24.944-11.334 48-11.334 48 0 17.888 14.556 32.388 32.444 32.388 17.945 0 29.778-12.333 32.39-32.388 0 0 3.333-18.667 10.055-30.89 5.5-10.944 14.055-21.388 25-31.11 29.389-25.056 46.444-40.945 51.889-47.667 14.666-19.5 22.555-44.556 22.555-74.445 0-36.61-12.166-65.944-35.944-87.333-24.445-21.944-56.167-32.333-95.833-32.333m-10.417 357.15c-12.778 0-23.222 3.666-31.111 12.222-9.222 7.889-13.5 18.333-13.5 31.111 0 12.222 4.278 22.611 13.5 31.167 7.889 8.5 18.333 12.778 31.11 12.778 12.279 0 23.223-4.278 32.39-12.167 8.5-8.611 12.778-18.945 12.778-31.778 0-12.778-4.278-23.222-12.778-31.111-8.556-8.556-19.556-12.222-32.39-12.222",fillRule:"evenodd"}));var Ot=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgQuestionO"},e,{ref:t}),l.createElement(St,null))));const Pt=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("path",{d:"M402.785 654.797c138.071 0 250-111.929 250-250s-111.929-250-250-250-250 111.929-250 250 111.929 250 250 250zm236.179-56.12l249.678 249.678c10.848 10.848 10.848 28.436 0 39.284-10.847 10.848-28.435 10.848-39.283 0L599.954 638.234c-53.216 44.993-122.025 72.119-197.169 72.119-168.753 0-305.555-136.802-305.555-305.556S234.032 99.242 402.785 99.242c168.754 0 305.556 136.801 305.556 305.555 0 73.605-26.026 141.132-69.377 193.88z",fillRule:"nonzero"}));var Mt=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgSearch"},e,{ref:t}),l.createElement(Pt,null))));const Rt=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("path",{d:"M703.801 621.775l166.747-186.618-244.592-52.965L500 165.938 374.044 382.192l-244.592 52.965 166.747 186.618-25.21 248.988L500 769.845l229.011 100.918-25.21-248.988zM500 830.555L249.75 940.833c-14.04 6.187-30.435-.179-36.621-14.217a27.778 27.778 0 01-2.217-14l27.547-272.08L56.25 436.61c-10.223-11.44-9.235-29 2.205-39.222a27.778 27.778 0 0112.629-6.434l267.276-57.878 137.638-236.31c7.721-13.256 24.727-17.743 37.984-10.022a27.778 27.778 0 0110.022 10.022l137.638 236.31 267.276 57.878c14.994 3.246 24.517 18.033 21.27 33.027a27.778 27.778 0 01-6.435 12.63L761.54 640.534l27.547 272.08c1.546 15.263-9.575 28.89-24.838 30.435-4.78.484-9.603-.28-14-2.218L500 830.556z",fillRule:"nonzero"}));var Vt=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgStarO"},e,{ref:t}),l.createElement(Rt,null))));const Tt=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("path",{d:"M500 817.591L249.75 927.868c-14.04 6.186-30.435-.18-36.621-14.218a27.778 27.778 0 01-2.217-14l27.547-272.08L56.25 423.647c-10.223-11.44-9.235-29 2.205-39.222a27.778 27.778 0 0112.629-6.435l267.276-57.878 137.638-236.31c7.721-13.256 24.727-17.743 37.984-10.022a27.778 27.778 0 0110.022 10.023l137.638 236.31 267.276 57.877c14.994 3.247 24.517 18.034 21.27 33.027a27.778 27.778 0 01-6.435 12.63L761.54 627.57l27.547 272.08c1.546 15.263-9.575 28.889-24.838 30.434-4.78.484-9.603-.28-14-2.217L500 817.59z",fillRule:"evenodd"}));var It=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgStar"},e,{ref:t}),l.createElement(Tt,null))));const Ft=e=>l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.createElement("path",{d:"M119.415 524.046c-9.708-9.693-11.278-24.766-2.72-35.554l20.007-25.223c8.201-10.34 23.543-12.936 34.386-5.699l173.175 115.585c9.134 6.097 24.856 5.303 33.384-1.616l457.6-371.25c10.286-8.345 26.397-7.634 35.412 1.368l11.272 11.255c9.81 9.795 9.096 25.343-1.187 35.611l-491.14 490.414c-15.28 15.258-40.369 14.59-56.099-1.116l-214.09-213.775z",fillRule:"nonzero"}));var At=l.forwardRef(((e,t)=>l.createElement(et,Object.assign({name:"SvgSuccess"},e,{ref:t}),l.createElement(Ft,null))));const[jt]=w("cell-group"),Dt=e=>{const t=Je(e,{border:!0}),{title:n,border:r,inset:a,card:l}=t,s=l||a;return o.default.createElement("div",{className:t.className,style:t.style},n?o.default.createElement("div",{className:Ve(jt("title"))},n):null,o.default.createElement("div",{className:Ve(jt({inset:s}),{[Be]:!s&&r})},t.children))},[Lt]=w("cell"),$t=Object.assign((e=>{const{className:t,style:n,size:r,center:a,border:l=!0,isLink:s,required:i,onClick:c}=e,u=s||e.clickable,d={center:a,required:i,clickable:u,borderless:!l};return r&&(d[r]=!!r),o.default.createElement("div",{style:n,className:Ve(Lt(d),t),role:u?"button":void 0,onClick:c},e.icon?o.default.cloneElement(e.icon,{className:Ve(Lt("left-icon"))}):null,p(e.title)?o.default.createElement("div",{className:Ve(Lt("title"),e.titleClass),style:e.titleStyle},e.title,p(e.label)?o.default.createElement("div",{className:Ve(Lt("label"),e.labelClass)},e.label):null):null,(()=>{const t=p(e.title);return p(e.children)||p(e.value)?o.default.createElement("div",{className:Ve(Lt("value",{alone:!t}),e.valueClass)},p(e.children)?e.children:o.default.createElement("span",null,e.value)):null})(),(()=>{if(e.rightIcon)return e.rightIcon;if(e.isLink){const t=Ve(Lt("right-icon"));return"left"===e.arrowDirection?o.default.createElement(at,{className:t}):"up"===e.arrowDirection?o.default.createElement(lt,{className:t}):"down"===e.arrowDirection?o.default.createElement(nt,{className:t}):o.default.createElement(it,{className:t})}return null})(),e.extra)}),{Group:Dt});function zt(){return zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zt.apply(this,arguments)}function Ht(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Bt(e,t)}function Ut(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Wt=!1,Kt=o.default.createContext(null),Yt="unmounted",Xt="exited",Jt="entering",Gt="entered",Qt="exiting",Zt=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var a,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(a=Xt,r.appearStatus=Jt):a=Gt:a=t.unmountOnExit||t.mountOnEnter?Yt:Xt,r.state={status:a},r.nextCallback=null,r}qt(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Yt?{status:Xt}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Jt&&n!==Gt&&(t=Jt):n!==Jt&&n!==Gt||(t=Qt)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Jt?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Xt&&this.setState({status:Yt})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[s.default.findDOMNode(this),r],o=a[0],l=a[1],i=this.getTimeouts(),c=r?i.appear:i.enter;!e&&!n||Wt?this.safeSetState({status:Gt},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,l),this.safeSetState({status:Jt},(function(){t.props.onEntering(o,l),t.onTransitionEnd(c,(function(){t.safeSetState({status:Gt},(function(){t.props.onEntered(o,l)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.default.findDOMNode(this);t&&!Wt?(this.props.onExit(r),this.safeSetState({status:Qt},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Xt},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Xt},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.default.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],l=a[1];this.props.addEndListener(o,l)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Yt)return null;var t=this.props,n=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var r=Ht(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return o.default.createElement(Kt.Provider,{value:null},"function"==typeof n?n(e,r):o.default.cloneElement(o.default.Children.only(n),r))},t}(o.default.Component);function en(){}Zt.contextType=Kt,Zt.propTypes={},Zt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:en,onEntering:en,onEntered:en,onExit:en,onExiting:en,onExited:en},Zt.UNMOUNTED=Yt,Zt.EXITED=Xt,Zt.ENTERING=Jt,Zt.ENTERED=Gt,Zt.EXITING=Qt;var tn=Zt,nn=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=Ut(n.className,r):n.setAttribute("class",Ut(n.className&&n.className.baseVal||"",r)));var n,r}))},rn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),a=r[0],o=r[1];t.removeClasses(a,"exit"),t.addClass(a,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),a=r[0],o=r[1]?"appear":"enter";t.addClass(a,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),a=r[0],o=r[1]?"appear":"enter";t.removeClasses(a,o),t.addClass(a,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,a=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:a,activeClassName:r?a+"-active":n[e+"Active"],doneClassName:r?a+"-done":n[e+"Done"]}},t}qt(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&a&&(r+=" "+a),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,a=n.active,o=n.done;this.appliedClasses[t]={},r&&nn(e,r),a&&nn(e,a),o&&nn(e,o)},n.render=function(){var e=this.props;e.classNames;var t=Ht(e,["classNames"]);return o.default.createElement(tn,zt({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(o.default.Component);rn.defaultProps={classNames:""},rn.propTypes={};var an=rn;function on(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}const[ln]=w("overlay"),sn=e=>{const n=t.useRef(null),r=Je(e,{stopPropagation:["click"],lockScroll:!0,duration:300}),{visible:a,duration:l}=r;return le("touchmove",(e=>{r.lockScroll&&x(e,!0)}),{target:n}),o.default.createElement(an,{nodeRef:n,mountOnEnter:!0,unmountOnExit:!0,in:a,timeout:l,classNames:"rv-fade"},(()=>{const e=__spreadValues(__spreadValues({zIndex:void 0!==r.zIndex?+r.zIndex:void 0,touchAction:r.lockScroll&&"none"},r.style),r.customStyle);return p(l)&&(e.animationDuration=`${l}ms`),_(r.stopPropagation,o.default.createElement("div",{ref:n,style:e,onClick:e=>{var t;e.target===e.currentTarget&&(null==(t=r.onClick)||t.call(r,e))},className:Ve(ln(),r.className)},r.children))})())};function cn(e){const{interceptor:t,args:n,done:r,canceled:a}=e;if(t){const e=t.apply(null,n||[]);v(o=e)&&h(o.then)&&h(o.catch)?e.then((e=>{e?r():a&&a()})).catch(d):e?r():a&&a()}else r();var o}function un(e){return("function"==typeof e?e():e)||document.body}function dn(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}function fn(e,t){if(dn()&&e){const r=un(e);return n.createPortal(t,r)}return t}const mn=t.createContext({});let pn=!1;if(dn())try{const e={};Object.defineProperty(e,"passive",{get(){pn=!0}}),window.addEventListener("test-passive",null,e)}catch(yv){}let hn=0;const vn="rv-overflow-hidden";function gn(e,n){const r=ye(),a=t=>{r.move(t);const n=r.deltaY.current>0?"10":"01",a=xe(t.target,e.current);if(!a)return;const{scrollHeight:o,offsetHeight:l,scrollTop:s}=a;let i="11";0===s?i=l>=o?"00":"01":s+l>=o&&(i="10"),"11"===i||!r.isVertical()||parseInt(i,2)&parseInt(n,2)||t.cancelable&&t.preventDefault()};t.useEffect((()=>{if(n)return document.addEventListener("touchstart",r.start),document.addEventListener("touchmove",a,!!pn&&{passive:!1}),hn||document.body.classList.add(vn),hn++,()=>{hn&&(document.removeEventListener("touchstart",r.start),document.removeEventListener("touchmove",a),hn--,hn||document.body.classList.remove(vn))}}),[n])}const yn=["round","zIndex","closeable","overlay","overlayClass","overlayStyle","destroyOnClose","forceRender","lockScroll","duration","transition","closeOnClickOverlay","closeOnPopstate","onClickOverlay","safeAreaInsetBottom","onOpen","onClose","onOpened","onClosed","beforeClose"];let bn=2e3;const[wn]=w("popup"),En=t.forwardRef(((e,n)=>{var r;const a=Je(e,{duration:300,overlay:!0,lockScroll:!0,position:"center",closeIcon:o.default.createElement(vt,null),closeIconPosition:"top-right",closeOnClickOverlay:!0,stopPropagation:["click"],teleport:()=>document.body}),{round:l,closeable:s,title:i,description:c,children:u,duration:d,closeIcon:f,position:m}=a,h=t.useRef(!1),v=t.useRef(null!=(r=a.zIndex)?r:bn),g=t.useRef(),[y,b]=t.useState(a.visible),[w,E]=t.useState(y),x=t.useMemo((()=>{const e=__spreadValues({zIndex:v.current},a.style);if(p(a.duration)){e["center"===a.position?"animationDuration":"transitionDuration"]=`${a.duration}ms`}return e}),[v.current,a.position,a.style,a.duration]),C=()=>{var e;void 0!==a.zIndex?v.current=+a.zIndex:v.current=bn++,h.current=!0,null==(e=a.onOpen)||e.call(a)},k=()=>{cn({interceptor:a.beforeClose,args:["close"],done:()=>{var e;h.current=!1,null==(e=a.onClose)||e.call(a)}})},N=e=>{var t;null==(t=a.onClickOverlay)||t.call(a,e),a.closeOnClickOverlay&&k()},S=e=>{a.onClickCloseIcon&&a.onClickCloseIcon(e),k()},O=()=>{const{safeAreaInsetBottom:e}=a;return _(a.stopPropagation,o.default.createElement("div",{ref:g,style:__spreadProps(__spreadValues({},x),{display:y||w?void 0:"none"}),className:Ve(wn({round:l,[m]:m}),{"rv-safe-area-bottom":e},a.className),onClick:a.onClick},i?o.default.createElement("div",{className:Ve(wn("title"))},i):null,c?o.default.createElement("div",{className:Ve(wn("description"))},c):null,u,(()=>{if(s){const{closeIconPosition:e}=a;return f?o.default.createElement("div",{className:Ve(wn("close-icon",e)),onClick:S},f):null}return null})()))};return le("popstate",(()=>{a.closeOnPopstate&&k()})),_e((()=>{y&&E(!0)}),[y]),_e((()=>{b(a.visible)}),[a.visible]),gn(g,y&&a.lockScroll),t.useImperativeHandle(n,(()=>({popupRef:g}))),fn(a.teleport,o.default.createElement(mn.Provider,{value:{visible:y}},a.overlay?o.default.createElement(sn,{visible:y,className:a.overlayClass,customStyle:a.overlayStyle,zIndex:v.current,duration:d,onClick:N}):null,(()=>{const{transition:e,destroyOnClose:t,forceRender:n}=a,r="center"===m?"rv-fade":`rv-popup-slide-${m}`;return o.default.createElement(an,{in:y,nodeRef:g,timeout:d,classNames:e||r,mountOnEnter:!n,unmountOnExit:t,onEnter:C,onEntered:a.onOpened,onExited:()=>{var e;E(!1),null==(e=a.onClosed)||e.call(a)}},O())})()))}));const xn=t.createContext({}),[Cn]=w("action-bar"),[_n]=w("action-bar-icon"),[kn]=w("action-bar-button"),Nn=Object.assign((e=>{const{type:n,icon:r,text:a,color:l,loading:s,disabled:i,index:c}=e,{parent:u}=t.useContext(xn),d=t.useMemo((()=>{if(u){const e=u.children[c-1];return!(e&&"isButton"in e.type)}return!1}),[c,u]),f=t.useMemo((()=>{if(u){const e=u.children[c+1];return!(e&&"isButton"in e.type)}return!1}),[c,u]);return o.default.createElement(Xe,{className:Ve(e.className,kn([n,{last:f,first:d}])),style:e.style,size:"large",type:n,icon:r,color:l,loading:s,disabled:i,onClick:e.onClick},e.children?e.children:a)}),{isButton:!0}),Sn=Object.assign((e=>{const n=Je(e,{safeAreaInsetBottom:!0}),r=t.useMemo((()=>o.default.Children.toArray(n.children)),[n.children]);return o.default.createElement(xn.Provider,{value:{parent:{children:r}}},o.default.createElement("div",{className:Ve(n.className,Cn(),{"rv-safe-area-bottom":n.safeAreaInsetBottom}),style:n.style},o.default.Children.toArray(n.children).filter(Boolean).map(((e,t)=>o.default.cloneElement(e,{index:t})))))}),{Icon:e=>o.default.createElement("div",{role:"button",className:Ve(e.className,_n()),style:e.style,tabIndex:0,onClick:e.onClick},(()=>{const{badge:t,icon:n}=e;return n?o.default.createElement(Qe,__spreadProps(__spreadValues({},t),{className:Ve(_n("icon"))}),n):null})(),e.children||e.text),Button:Nn});function On(e,t){return Object.keys(t).forEach((n=>{!function(e,t,n){const r=t[n];p(r)&&(Object.prototype.hasOwnProperty.call(e,n)&&v(r)?e[n]=On(Object(e[n]),t[n]):e[n]=r)}(e,t,n)})),e}const Pn={locale:On({name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",confirm:"确定",startEnd:"开始/结束",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanPicker:{select:"请选择"},vanContactCard:{addText:"添加联系人"},vanContactList:{addText:"新建联系人"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新...",loading:"加载中..."},vanSubmitBar:{label:"合计："},vanCoupon:{unlimited:"无使用门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用优惠券",enable:"可用",disabled:"不可用",placeholder:"请输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码不正确",defaultAddress:"设为默认收货地址"},vanAddressEditDetail:{label:"详细地址",placeholder:"街道门牌信息"},vanAddressList:{add:"新增地址"}},{})},Mn=t.createContext(Pn),[Rn]=w("dialog"),Vn=e=>{const{locale:n}=t.useContext(Mn),r=Je(e,{transition:"rv-dialog-bounce",showConfirmButton:!0,closeOnPopstate:!0}),a=r,{width:l,title:s,theme:i,visible:c,message:u,className:f,messageAlign:m,closeOnClickOverlay:p,onClickCloseIcon:h}=a,v=__objRest(a,["width","title","theme","visible","message","className","messageAlign","closeOnClickOverlay","onClickCloseIcon"]);return o.default.createElement(En,__spreadProps(__spreadValues({},v),{visible:c,className:Ve(Rn([i]),f),style:{width:q(l)},"aria-labelledby":s||u,closeOnClickOverlay:p,onClickCloseIcon:h,onClose:r.onClose,onClosed:r.onClosed}),r.title?o.default.createElement("div",{className:Ve(Rn("header",{isolated:!r.message&&!r.children}))},s):null,r.children?o.default.createElement("div",{className:Ve(Rn("content"))},r.children):u?o.default.createElement("div",{className:Ve(Rn("content",{isolated:!s}))},o.default.createElement("div",{className:Ve(Rn("message",{"has-title":s,[m]:m}))},u)):null,r.footer?r.footer:"round-button"===r.theme?o.default.createElement(Sn,{className:Ve(Rn("footer"))},r.showCancelButton&&o.default.createElement(Sn.Button,{type:"warning",text:r.cancelButtonText||n.cancel,className:Ve(Rn("cancel")),color:r.cancelButtonColor,loading:null==(g=r.cancelProps)?void 0:g.loading,disabled:null==(y=r.cancelProps)?void 0:y.disabled,onClick:(null==(b=r.cancelProps)?void 0:b.loading)?d:r.onCancel}),r.showConfirmButton&&o.default.createElement(Sn.Button,{type:"danger",text:r.confirmButtonText||n.confirm,className:Ve(Rn("confirm")),color:r.confirmButtonColor,loading:null==(w=r.confirmProps)?void 0:w.loading,disabled:null==(E=r.confirmProps)?void 0:E.disabled,onClick:(null==(x=r.confirmProps)?void 0:x.loading)?d:r.onConfirm})):(()=>{var e,t,a,l,s,c;return o.default.createElement("div",{className:Ve(Le,Rn("footer"))},r.showCancelButton&&o.default.createElement(Xe,{size:"large",text:r.cancelButtonText||n.cancel,className:Ve(Rn("cancel")),style:{color:r.cancelButtonColor},loading:null==(e=r.cancelProps)?void 0:e.loading,disabled:null==(t=r.cancelProps)?void 0:t.disabled,onClick:(null==(a=r.cancelProps)?void 0:a.loading)?d:r.onCancel}),r.showConfirmButton&&o.default.createElement(Xe,{size:"large",text:r.confirmButtonText||n.confirm,className:Ve(Rn("confirm"),{[$e]:r.showCancelButton}),round:"round-button"===i||void 0,style:{color:r.confirmButtonColor},loading:null==(l=r.confirmProps)?void 0:l.loading,disabled:null==(s=r.confirmProps)?void 0:s.disabled,onClick:(null==(c=r.confirmProps)?void 0:c.loading)?d:r.onConfirm}))})());var g,y,b,w,E,x};Number((t.version||"").split(".")[0]);const Tn=Number((n.version||"").split(".")[0]),In=__spreadValues({},i),{render:Fn,unmountComponentAtNode:An}=In;let jn;try{Tn>=18&&In.createRoot&&(jn=In.createRoot)}catch(yv){}function Dn(e){const{__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:t}=In;t&&"object"==typeof t&&(t.usingClientEntryPoint=e)}const Ln="__react_vant_root__";function $n(e,t){jn?function(e,t){Dn(!0);const n=t[Ln]||jn(t);Dn(!1),n.render(e),t[Ln]=n}(e,t):function(e,t){Fn(e,t)}(e,t)}function zn(e){return jn?async function(e){return Promise.resolve().then((()=>{var t;null==(t=e[Ln])||t.unmount(),delete e[Ln]}))}(e):function(e){return An(e)}(e)}const Hn=Vn;Hn.show=e=>{if(!dn())return null;const n={overlay:!0,closeable:!1,closeIcon:o.default.createElement(vt,null),lockScroll:!0,transition:"rv-dialog-bounce",showConfirmButton:!0,showCancelButton:!1,closeOnClickOverlay:!1},r=e,{onClosed:a,onCancel:l=d,onConfirm:s=d,onClose:i=d,cancelProps:c,confirmProps:u}=r,f=__objRest(r,["onClosed","onCancel","onConfirm","onClose","cancelProps","confirmProps"]),m=un(e.teleport),p=document.createElement("div");m.appendChild(p);let h=d;const v=()=>{const[e,r]=t.useState(!1),[d,m]=t.useState(!1),[v,g]=t.useState(!1);t.useEffect((()=>{r(!0)}),[]),h=()=>{r(!1),i&&i()};return o.default.createElement(Vn,__spreadProps(__spreadValues(__spreadValues({},n),f),{visible:e,teleport:()=>p,cancelProps:__spreadValues({loading:d},c),confirmProps:__spreadValues({loading:v},u),onClose:h,onCancel:async(e,t)=>{if(t)return void h();const n=setTimeout((()=>m(!0)));!1!==await l(e)?(clearTimeout(n),h()):(clearTimeout(n),m(!1))},onConfirm:async e=>{const t=setTimeout((()=>g(!0)));!1!==await s(e)?(clearTimeout(t),h()):(clearTimeout(t),g(!1))},onClosed:()=>{a&&a();zn(p)&&p.parentNode&&p.parentNode.removeChild(p)}}))};return $n(o.default.createElement(v,null),p),h},Hn.alert=e=>{const{onConfirm:t=d}=e;return new Promise((n=>{Hn.show(__spreadProps(__spreadValues({},e),{onConfirm:e=>{t(e),n(e)}}))}))},Hn.confirm=e=>{const{onCancel:t=d,onConfirm:n=d}=e;return new Promise(((r,a)=>{Hn.show(__spreadProps(__spreadValues({showCancelButton:!0},e),{onCancel:e=>{t(e),a()},onConfirm:e=>{n(e),r(!0)}}))}))};const[Bn]=w("input"),qn=t.forwardRef(((e,n)=>{const r=Je(e,{clearIcon:o.default.createElement(ft,null),clearTrigger:"focus",defaultValue:""}),a=t.useRef(),[l,s]=t.useState(!1),i=t.useRef(!1),[c,u]=Pe(r),{className:d,style:f,align:m,type:h,name:v,placeholder:g,disabled:y,readOnly:b,maxLength:w,autoFocus:E}=r,C=()=>{(null==a?void 0:a.current)&&a.current.focus()},_=()=>{(null==a?void 0:a.current)&&a.current.blur()};t.useImperativeHandle(n,(()=>({clear:()=>{u("")},focus:C,blur:_,get nativeElement(){return a.current}})));const k=t.useMemo((()=>{if(r.clearable&&!b){const e=""!==c,t="always"===r.clearTrigger||"focus"===r.clearTrigger&&l;return e&&t}return!1}),[c,r.clearTrigger,l]),N=e=>{var t;let n=e;if(!i.current&&(p(w)&&n.length>+w&&(n=n.slice(0,w),null==(t=r.onOverlimit)||t.call(r)),"number"===h||"digit"===h)){const e="number"===h;n=Q(n,e,e)}u(n)},S=e=>{var t;s(!0),null==(t=r.onFocus)||t.call(r,e),b&&_()},O=e=>{var t;s(!1),null==(t=r.onBlur)||t.call(r,e),$()},P=e=>{var t;"Enter"!==e.key&&13!=+e.charCode||(x(e),"search"===r.type&&_()),null==(t=r.onKeyPress)||t.call(r,e)};return o.default.createElement("div",{className:Ve(Bn([m]),d),style:f},r.prefix&&o.default.createElement("div",{className:Ve(Bn("prefix"))},r.prefix),(()=>{let e,t=h;return"number"===h&&(t="text",e="decimal"),"digit"===h&&(t="tel",e="numeric"),o.default.createElement("input",{value:c,type:t,inputMode:e,ref:a,name:v,className:Ve(Bn("control")),disabled:y,autoFocus:E,readOnly:b,placeholder:g||"",onBlur:O,onFocus:S,onChange:e=>{var t;return N(null==(t=null==e?void 0:e.currentTarget)?void 0:t.value)},onKeyPress:P,autoCapitalize:r.autoCapitalize,autoCorrect:r.autoCorrect,onKeyDown:r.onKeyDown,onKeyUp:r.onKeyUp,onCompositionStart:e=>{var t;i.current=!0,null==(t=r.onCompositionStart)||t.call(r,e)},onCompositionEnd:e=>{var t,n;i.current=!1,null==(t=r.onCompositionEnd)||t.call(r,e),N(null==(n=null==e?void 0:e.currentTarget)?void 0:n.value)},onClick:r.onClick})})(),k&&o.default.cloneElement(r.clearIcon||o.default.createElement(ft,null),{className:Ve(Bn("clear")),onTouchStart:e=>{var t;u(""),null==(t=r.onClear)||t.call(r,e)}}),r.suffix&&o.default.createElement("div",{className:Ve(Bn("suffix"))},r.suffix))})),[Un]=w("textarea"),Wn=t.forwardRef(((e,n)=>{const r=Je(e,{rows:2,clearIcon:o.default.createElement(ft,null),clearTrigger:"focus",defaultValue:""}),[a,l]=t.useState(!1),s=t.useRef(),i=t.useRef(!1),[c,u]=Pe(r),{className:d,style:f,name:m,rows:h,placeholder:g,disabled:y,readOnly:b,maxLength:w,showWordLimit:E,autoFocus:x}=r,C=()=>{(null==s?void 0:s.current)&&s.current.focus()},_=()=>{(null==s?void 0:s.current)&&s.current.blur()};t.useImperativeHandle(n,(()=>({clear:()=>{u("")},focus:C,blur:_,get nativeElement(){return s.current}})));t.useEffect((()=>{(()=>{const e=s.current;if(!e)return;e.style.height="auto";let t=e.scrollHeight;if(v(r.autoSize)){const{maxHeight:e,minHeight:n}=r.autoSize;e&&(t=Math.min(t,e)),n&&(t=Math.max(t,n))}t&&(e.style.height=`${t}px`)})()}),[c]);const k=o.default.useMemo((()=>Un("control",[{"min-height":!r.autoSize,clear:r.clearable}])),[r.autoSize]),N=e=>{var t;let n=e;i.current||p(w)&&n.length>+w&&(n=n.slice(0,w),null==(t=r.onOverlimit)||t.call(r)),u(n)},S=t.useMemo((()=>{if(r.clearable&&!b){const e=""!==c,t="always"===r.clearTrigger||"focus"===r.clearTrigger&&a;return e&&t}return!1}),[c,r.clearTrigger,a]);return o.default.createElement("div",{className:Ve(Un(),d),style:f},o.default.createElement("textarea",{ref:s,name:m,rows:h,className:Ve(k),value:c,disabled:y,autoFocus:x,readOnly:b,placeholder:g||"",onBlur:e=>{var t;l(!1),null==(t=r.onBlur)||t.call(r,e),$()},onFocus:e=>{var t;l(!0),null==(t=r.onFocus)||t.call(r,e),b&&_()},onChange:e=>{var t;return N(null==(t=null==e?void 0:e.currentTarget)?void 0:t.value)},onKeyPress:r.onKeyPress,onKeyDown:r.onKeyDown,onKeyUp:r.onKeyUp,autoComplete:r.autoComplete,onCompositionStart:e=>{var t;i.current=!0,null==(t=r.onCompositionStart)||t.call(r,e)},onCompositionEnd:e=>{var t,n;i.current=!1,null==(t=r.onCompositionEnd)||t.call(r,e),N(null==(n=null==e?void 0:e.currentTarget)?void 0:n.value)},onClick:r.onClick}),S&&o.default.cloneElement(r.clearIcon,{className:Ve(Un("clear")),onTouchStart:e=>{var t;u(""),null==(t=r.onClear)||t.call(r,e)}}),(()=>{if(E){const e=(c?`${c}`:"").length;return o.default.createElement("div",{className:Ve(Un("word-limit"))},"function"==typeof E?E({currentCount:e,maxLength:w}):o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{className:Ve(Un("word-num"))},e),!!w&&`/${w}`))}return null})())}));const Kn=Object.assign(qn,{TextArea:Wn}),[Yn]=w("field"),Xn=t.forwardRef(((e,n)=>{var r;const a=Je(e,{clearIcon:o.default.createElement(ft,null),clearTrigger:"focus",formatTrigger:"onChange",defaultValue:""}),l=t.useRef(null),s=t.useRef(null),i="textarea"===a.type?s:l,c=()=>{i.current&&i.current.focus()},u=()=>{i.current&&i.current.blur()},d=()=>{i.current&&i.current.clear()};t.useImperativeHandle(n,(()=>({focus:c,blur:u,clear:d,get nativeElement(){return i.current.nativeElement}})));const f=e=>{var t;null==(t=a.onChange)||t.call(a,((e,t="onChange")=>{const{formatTrigger:n,formatter:r}=a;return r&&t===n?r(e):e})(e))},{size:m,center:h,border:v,isLink:g,required:y,clickable:b,labelAlign:w,className:E,labelClass:x,valueClass:C,controlAlign:_,arrowDirection:k,disabled:N,titleStyle:S,error:O}=a,P=null!=(r=a.suffix)?r:a.button;return o.default.createElement($t,{title:(()=>{const{label:e,colon:t}=a;return e?o.default.createElement(o.default.Fragment,null,e,!!t&&":",(()=>{const{tooltip:e}=a;if(e){let t=o.default.createElement(Ot,null),n={message:e};if(!o.default.isValidElement(e)&&"string"!=typeof e){const r=e,{icon:a}=r,o=__objRest(r,["icon"]);t=a||t,n=o}return o.default.createElement("div",{className:Ve(Yn("tooltip")),onClick:()=>Hn.show(n)},t)}return null})()):null})(),size:m,icon:(()=>{const{leftIcon:e,onClickLeftIcon:t}=a;return e?o.default.createElement("div",{className:Ve(Yn("left-icon")),onClick:t},e):null})(),center:h,border:v,isLink:g,required:y,clickable:b,extra:a.extra,titleStyle:__spreadValues(__spreadValues({},(()=>{const e=p(a[t="labelWidth"])?a[t]:null;var t;return e?{width:q(e)}:{}})()),S),valueClass:Ve(Yn("value",[_]),C),titleClass:Ve(Yn("label",w),x),arrowDirection:k,onClick:a.onClick,style:a.style,className:Ve(Yn({error:O,disabled:N,[`label-${w}`]:w}),E)},o.default.createElement("div",{className:Ve(Yn("body"))},a.prefix&&o.default.createElement("div",{className:Ve(Yn("prefix"))},a.prefix),o.default.createElement("div",{className:Ve(Yn("control-wrapper"))},(()=>{const{value:e,defaultValue:t,align:n,type:r,placeholder:i,name:c,maxLength:u,disabled:d,readOnly:m,clearable:h,clearIcon:v,clearTrigger:g,autoFocus:y,onClear:b,onBlur:w,onFocus:E,onKeyPress:x,onOverlimit:C}=a;if(p(a.children))return o.default.createElement("div",{className:Ve(Yn("children"))},a.children);const _={value:e,onChange:f,placeholder:i,name:c,defaultValue:t,disabled:d,clearable:h,clearIcon:v,clearTrigger:g,onClear:b,onBlur:w,onFocus:E,onKeyPress:x,onOverlimit:C,autoFocus:y,readOnly:m,maxLength:u,onClick:a.onClickInput};return"textarea"===r?o.default.createElement(Kn.TextArea,__spreadValues({ref:s,autoSize:a.autoSize,showWordLimit:a.showWordLimit,rows:a.rows},_)):o.default.createElement(Kn,__spreadValues({ref:l,type:r,align:n},_))})()),(()=>{const{rightIcon:e,onClickRightIcon:t}=a;return e?o.default.createElement("div",{className:Ve(Yn("right-icon")),onClick:t},e):null})(),P&&o.default.createElement("div",{className:Ve(Yn("suffix"))},P)),(()=>{const e=a.errorMessage;return e?o.default.createElement("div",{className:Ve(Yn("error-message"))},e):null})(),a.intro?o.default.createElement("div",{className:Ve(Yn("intro"))},a.intro):null)})),Jn=Symbol("field"),Gn=Object.assign(Xn,{[Ue]:Jn});const Qn=t.createContext({}),[Zn]=w("flexbox"),[er]=w("flexitem"),tr=Object.assign((e=>{const n=e,{direction:r,wrap:a,justify:l,align:s,gutter:i=0,style:c,className:u,children:d}=n,f=__objRest(n,["direction","wrap","justify","align","gutter","style","className","children"]),m=t.useMemo((()=>Array.isArray(i)?i:[i,i]),[i]),p=__spreadValues(__spreadValues(__spreadValues({},m[0]>0?{marginLeft:m[0]/-2,marginRight:m[0]/-2}:{}),m[1]>0?{marginTop:m[1]/-2,marginBottom:m[1]/-2}:{}),c),h=Ve(u,Zn([r,a,!!l&&`justify-${l}`,!!s&&`align-${s}`]));return o.default.createElement(Qn.Provider,{value:{gutter:m}},o.default.createElement("div",__spreadValues({className:h,style:p},f),d))}),{Item:e=>{const t=e,{style:n,className:r,span:a,children:l,flex:s}=t,i=__objRest(t,["style","className","span","children","flex"]),c=Ve(er([null==a?void 0:a.toString()]),r);return o.default.createElement(Qn.Consumer,null,(({gutter:e})=>{let t=__spreadValues({},n);var r;return e&&(t=__spreadValues(__spreadValues(__spreadValues({},e[0]>0?{paddingLeft:e[0]/2,paddingRight:e[0]/2}:{}),e[1]>0?{paddingTop:e[1]/2,paddingBottom:e[1]/2}:{}),t)),s&&(t.flex="number"==typeof(r=s)?`${r} ${r} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(r)?`0 0 ${r}`:r),o.default.createElement("div",__spreadProps(__spreadValues({},i),{style:t,className:c}),l)}))}});const nr=e=>"number"==typeof e?`${e}px`:e,[rr]=w("space");const ar=t.memo((()=>o.default.createElement("svg",{width:"17px",height:"13px",viewBox:"0 0 17 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},o.default.createElement("g",{transform:"translate(-2832.000000, -1103.000000)",stroke:"#FFFFFF",strokeWidth:"3"},o.default.createElement("g",{transform:"translate(2610.000000, 955.000000)"},o.default.createElement("g",{transform:"translate(24.000000, 91.000000)"},o.default.createElement("g",{transform:"translate(179.177408, 36.687816)"},o.default.createElement("polyline",{points:"34.2767388 22 24.797043 31.4796958 21 27.6826527"}))))))))),[or]=w("selector");const lr=e=>{const n=Je(e,{rows:1,expandText:"",collapseText:"",suffixText:"",symbol:"...",stopPropagationForActionButtons:[]}),r=t.useRef(null),[a,l]=t.useState({}),[s,i]=t.useState(!1),[c,u]=t.useState(!1),d=t.useMemo((()=>n.suffixText?n.suffixText:n.suffixCount>0?n.children.slice(-n.suffixCount).trim():""),[n.suffixCount,n.suffixText]);function f(){const e=r.current;if(!e)return;const t=window.getComputedStyle(e),a=document.createElement("div");Array.prototype.slice.apply(t).forEach((e=>{a.style.setProperty(e,t.getPropertyValue(e))})),a.style.position="fixed",a.style.left="999999px",a.style.top="999999px",a.style.zIndex="-1000",a.style.height="auto",a.style.minHeight="auto",a.style.maxHeight="auto",a.style.textOverflow="clip",a.style.whiteSpace="normal",a.style.webkitLineClamp="unset",a.style.display="block";const o=sr(t.lineHeight),i=Math.floor(o*(n.rows+.5)+sr(t.paddingTop)+sr(t.paddingBottom));if(a.innerHTML=n.children,document.body.appendChild(a),a.offsetHeight<=i)u(!1);else{let e=function(t,o){if(o-t<=1)return{leading:n.children.slice(0,t)+n.symbol};const l=Math.round((t+o)/2);return a.innerHTML=n.children.slice(0,l)+n.symbol+d+r,a.offsetHeight<=i?e(l,o):e(t,l)};u(!0);const t=n.children.length,r=s?n.collapseText:n.expandText,o=e(0,t);l(o)}document.body.removeChild(a)}!function(e,t){const n=Oe(e);_e((()=>{const e=t.current;if(e){if(window.ResizeObserver){const t=new ResizeObserver((()=>{n(e)}));return t.observe(e),()=>{t.disconnect()}}n(e)}}),[t])}(f,r),_e((()=>{f()}),[n.children,n.rows,d,n.expandText,n.collapseText]);const m=e=>{var t;null==(t=n.onExpend)||t.call(n,e),i(e)},p=c&&n.expandText?_(n.stopPropagationForActionButtons,o.default.createElement("a",{onClick:()=>{m(!0)}},n.expandText)):null,h=c&&n.expandText?_(n.stopPropagationForActionButtons,o.default.createElement("a",{onClick:()=>{m(!1)}},n.collapseText)):null;return o.default.createElement("div",{ref:r,className:Ve("rv-typography__ellipsis",n.className),style:n.style},c?s?o.default.createElement(o.default.Fragment,null,n.children,h):o.default.createElement(o.default.Fragment,null,a.leading,d,p):n.children)};function sr(e){if(!e)return 0;const t=e.match(/^\d*(\.\d*)?/);return t?Number(t[0]):0}const[ir]=w("typography"),cr={rows:1},ur=e=>{var n=e,{tag:r="div",type:a,size:l="md",level:s=5,center:i,ellipsis:c,className:u,children:d,strong:f,underline:m,disabled:p,renderType:h,delete:g,onClick:y}=n,b=__objRest(n,["tag","type","size","level","center","ellipsis","className","children","strong","underline","disabled","renderType","delete","onClick"]);const w=e=>{p&&e.stopPropagation(),null==y||y(e)},E=t.useMemo((()=>"boolean"==typeof c&&c?1:"number"==typeof c?c:v(c)&&c.rows?c.rows:0),[c]),x=!!c,C=t.useMemo((()=>{if("boolean"==typeof c)return!0;if("number"==typeof c)return!0;if(v(c)){const e=__spreadValues(__spreadValues({},cr),c);if(!(e.collapseText||e.expandText||e.suffixCount||e.suffixText||e.symbol))return!0}return!1}),[c]),_=x&&!C,k=t.useMemo((()=>"title"===h?1===s?"h1":2===s?"h2":3===s?"h3":4===s?"h4":5===s?"h5":"h6":r),[r]),N=t.useMemo((()=>{const e=__spreadProps(__spreadValues({},b.style),{"--rv-typography-color":b.color});return x&&C&&E>1?__spreadProps(__spreadValues({},e),{"--line-clamp":E}):e}),[b.style,C]);return _?o.default.createElement(lr,__spreadProps(__spreadValues(__spreadValues({onContentClick:w,className:Ve(u,`rv-typography__${h}`,ir([a,l,{center:i,strong:f,underline:m,disabled:p,delete:g,[`l${s}`]:"title"===h&&s}]))},b),c),{style:N}),d):o.default.createElement(k,__spreadProps(__spreadValues({className:Ve(u,`rv-typography__${h}`,ir([a,l,{center:i,strong:f,underline:m,disabled:p,delete:g,[`l${s}`]:"title"===h&&s}]),{"rv-ellipsis":x&&C&&1===E,"rv-typography__ellipsis--multi":x&&C&&E>1})},b),{onClick:w,style:N}),d)},dr=Object.assign(ur,{Text:e=>o.default.createElement(ur,__spreadValues({renderType:"text",tag:"span"},e)),Title:e=>o.default.createElement(ur,__spreadValues({renderType:"title",tag:"h1"},e)),Link:e=>o.default.createElement(ur,__spreadValues({renderType:"link",tag:"a"},e))});const[fr]=w("count-down"),mr=t.forwardRef(((e,n)=>{const r=Je(e,{autoStart:!0,time:0,format:"HH:mm:ss",onChange:d,onFinish:d}),{start:a,pause:l,reset:s,current:i}=ae({time:+r.time,millisecond:r.millisecond,onChange:r.onChange,onFinish:r.onFinish}),c=t.useMemo((()=>function(e,t){const{days:n}=t;let{hours:r,minutes:a,seconds:o,milliseconds:l}=t;if(e.includes("DD")?e=e.replace("DD",Z(n)):r+=24*n,e.includes("HH")?e=e.replace("HH",Z(r)):a+=60*r,e.includes("mm")?e=e.replace("mm",Z(a)):o+=60*a,e.includes("ss")?e=e.replace("ss",Z(o)):l+=1e3*o,e.includes("S")){const t=Z(l,3);e=e.includes("SSS")?e.replace("SSS",t):e.includes("SS")?e.replace("SS",t.slice(0,2)):e.replace("S",t.charAt(0))}return e}(r.format,i)),[i]),u=()=>{s(+r.time),r.autoStart&&a()};return t.useEffect((()=>(u(),()=>{l()})),[r.time]),t.useImperativeHandle(n,(()=>({start:a,pause:l,reset:u}))),o.default.createElement("div",{className:Ve(r.className,fr()),style:r.style},r.children?r.children(i):c)}));const[pr]=w("divider");const[hr]=w("image"),vr=e=>{const[n,r]=ie({loading:!0,error:!1}),a=t.useRef(null),{fit:l,errorIcon:s,loadingIcon:i,showError:c,showLoading:u,block:d}=e,f=t.useMemo((()=>{const t=__spreadValues({},e.style);return p(e.width)&&(t.width=q(e.width)),p(e.height)&&(t.height=q(e.height)),p(e.radius)&&(t.overflow="hidden",t.borderRadius=q(e.radius)),t}),[e.style,e.width,e.height,e.radius]);t.useEffect((()=>{const e={error:!1,loading:!0};a.current&&(a.current.complete?e.loading=!1:e.loading=!0),r(e)}),[e.src]);const m=t=>{var n;r({loading:!1}),null==(n=e.onLoad)||n.call(e,t)},h=t=>{var n;r({error:!0,loading:!1}),null==(n=e.onLoad)||n.call(e,t)};return o.default.createElement("div",{className:Ve(e.className,hr({block:d,round:e.round})),style:f,onClick:e.onClick},(()=>{if(n.error||!e.src)return null;const t={className:Ve(hr("img")),style:{objectFit:l}};return o.default.createElement("img",__spreadValues({ref:a,alt:e.alt||"img",src:e.src,onLoad:m,onError:h},t))})(),n.loading&&u?o.default.createElement("div",{className:Ve(hr("loading")),onClick:e.onClick},i?o.default.cloneElement(i,{className:Ve(hr("loading-icon")),fontSize:e.iconSize}):null):n.error&&c?o.default.createElement("div",{className:Ve(hr("error")),onClick:e.onClick},s?o.default.cloneElement(s,{className:Ve(hr("error-icon")),fontSize:e.iconSize}):null):null,e.children)};const gr="100%",[yr]=w("skeleton"),br=e=>{var t=e,{children:n,className:r,style:a}=t;const l=Je(__objRest(t,["children","className","style"]),{loading:!0,animate:!0,round:!0,row:3,avatarShape:"round",rowWidth:gr}),s=e=>{const{rowHeight:t}=l;return Array.isArray(t)?t[e]:t};return l.loading?o.default.createElement("div",{className:Ve(r,yr({animate:l.animate,round:l.round})),style:a},l.avatar?o.default.createElement("div",{className:Ve(yr("avatar",l.avatarShape)),style:U(l.avatarSize)}):null,o.default.createElement("div",{className:Ve(yr("content"))},(()=>{if(l.title){const e=q(l.titleWidth),t=q(s(0));return o.default.createElement("div",{className:Ve(yr("title")),style:{width:e,height:t}})}return null})(),Array(l.row).fill("").map(((e,t)=>{const n=q((e=>{const{rowWidth:t}=l;return t===gr&&e===+l.row-1&&0!==e?"60%":Array.isArray(t)?t[e]:t})(t)),r=q(s(t));return o.default.createElement("div",{key:t,className:Ve(yr("row")),style:{width:n,height:r}})})))):o.default.createElement(o.default.Fragment,null,n)},[wr]=w("lazyload"),Er=e=>{const n=Je(e,{placeholder:o.default.createElement(br,{title:!0})}),r=t.useRef(),[a]=ge(r),{height:l,placeholder:s,children:i,className:c,style:u}=n;return a?o.default.createElement(o.default.Fragment,null,i):o.default.createElement("div",{ref:r,className:Ve(wr(),c),style:__spreadValues({height:l},u)},s)},xr=e=>o.default.createElement("div",{className:Ve(e("loading"))},o.default.createElement(_t,{className:Ve(e("loading-icon"))})),[Cr]=w("image"),_r=Symbol("image"),kr=Object.assign((e=>{const t=Je(e,{fit:"fill",errorIcon:o.default.createElement(xt,null),loadingIcon:o.default.createElement(_t,null),showError:!0,showLoading:!0,block:!0}),{lazyload:n}=t,r=__objRest(t,["lazyload"]);if(n){const{className:e,style:t,height:a,width:l}=r,s={className:Ve(e,Cr({block:r.block})),style:__spreadProps(__spreadValues({},t),{height:a,width:l})};return o.default.createElement(Er,__spreadProps(__spreadValues({},s),{placeholder:"boolean"==typeof n?xr(Cr):n.placeholder||xr(Cr)}),o.default.createElement(vr,__spreadValues({},r)))}return o.default.createElement(vr,__spreadValues({},r))}),{[Ue]:_r});const Nr={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function Sr(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function Or(e,t,n,r=.15){return 0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-Sr(t-e,n-t,r)+t:e>n?+Sr(e-n,n-t,r)+n:e}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(n),!0).forEach((function(t){Pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Vr={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Tr(e){return e?e[0].toUpperCase()+e.slice(1):""}const Ir=["enter","leave"];function Fr(e,t="",n=!1){const r=Vr[e],a=r&&r[t]||t;return"on"+Tr(e)+Tr(a)+(function(e=!1,t){return e&&!Ir.includes(t)}(n,a)?"Capture":"")}const Ar=["gotpointercapture","lostpointercapture"];function jr(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=Ar.includes(t)?"capturecapture":"capture",a=!!~t.indexOf(r);return a&&(t=t.replace("capture","")),{device:t,capture:a,passive:n}}function Dr(e){return"touches"in e}function Lr(e){return Dr(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function $r(e){return Dr(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function zr(e,t){const n=t.clientX-e.clientX,r=t.clientY-e.clientY,a=(t.clientX+e.clientX)/2,o=(t.clientY+e.clientY)/2,l=Math.hypot(n,r);return{angle:-180*Math.atan2(n,r)/Math.PI,distance:l,origin:[a,o]}}function Hr(e){return function(e){return Array.from(e.touches).filter((t=>{var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}))}(e).map((e=>e.identifier))}function Br(e,t){const[n,r]=Array.from(e.touches).filter((e=>t.includes(e.identifier)));return zr(n,r)}function qr(e){const t=$r(e);return Dr(e)?t.identifier:t.pointerId}function Ur(e){const t=$r(e);return[t.clientX,t.clientY]}function Wr(e){let{deltaX:t,deltaY:n,deltaMode:r}=e;return 1===r?(t*=40,n*=40):2===r&&(t*=800,n*=800),[t,n]}function Kr(e,...t){return"function"==typeof e?e(...t):e}function Yr(){}function Xr(...e){return 0===e.length?Yr:1===e.length?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function Jr(e,t){return Object.assign({},t,e||{})}class Gr{constructor(e,t,n){this.ctrl=e,this.args=t,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:n,args:r}=this;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?Kr(n.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:n,shared:r}=this;t.args=this.args;let a=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:a,ctrlKey:o}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:a,ctrlKey:o})}return t}(e)),r.down=r.pressed=r.buttons%2==1||r.touches>0,a=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const e=t._delta.map(Math.abs);Nr.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);const[o,l]=t._movement,[s,i]=n.threshold,{_step:c,values:u}=t;if(n.hasCustomTransform?(!1===c[0]&&(c[0]=Math.abs(o)>=s&&u[0]),!1===c[1]&&(c[1]=Math.abs(l)>=i&&u[1])):(!1===c[0]&&(c[0]=Math.abs(o)>=s&&Math.sign(o)*s),!1===c[1]&&(c[1]=Math.abs(l)>=i&&Math.sign(l)*i)),t.intentional=!1!==c[0]||!1!==c[1],!t.intentional)return;const d=[0,0];if(n.hasCustomTransform){const[e,t]=u;d[0]=!1!==c[0]?e-c[0]:0,d[1]=!1!==c[1]?t-c[1]:0}else d[0]=!1!==c[0]?o-c[0]:0,d[1]=!1!==c[1]?l-c[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);const f=t.offset,m=t._active&&!t._blocked||t.active;m&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=Kr(n.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));const[p,h]=t.offset,[[v,g],[y,b]]=t._bounds;t.overflow=[p<v?-1:p>g?1:0,h<y?-1:h>b?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);const w=t._active&&n.rubberband||[0,0];if(t.offset=function(e,[t,n],[r,a]){const[[o,l],[s,i]]=e;return[Or(t,o,l,r),Or(n,s,i,a)]}(t._bounds,t.offset,w),t.delta=Nr.sub(t.offset,f),this.computeMovement(),m&&(!t.last||a>32)){t.delta=Nr.sub(t.offset,f);const e=t.delta.map(Math.abs);Nr.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&a>0&&(t.velocity=[e[0]/a,e[1]/a])}}emit(){const e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;const r=this.handler(Rr(Rr(Rr({},t),e),{},{[this.aliasKey]:e.values}));void 0!==r&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class Qr extends Gr{constructor(...e){super(...e),Pr(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Nr.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Nr.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,n=this.config;if(!t.axis&&e){const r="object"==typeof n.axisThreshold?n.axisThreshold[Lr(e)]:n.axisThreshold;t.axis=function([e,t],n){const r=Math.abs(e),a=Math.abs(t);return r>a&&r>n?"x":a>r&&a>n?"y":void 0}(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}const Zr=e=>e,ea={enabled:(e=!0)=>e,eventOptions:(e,t,n)=>Rr(Rr({},n.shared.eventOptions),e),preventDefault:(e=!1)=>e,triggerAllEvents:(e=!1)=>e,rubberband(e=0){switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return Nr.toVector(e)}},from:e=>"function"==typeof e?e:null!=e?Nr.toVector(e):void 0,transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||Zr},threshold:e=>Nr.toVector(e,0)},ta=Rr(Rr({},ea),{},{axis(e,t,{axis:n}){if(this.lockDirection="lock"===n,!this.lockDirection)return n},axisThreshold:(e=0)=>e,bounds(e={}){if("function"==typeof e)return t=>ta.bounds(e(t));if("current"in e)return()=>e.current;if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:a=1/0}=e;return[[t,n],[r,a]]}}),na={ArrowRight:(e=1)=>[10*e,0],ArrowLeft:(e=1)=>[-10*e,0],ArrowUp:(e=1)=>[0,-10*e],ArrowDown:(e=1)=>[0,10*e]};const ra="undefined"!=typeof window&&window.document&&window.document.createElement;function aa(){return ra&&"ontouchstart"in window||ra&&window.navigator.maxTouchPoints>1}const oa={isBrowser:ra,gesture:function(){try{return"constructor"in GestureEvent}catch(yv){return!1}}(),touch:aa(),touchscreen:aa(),pointer:ra&&"onpointerdown"in window,pointerLock:ra&&"exitPointerLock"in window.document},la={mouse:0,touch:0,pen:8},sa=Rr(Rr({},ta),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:a=!1}={}}){return this.pointerLock=r&&oa.pointerLock,oa.touch&&n?"touch":this.pointerLock?"mouse":oa.pointer&&!a?"pointer":oa.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay="number"==typeof n?n:n||void 0===n&&e?250:void 0,oa.touchscreen&&!1!==n)return e||(void 0!==n?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1}={}}){return this.pointerButtons=r,!this.pointerLock&&"pointer"===this.device&&n},keys:(e=!0)=>e,threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:a}){const o=Nr.toVector(e,n?r:a?1:0);return this.filterTaps=n,this.tapsThreshold=r,o},swipe({velocity:e=.5,distance:t=50,duration:n=250}={}){return{velocity:this.transform(Nr.toVector(e)),distance:this.transform(Nr.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?Rr(Rr({},la),e):la});const ia=Rr(Rr({},ea),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!oa.touch&&oa.gesture)return"gesture";if(oa.touch&&r)return"touch";if(oa.touchscreen){if(oa.pointer)return"pointer";if(oa.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const a=e=>{const t=Jr(Kr(n,e),{min:-1/0,max:1/0});return[t.min,t.max]},o=e=>{const t=Jr(Kr(r,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof n&&"function"!=typeof r?[a(),o()]:e=>[a(e),o(e)]},threshold(e,t,n){this.lockDirection="lock"===n.axis;return Nr.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey:e=>void 0===e?"ctrlKey":e});Rr(Rr({},ta),{},{mouseOnly:(e=!0)=>e}),Rr(Rr({},ta),{},{mouseOnly:(e=!0)=>e});const ca=new Map,ua=new Map;function da(e){ca.set(e.key,e.engine),ua.set(e.key,e.resolver)}const fa={key:"drag",engine:class extends Qr{constructor(...e){super(...e),Pr(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=ta.bounds(r)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout((()=>{this.compute(),this.emit()}),0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,n=this.state;if(null!=e.buttons&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):-1!==t.pointerButtons&&t.pointerButtons!==e.buttons))return;const r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),r&&r.size>1&&n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=qr(e),n._pointerActive=!0,this.computeValues(Ur(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==Lr(e)?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,n=this.config;if(!t._pointerActive)return;if(t.type===e.type&&e.timeStamp===t.timeStamp)return;const r=qr(e);if(void 0!==t._pointerId&&r!==t._pointerId)return;const a=Ur(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Nr.sub(a,t._values),this.computeValues(a)),Nr.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):n.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(l){}const t=this.state,n=this.config;if(!t._active||!t._pointerActive)return;const r=qr(e);if(void 0!==t._pointerId&&r!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[a,o]=t._distance;if(t.tap=a<=n.tapsThreshold&&o<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{const[e,r]=t.direction,[a,o]=t.velocity,[l,s]=t.movement,[i,c]=n.swipe.velocity,[u,d]=n.swipe.distance,f=n.swipe.duration;t.elapsedTime<f&&(Math.abs(a)>i&&Math.abs(l)>u&&(t.swipe[0]=e),Math.abs(o)>c&&Math.abs(s)>d&&(t.swipe[1]=r))}this.emit()}pointerClick(e){this.state.tap||(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,function(e){"persist"in e&&"function"==typeof e.persist&&e.persist()}(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",(()=>{this.state._step=[0,0],this.startPointerDrag(e)}),this.config.delay)}keyDown(e){const t=na[e.key];if(t){const n=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=t(r),n._keyboardActive=!0,Nr.addTo(n._movement,n._delta),this.compute(e),this.emit()}}keyUp(e){e.key in na&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}},resolver:sa},ma={key:"pinch",engine:class extends Gr{constructor(...e){super(...e),Pr(this,"ingKey","pinching"),Pr(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:n}=this.state;this.state.offset="wheel"===e?Nr.add(t,n):[(1+t[0])*n[0],t[1]+n[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,n]=e._movement;if(!e.axis){const r=30*Math.abs(t)-Math.abs(n);r<0?e.axis="angle":r>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout((()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()}),0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,n=this.ctrl.touchIds;if(t._active&&t._touchIds.every((e=>n.has(e))))return;if(n.size<2)return;this.start(e),t._touchIds=Array.from(n).slice(0,2);const r=Br(e,t._touchIds);this.pinchStart(e,r)}pointerStart(e){if(null!=e.buttons&&e.buttons%2!=1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,n=t._pointerEvents,r=this.ctrl.pointerIds;if(t._active&&Array.from(n.keys()).every((e=>r.has(e))))return;if(n.size<2&&n.set(e.pointerId,e),t._pointerEvents.size<2)return;this.start(e);const a=zr(...Array.from(n.values()));this.pinchStart(e,a)}pinchStart(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=Br(e,this.state._touchIds);this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const n=zr(...Array.from(t.values()));this.pinchMove(e,n)}pinchMove(e,t){const n=this.state,r=n._values[1],a=t.angle-r;let o=0;Math.abs(a)>270&&(o+=Math.sign(a)),this.computeValues([t.distance,t.angle-360*o]),n.origin=t.origin,n.turns=o,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some((e=>!this.ctrl.touchIds.has(e)))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(n){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const n=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=Nr.sub(t._movement,n),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&!e[t]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const t=this.state;t._delta=[-Wr(e)[1]/100*t.offset[0],0],Nr.addTo(t._movement,t._delta),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this))),e("wheel","",this.wheel.bind(this),{passive:!1})}},resolver:ia};function pa(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const ha={target(e){if(e)return()=>"current"in e?e.current:e},enabled:(e=!0)=>e,window:(e=(oa.isBrowser?window:void 0))=>e,eventOptions:({passive:e=!0,capture:t=!1}={})=>({passive:e,capture:t}),transform:e=>e},va=["target","eventOptions","window","enabled","transform"];function ga(e={},t){const n={};for(const[r,a]of Object.entries(t))switch(typeof a){case"function":n[r]=a.call(n,e[r],r,e);break;case"object":n[r]=ga(e[r],a);break;case"boolean":a&&(n[r]=e[r])}return n}class ya{constructor(e,t){Pr(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,n,r,a){const o=this._listeners,l=function(e,t=""){const n=Vr[e];return e+(n&&n[t]||t)}(t,n),s=Rr(Rr({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),a);e.addEventListener(l,r,s);const i=()=>{e.removeEventListener(l,r,s),o.delete(i)};return o.add(i),i}clean(){this._listeners.forEach((e=>e())),this._listeners.clear()}}class ba{constructor(){Pr(this,"_timeouts",new Map)}add(e,t,n=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,n,...r))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach((e=>{window.clearTimeout(e)})),this._timeouts.clear()}}class wa{constructor(e){Pr(this,"gestures",new Set),Pr(this,"_targetEventStore",new ya(this)),Pr(this,"gestureEventStores",{}),Pr(this,"gestureTimeoutStores",{}),Pr(this,"handlers",{}),Pr(this,"config",{}),Pr(this,"pointerIds",new Set),Pr(this,"touchIds",new Set),Pr(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&Ea(e,"drag");t.wheel&&Ea(e,"wheel");t.scroll&&Ea(e,"scroll");t.move&&Ea(e,"move");t.pinch&&Ea(e,"pinch");t.hover&&Ea(e,"hover")}(this,e)}setEventIds(e){return Dr(e)?(this.touchIds=new Set(Hr(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t){const n=e,{target:r,eventOptions:a,window:o,enabled:l,transform:s}=n,i=pa(n,va),c={shared:ga({target:r,eventOptions:a,window:o,enabled:l,transform:s},ha)};if(t){const e=ua.get(t);c[t]=ga(Rr({shared:c.shared},i),e)}else for(const u in i){const e=ua.get(u);e&&(c[u]=ga(Rr({shared:c.shared},i[u]),e))}return c}(e,t)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,n={};let r;if(!t.target||(r=t.target(),r)){if(t.enabled){for(const t of this.gestures){const a=this.config[t],o=xa(n,a.eventOptions,!!r);if(a.enabled){new(ca.get(t))(this,e,t).bind(o)}}const a=xa(n,t.eventOptions,!!r);for(const t in this.nativeHandlers)a(t,"",(n=>this.nativeHandlers[t](Rr(Rr({},this.state.shared),{},{event:n,args:e}))),void 0,!0)}for(const e in n)n[e]=Xr(...n[e]);if(!r)return n;for(const e in n){const{device:t,capture:a,passive:o}=jr(e);this._targetEventStore.add(r,t,"",n[e],{capture:a,passive:o})}}}}function Ea(e,t){e.gestures.add(t),e.gestureEventStores[t]=new ya(e,t),e.gestureTimeoutStores[t]=new ba}const xa=(e,t,n)=>(r,a,o,l={},s=!1)=>{var i,c;const u=null!==(i=l.capture)&&void 0!==i?i:t.capture,d=null!==(c=l.passive)&&void 0!==c?c:t.passive;let f=s?r:Fr(r,a,u);n&&d&&(f+="Passive"),e[f]=e[f]||[],e[f].push(o)},Ca=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function _a(e,t,n,r,a,o){if(!e.has(n))return;if(!ca.has(r))return;const l=n+"Start",s=n+"End";a[r]=e=>{let r;return e.first&&l in t&&t[l](e),n in t&&(r=t[n](e)),e.last&&s in t&&t[s](e),r},o[r]=o[r]||{}}function ka(e,t){const[n,r,a]=function(e){const t={},n={},r=new Set;for(let a in e)Ca.test(a)?(r.add(RegExp.lastMatch),n[a]=e[a]):t[a]=e[a];return[n,t,r]}(e),o={};return _a(a,n,"onDrag","drag",o,t),_a(a,n,"onWheel","wheel",o,t),_a(a,n,"onScroll","scroll",o,t),_a(a,n,"onPinch","pinch",o,t),_a(a,n,"onMove","move",o,t),_a(a,n,"onHover","hover",o,t),{handlers:o,config:t,nativeHandlers:r}}function Na(e,t={},n,r){const a=o.default.useMemo((()=>new wa(e)),[]);if(a.applyHandlers(e,r),a.applyConfig(t,n),o.default.useEffect(a.effect.bind(a)),o.default.useEffect((()=>a.clean.bind(a)),[]),void 0===t.target)return a.bind.bind(a)}function Sa(e,t){return da(fa),Na({drag:e},t||{},"drag")}let Oa=qa();const Pa=e=>$a(e,Oa);let Ma=qa();Pa.write=e=>$a(e,Ma);let Ra=qa();Pa.onStart=e=>$a(e,Ra);let Va=qa();Pa.onFrame=e=>$a(e,Va);let Ta=qa();Pa.onFinish=e=>$a(e,Ta);let Ia=[];Pa.setTimeout=(e,t)=>{let n=Pa.now()+t,r=()=>{let e=Ia.findIndex((e=>e.cancel==r));~e&&Ia.splice(e,1),Da-=~e?1:0},a={time:n,handler:e,cancel:r};return Ia.splice(Fa(n),0,a),Da+=1,za(),a};let Fa=e=>~(~Ia.findIndex((t=>t.time>e))||~Ia.length);Pa.cancel=e=>{Ra.delete(e),Va.delete(e),Oa.delete(e),Ma.delete(e),Ta.delete(e)},Pa.sync=e=>{La=!0,Pa.batchedUpdates(e),La=!1},Pa.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...e){t=e,Pa.onStart(n)}return r.handler=e,r.cancel=()=>{Ra.delete(n),t=null},r};let Aa="undefined"!=typeof window?window.requestAnimationFrame:()=>{};Pa.use=e=>Aa=e,Pa.now="undefined"!=typeof performance?()=>performance.now():Date.now,Pa.batchedUpdates=e=>e(),Pa.catch=console.error,Pa.frameLoop="always",Pa.advance=()=>{"demand"!==Pa.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Ba()};let ja=-1,Da=0,La=!1;function $a(e,t){La?(t.delete(e),e(0)):(t.add(e),za())}function za(){ja<0&&(ja=0,"demand"!==Pa.frameLoop&&Aa(Ha))}function Ha(){~ja&&(Aa(Ha),Pa.batchedUpdates(Ba))}function Ba(){let e=ja;ja=Pa.now();let t=Fa(ja);t&&(Ua(Ia.splice(0,t),(e=>e.handler())),Da-=t),Ra.flush(),Oa.flush(e?Math.min(64,ja-e):16.667),Va.flush(),Ma.flush(),Ta.flush(),Da||(ja=-1)}function qa(){let e=new Set,t=e;return{add(n){Da+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(Da-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,Da-=t.size,Ua(t,(t=>t(n)&&e.add(t))),Da+=e.size,t=e)}}}function Ua(e,t){e.forEach((e=>{try{t(e)}catch(yv){Pa.catch(yv)}}))}function Wa(){}const Ka={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function Ya(e,t){if(Ka.arr(e)){if(!Ka.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}const Xa=(e,t)=>e.forEach(t);function Ja(e,t,n){if(Ka.arr(e))for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);else for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}const Ga=e=>Ka.und(e)?[]:Ka.arr(e)?e:[e];function Qa(e,t){if(e.size){const n=Array.from(e);e.clear(),Xa(n,t)}}const Za=(e,...t)=>Qa(e,(e=>e(...t))),eo=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let to,no,ro=null,ao=!1,oo=Wa;var lo=Object.freeze({__proto__:null,get createStringInterpolator(){return to},get to(){return no},get colors(){return ro},get skipAnimation(){return ao},get willAdvance(){return oo},assign:e=>{e.to&&(no=e.to),e.now&&(Pa.now=e.now),void 0!==e.colors&&(ro=e.colors),null!=e.skipAnimation&&(ao=e.skipAnimation),e.createStringInterpolator&&(to=e.createStringInterpolator),e.requestAnimationFrame&&Pa.use(e.requestAnimationFrame),e.batchedUpdates&&(Pa.batchedUpdates=e.batchedUpdates),e.willAdvance&&(oo=e.willAdvance),e.frameLoop&&(Pa.frameLoop=e.frameLoop)}});const so=new Set;let io=[],co=[],uo=0;const fo={get idle(){return!so.size&&!io.length},start(e){uo>e.priority?(so.add(e),Pa.onStart(mo)):(po(e),Pa(vo))},advance:vo,sort(e){if(uo)Pa.onFrame((()=>fo.sort(e)));else{const t=io.indexOf(e);~t&&(io.splice(t,1),ho(e))}},clear(){io=[],so.clear()}};function mo(){so.forEach(po),so.clear(),Pa(vo)}function po(e){io.includes(e)||ho(e)}function ho(e){io.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}(io,(t=>t.priority>e.priority)),0,e)}function vo(e){const t=co;for(let n=0;n<io.length;n++){const r=io[n];uo=r.priority,r.idle||(oo(r),r.advance(e),r.idle||t.push(r))}return uo=0,co=io,co.length=0,io=t,io.length>0}const go="[-+]?\\d*\\.?\\d+",yo=go+"%";function bo(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const wo=new RegExp("rgb"+bo(go,go,go)),Eo=new RegExp("rgba"+bo(go,go,go,go)),xo=new RegExp("hsl"+bo(go,yo,yo)),Co=new RegExp("hsla"+bo(go,yo,yo,go)),_o=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ko=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,No=/^#([0-9a-fA-F]{6})$/,So=/^#([0-9a-fA-F]{8})$/;function Oo(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Po(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,a=2*n-r,o=Oo(a,r,e+1/3),l=Oo(a,r,e),s=Oo(a,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*l)<<16|Math.round(255*s)<<8}function Mo(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Ro(e){return(parseFloat(e)%360+360)%360/360}function Vo(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function To(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function Io(e){let t=function(e){let t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=No.exec(e))?parseInt(t[1]+"ff",16)>>>0:ro&&void 0!==ro[e]?ro[e]:(t=wo.exec(e))?(Mo(t[1])<<24|Mo(t[2])<<16|Mo(t[3])<<8|255)>>>0:(t=Eo.exec(e))?(Mo(t[1])<<24|Mo(t[2])<<16|Mo(t[3])<<8|Vo(t[4]))>>>0:(t=_o.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=So.exec(e))?parseInt(t[1],16)>>>0:(t=ko.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=xo.exec(e))?(255|Po(Ro(t[1]),To(t[2]),To(t[3])))>>>0:(t=Co.exec(e))?(Po(Ro(t[1]),To(t[2]),To(t[3]))|Vo(t[4]))>>>0:null}(e);return null===t?e:(t=t||0,`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`)}const Fo=(e,t,n)=>{if(Ka.fun(e))return e;if(Ka.arr(e))return Fo({range:e,output:t,extrapolate:n});if(Ka.str(e.output[0]))return to(e);const r=e,a=r.output,o=r.range||[0,1],l=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",i=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,a,o,l,s,i){let c=i?i(e):e;if(c<t){if("identity"===l)return c;"clamp"===l&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}if(r===a)return r;if(t===n)return e<=t?r:a;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=o(c),r===-1/0?c=-c:a===1/0?c+=r:c=c*(a-r)+r;return c}(e,o[t],o[t+1],a[t],a[t+1],i,l,s,r.map)}};function Ao(){return Ao=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ao.apply(this,arguments)}const jo=Symbol.for("FluidValue.get"),Do=Symbol.for("FluidValue.observers"),Lo=e=>Boolean(e&&e[jo]),$o=e=>e&&e[jo]?e[jo]():e,zo=e=>e[Do]||null;function Ho(e,t){let n=e[Do];n&&n.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}class Bo{constructor(e){if(this[jo]=void 0,this[Do]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");qo(this,e)}}const qo=(e,t)=>Ko(e,jo,t);function Uo(e,t){if(e[jo]){let n=e[Do];n||Ko(e,Do,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Wo(e,t){let n=e[Do];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Do]=null,e.observerRemoved&&e.observerRemoved(r,t)}}const Ko=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Yo=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Xo=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Jo=new RegExp(`(${Yo.source})(%|[a-z]+)`,"i"),Go=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Qo=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Zo=e=>{const[t,n]=el(e);if(!t||eo())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(n);return t||e}return n&&Qo.test(n)?Zo(n):n||e},el=e=>{const t=Qo.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]};let tl;const nl=(e,t,n,r,a)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${a})`,rl=e=>{tl||(tl=ro?new RegExp(`(${Object.keys(ro).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map((e=>$o(e).replace(Qo,Zo).replace(Xo,Io).replace(tl,Io))),n=t.map((e=>e.match(Yo).map(Number))),r=n[0].map(((e,t)=>n.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))).map((t=>Fo(Ao({},e,{output:t}))));return e=>{var n;const a=!Jo.test(t[0])&&(null==(n=t.find((e=>Jo.test(e))))?void 0:n.replace(Yo,""));let o=0;return t[0].replace(Yo,(()=>`${r[o++](e)}${a||""}`)).replace(Go,nl)}},al="react-spring: ",ol=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError(`${al}once requires a function parameter`);return(...e)=>{n||(t(...e),n=!0)}},ll=ol(console.warn);const sl=ol(console.warn);function il(e){return Ka.str(e)&&("#"==e[0]||/\d/.test(e)||!eo()&&Qo.test(e)||e in(ro||{}))}const cl="undefined"!=typeof window&&window.document&&window.document.createElement?l.useLayoutEffect:l.useEffect;function ul(){const e=t.useState()[1],n=(()=>{const e=t.useRef(!1);return cl((()=>(e.current=!0,()=>{e.current=!1})),[]),e})();return()=>{n.current&&e(Math.random())}}const dl=e=>t.useEffect(e,fl),fl=[];function ml(e){const n=t.useRef();return t.useEffect((()=>{n.current=e})),n.current}const pl=Symbol.for("Animated:node"),hl=e=>e&&e[pl],vl=(e,t)=>{return n=e,r=pl,a=t,Object.defineProperty(n,r,{value:a,writable:!0,configurable:!0});var n,r,a},gl=e=>e&&e[pl]&&e[pl].getPayload();class yl{constructor(){this.payload=void 0,vl(this,this)}getPayload(){return this.payload||[]}}class bl extends yl{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,Ka.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new bl(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Ka.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Ka.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class wl extends bl{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=Fo({output:[e,e]})}static create(e){return new wl(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(Ka.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=Fo({output:[this.getValue(),e]})),this._value=0,super.reset()}}const El={dependencies:null};class xl extends yl{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Ja(this.source,((n,r)=>{var a;(a=n)&&a[pl]===a?t[r]=n.getValue(e):Lo(n)?t[r]=$o(n):e||(t[r]=n)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Xa(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return Ja(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){El.dependencies&&Lo(e)&&El.dependencies.add(e);const t=gl(e);t&&Xa(t,(e=>this.add(e)))}}class Cl extends xl{constructor(e){super(e)}static create(e){return new Cl(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,n)=>t.setValue(e[n]))).some(Boolean):(super.setValue(e.map(_l)),!0)}}function _l(e){return(il(e)?wl:bl).create(e)}function kl(e){const t=hl(e);return t?t.constructor:Ka.arr(e)?Cl:il(e)?wl:bl}function Nl(){return Nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nl.apply(this,arguments)}const Sl=(e,n)=>{const r=!Ka.fun(e)||e.prototype&&e.prototype.isReactComponent;return t.forwardRef(((a,o)=>{const s=t.useRef(null),i=r&&t.useCallback((e=>{s.current=function(e,t){e&&(Ka.fun(e)?e(t):e.current=t);return t}(o,e)}),[o]),[c,u]=function(e,t){const n=new Set;El.dependencies=n,e.style&&(e=Nl({},e,{style:t.createAnimatedStyle(e.style)}));return e=new xl(e),El.dependencies=null,[e,n]}(a,n),d=ul(),f=()=>{const e=s.current;if(r&&!e)return;!1===(!!e&&n.applyAnimatedValues(e,c.getValue(!0)))&&d()},m=new Ol(f,u),p=t.useRef();cl((()=>(p.current=m,Xa(u,(e=>Uo(e,m))),()=>{p.current&&(Xa(p.current.deps,(e=>Wo(e,p.current))),Pa.cancel(p.current.update))}))),t.useEffect(f,[]),dl((()=>()=>{const e=p.current;Xa(e.deps,(t=>Wo(t,e)))}));const h=n.getComponentProps(c.getValue());return l.createElement(e,Nl({},h,{ref:i}))}))};class Ol{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&Pa.write(this.update)}}const Pl=Symbol.for("AnimatedComponent"),Ml=e=>Ka.str(e)?e:e&&Ka.str(e.displayName)?e.displayName:Ka.fun(e)&&e.name||null;function Rl(){return Rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rl.apply(this,arguments)}function Vl(e,...t){return Ka.fun(e)?e(...t):e}const Tl=(e,t)=>!0===e||!!(t&&e&&(Ka.fun(e)?e(t):Ga(e).includes(t))),Il=(e,t)=>Ka.obj(e)?t&&e[t]:e,Fl=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,Al=e=>e,jl=(e,t=Al)=>{let n=Dl;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const r={};for(const a of n){const n=t(e[a],a);Ka.und(n)||(r[a]=n)}return r},Dl=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Ll={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function $l(e){const t=function(e){const t={};let n=0;if(Ja(e,((e,r)=>{Ll[r]||(t[r]=e,n++)})),n)return t}(e);if(t){const n={to:t};return Ja(e,((e,r)=>r in t||(n[r]=e))),n}return Rl({},e)}function zl(e){return e=$o(e),Ka.arr(e)?e.map(zl):il(e)?lo.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Hl(e){for(const t in e)return!0;return!1}function Bl(e){return Ka.fun(e)||Ka.arr(e)&&Ka.obj(e[0])}function ql(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function Ul(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}const Wl=1.70158,Kl=1.525*Wl,Yl=Wl+1,Xl=2*Math.PI/3,Jl=2*Math.PI/4.5,Gl=e=>{const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},Ql=Rl({},{tension:170,friction:26},{mass:1,damping:1,easing:{linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>Yl*e*e*e-Wl*e*e,easeOutBack:e=>1+Yl*Math.pow(e-1,3)+Wl*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-Kl)/2:(Math.pow(2*e-2,2)*((Kl+1)*(2*e-2)+Kl)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*Xl),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*Xl)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Jl)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Jl)/2+1,easeInBounce:e=>1-Gl(1-e),easeOutBounce:Gl,easeInOutBounce:e=>e<.5?(1-Gl(1-2*e))/2:(1+Gl(2*e-1))/2}.linear,clamp:!1});class Zl{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Ql)}}function es(e,t){if(Ka.und(t.decay)){const n=!Ka.und(t.tension)||!Ka.und(t.friction);!n&&Ka.und(t.frequency)&&Ka.und(t.damping)&&Ka.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}const ts=[];class ns{constructor(){this.changed=!1,this.values=ts,this.toValues=null,this.fromValues=ts,this.to=void 0,this.from=void 0,this.config=new Zl,this.immediate=!1}}function rs(e,{key:t,props:n,defaultProps:r,state:a,actions:o}){return new Promise(((l,s)=>{var i;let c,u,d=Tl(null!=(i=n.cancel)?i:null==r?void 0:r.cancel,t);if(d)p();else{Ka.und(n.pause)||(a.paused=Tl(n.pause,t));let e=null==r?void 0:r.pause;!0!==e&&(e=a.paused||Tl(e,t)),c=Vl(n.delay||0,t),e?(a.resumeQueue.add(m),o.pause()):(o.resume(),m())}function f(){a.resumeQueue.add(m),a.timeouts.delete(u),u.cancel(),c=u.time-Pa.now()}function m(){c>0&&!lo.skipAnimation?(a.delayed=!0,u=Pa.setTimeout(p,c),a.pauseQueue.add(f),a.timeouts.add(u)):p()}function p(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(f),a.timeouts.delete(u),e<=(a.cancelId||0)&&(d=!0);try{o.start(Rl({},n,{callId:e,cancel:d}),l)}catch(t){s(t)}}}))}const as=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?ss(e.get()):t.every((e=>e.noop))?os(e.get()):ls(e.get(),t.every((e=>e.finished))),os=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),ls=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),ss=e=>({value:e,cancelled:!0,finished:!1});function is(e,t,n,r){const{callId:a,parentId:o,onRest:l}=t,{asyncTo:s,promise:i}=n;return o||e!==s||t.reset?n.promise=(async()=>{n.asyncId=a,n.asyncTo=e;const c=jl(t,((e,t)=>"onRest"===t?void 0:e));let u,d;const f=new Promise(((e,t)=>(u=e,d=t))),m=e=>{const t=a<=(n.cancelId||0)&&ss(r)||a!==n.asyncId&&ls(r,!1);if(t)throw e.result=t,d(e),e},p=(e,t)=>{const o=new us,l=new ds;return(async()=>{if(lo.skipAnimation)throw cs(n),l.result=ls(r,!1),d(l),l;m(o);const s=Ka.obj(e)?Rl({},e):Rl({},t,{to:e});s.parentId=a,Ja(c,((e,t)=>{Ka.und(s[t])&&(s[t]=e)}));const i=await r.start(s);return m(o),n.paused&&await new Promise((e=>{n.resumeQueue.add(e)})),i})()};let h;if(lo.skipAnimation)return cs(n),ls(r,!1);try{let t;t=Ka.arr(e)?(async e=>{for(const t of e)await p(t)})(e):Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([t.then(u),f]),h=ls(r.get(),!0,!1)}catch(v){if(v instanceof us)h=v.result;else{if(!(v instanceof ds))throw v;h=v.result}}finally{a==n.asyncId&&(n.asyncId=o,n.asyncTo=o?s:void 0,n.promise=o?i:void 0)}return Ka.fun(l)&&Pa.batchedUpdates((()=>{l(h,r,r.item)})),h})():i}function cs(e,t){Qa(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class us extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class ds extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const fs=e=>e instanceof ps;let ms=1;class ps extends Bo{constructor(...e){super(...e),this.id=ms++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=hl(this);return e&&e.getValue()}to(...e){return lo.to(this,e)}interpolate(...e){return ll(`${al}The "interpolate" function is deprecated in v9 (use "to" instead)`),lo.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Ho(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||fo.sort(this),Ho(this,{type:"priority",parent:this,priority:e})}}const hs=Symbol.for("SpringPhase"),vs=e=>(1&e[hs])>0,gs=e=>(2&e[hs])>0,ys=e=>(4&e[hs])>0,bs=(e,t)=>t?e[hs]|=3:e[hs]&=-3,ws=(e,t)=>t?e[hs]|=4:e[hs]&=-5;class Es extends ps{constructor(e,t){if(super(),this.key=void 0,this.animation=new ns,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Ka.und(e)||!Ka.und(t)){const n=Ka.obj(e)?Rl({},e):Rl({},t,{from:e});Ka.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(gs(this)||this._state.asyncTo)||ys(this)}get goal(){return $o(this.animation.to)}get velocity(){const e=hl(this);return e instanceof bl?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return vs(this)}get isAnimating(){return gs(this)}get isPaused(){return ys(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{config:a,toValues:o}=r;const l=gl(r.to);!l&&Lo(r.to)&&(o=Ga($o(r.to))),r.values.forEach(((s,i)=>{if(s.done)return;const c=s.constructor==wl?1:l?l[i].lastPosition:o[i];let u=r.immediate,d=c;if(!u){if(d=s.lastPosition,a.tension<=0)return void(s.done=!0);let t=s.elapsedTime+=e;const n=r.fromValues[i],o=null!=s.v0?s.v0:s.v0=Ka.arr(a.velocity)?a.velocity[i]:a.velocity;let l;if(Ka.und(a.duration))if(a.decay){const e=!0===a.decay?.998:a.decay,r=Math.exp(-(1-e)*t);d=n+o/(1-e)*(1-r),u=Math.abs(s.lastPosition-d)<.1,l=o*r}else{l=null==s.lastVelocity?o:s.lastVelocity;const t=a.precision||(n==c?.005:Math.min(1,.001*Math.abs(c-n))),r=a.restVelocity||t/10,i=a.clamp?0:a.bounce,f=!Ka.und(i),m=n==c?s.v0>0:n<c;let p,h=!1;const v=1,g=Math.ceil(e/v);for(let e=0;e<g&&(p=Math.abs(l)>r,p||(u=Math.abs(c-d)<=t,!u));++e){f&&(h=d==c||d>c==m,h&&(l=-l*i,d=c));l+=(1e-6*-a.tension*(d-c)+.001*-a.friction*l)/a.mass*v,d+=l*v}}else{let r=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,s.durationProgress>0&&(s.elapsedTime=a.duration*s.durationProgress,t=s.elapsedTime+=e)),r=(a.progress||0)+t/this._memoizedDuration,r=r>1?1:r<0?0:r,s.durationProgress=r),d=n+a.easing(r)*(c-n),l=(d-s.lastPosition)/e,u=1==r}s.lastVelocity=l,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),u=!0)}l&&!l[i].done&&(u=!1),u?s.done=!0:t=!1,s.setValue(d,a.round)&&(n=!0)}));const s=hl(this),i=s.getValue();if(t){const e=$o(r.to);i===e&&!n||a.decay?n&&a.decay&&this._onChange(i):(s.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(i)}set(e){return Pa.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(gs(this)){const{to:e,config:t}=this.animation;Pa.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return Ka.und(e)?(n=this.queue||[],this.queue=[]):n=[Ka.obj(e)?e:Rl({},t,{to:e})],Promise.all(n.map((e=>this._update(e)))).then((e=>as(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),cs(this._state,e&&this._lastCallId),Pa.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=Ka.obj(n)?n[t]:n,(null==n||Bl(n))&&(n=void 0),r=Ka.obj(r)?r[t]:r,null==r&&(r=void 0);const a={to:n,from:r};return vs(this)||(e.reverse&&([n,r]=[r,n]),r=$o(r),Ka.und(r)?hl(this)||this._set(n):this._set(r)),a}_update(e,t){let n=Rl({},e);const{key:r,defaultProps:a}=this;n.default&&Object.assign(a,jl(n,((e,t)=>/^on/.test(t)?Il(e,r):e))),Os(this,n,"onProps"),Ps(this,"onProps",n,this);const o=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const l=this._state;return rs(++this._lastCallId,{key:r,props:n,defaultProps:a,state:l,actions:{pause:()=>{ys(this)||(ws(this,!0),Za(l.pauseQueue),Ps(this,"onPause",ls(this,xs(this,this.animation.to)),this))},resume:()=>{ys(this)&&(ws(this,!1),gs(this)&&this._resume(),Za(l.resumeQueue),Ps(this,"onResume",ls(this,xs(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then((e=>{if(n.loop&&e.finished&&(!t||!e.noop)){const e=Cs(n);if(e)return this._update(e,!0)}return e}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(ss(this));const r=!Ka.und(e.to),a=!Ka.und(e.from);if(r||a){if(!(t.callId>this._lastToId))return n(ss(this));this._lastToId=t.callId}const{key:o,defaultProps:l,animation:s}=this,{to:i,from:c}=s;let{to:u=i,from:d=c}=e;!a||r||t.default&&!Ka.und(u)||(u=d),t.reverse&&([u,d]=[d,u]);const f=!Ya(d,c);f&&(s.from=d),d=$o(d);const m=!Ya(u,i);m&&this._focus(u);const p=Bl(t.to),{config:h}=s,{decay:v,velocity:g}=h;(r||a)&&(h.velocity=0),t.config&&!p&&function(e,t,n){n&&(es(n=Rl({},n),t),t=Rl({},n,t)),es(e,t),Object.assign(e,t);for(const l in Ql)null==e[l]&&(e[l]=Ql[l]);let{mass:r,frequency:a,damping:o}=e;Ka.und(a)||(a<.01&&(a=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/a,2)*r,e.friction=4*Math.PI*o*r/a)}(h,Vl(t.config,o),t.config!==l.config?Vl(l.config,o):void 0);let y=hl(this);if(!y||Ka.und(u))return n(ls(this,!0));const b=Ka.und(t.reset)?a&&!t.default:!Ka.und(d)&&Tl(t.reset,o),w=b?d:this.get(),E=zl(u),x=Ka.num(E)||Ka.arr(E)||il(E),C=!p&&(!x||Tl(l.immediate||t.immediate,o));if(m){const e=kl(u);if(e!==y.constructor){if(!C)throw Error(`Cannot animate between ${y.constructor.name} and ${e.name}, as the "to" prop suggests`);y=this._set(E)}}const _=y.constructor;let k=Lo(u),N=!1;if(!k){const e=b||!vs(this)&&f;(m||e)&&(N=Ya(zl(w),E),k=!N),(Ya(s.immediate,C)||C)&&Ya(h.decay,v)&&Ya(h.velocity,g)||(k=!0)}if(N&&gs(this)&&(s.changed&&!b?k=!0:k||this._stop(i)),!p&&((k||Lo(i))&&(s.values=y.getPayload(),s.toValues=Lo(u)?null:_==wl?[1]:Ga(E)),s.immediate!=C&&(s.immediate=C,C||b||this._set(i)),k)){const{onRest:e}=s;Xa(Ss,(e=>Os(this,t,e)));const r=ls(this,xs(this,i));Za(this._pendingCalls,r),this._pendingCalls.add(n),s.changed&&Pa.batchedUpdates((()=>{s.changed=!b,null==e||e(r,this),b?Vl(l.onRest,r):null==s.onStart||s.onStart(r,this)}))}b&&this._set(w),p?n(is(t.to,t,this._state,this)):k?this._start():gs(this)&&!m?this._pendingCalls.add(n):n(os(w))}_focus(e){const t=this.animation;e!==t.to&&(zo(this)&&this._detach(),t.to=e,zo(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Lo(t)&&(Uo(t,this),fs(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Lo(e)&&Wo(e,this)}_set(e,t=!0){const n=$o(e);if(!Ka.und(n)){const e=hl(this);if(!e||!Ya(n,e.getValue())){const r=kl(n);e&&e.constructor==r?e.setValue(n):vl(this,r.create(n)),e&&Pa.batchedUpdates((()=>{this._onChange(n,t)}))}}return hl(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Ps(this,"onStart",ls(this,xs(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Vl(this.animation.onChange,e,this)),Vl(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;hl(this).reset($o(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),gs(this)||(bs(this,!0),ys(this)||this._resume())}_resume(){lo.skipAnimation?this.finish():fo.start(this)}_stop(e,t){if(gs(this)){bs(this,!1);const n=this.animation;Xa(n.values,(e=>{e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Ho(this,{type:"idle",parent:this});const r=t?ss(this.get()):ls(this.get(),xs(this,null!=e?e:n.to));Za(this._pendingCalls,r),n.changed&&(n.changed=!1,Ps(this,"onRest",r,this))}}}function xs(e,t){const n=zl(t);return Ya(zl(e.get()),n)}function Cs(e,t=e.loop,n=e.to){let r=Vl(t);if(r){const a=!0!==r&&$l(r),o=(a||e).reverse,l=!a||a.reset;return _s(Rl({},e,{loop:t,default:!1,pause:void 0,to:!o||Bl(n)?n:void 0,from:l?e.from:void 0,reset:l},a))}}function _s(e){const{to:t,from:n}=e=$l(e),r=new Set;return Ka.obj(t)&&Ns(t,r),Ka.obj(n)&&Ns(n,r),e.keys=r.size?Array.from(r):null,e}function ks(e){const t=_s(e);return Ka.und(t.default)&&(t.default=jl(t)),t}function Ns(e,t){Ja(e,((e,n)=>null!=e&&t.add(n)))}const Ss=["onStart","onRest","onChange","onPause","onResume"];function Os(e,t,n){e.animation[n]=t[n]!==Fl(t,n)?Il(t[n],e.key):void 0}function Ps(e,t,...n){var r,a,o,l;null==(r=(a=e.animation)[t])||r.call(a,...n),null==(o=(l=e.defaultProps)[t])||o.call(l,...n)}const Ms=["onStart","onChange","onRest"];let Rs=1;class Vs{constructor(e,t){this.id=Rs++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(Rl({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}set(e){for(const t in e){const n=e[t];Ka.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(_s(e)),this}start(e){let{queue:t}=this;return e?t=Ga(e).map(_s):this.queue=[],this._flush?this._flush(this,t):(Ls(this,t),Ts(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;Xa(Ga(t),(t=>n[t].stop(!!e)))}else cs(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(Ka.und(e))this.start({pause:!0});else{const t=this.springs;Xa(Ga(e),(e=>t[e].pause()))}return this}resume(e){if(Ka.und(e))this.start({pause:!1});else{const t=this.springs;Xa(Ga(e),(e=>t[e].resume()))}return this}each(e){Ja(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,a=this._changed.size>0;(r&&!this._started||a&&!this._started)&&(this._started=!0,Qa(e,(([e,t])=>{t.value=this.get(),e(t,this,this._item)})));const o=!r&&this._started,l=a||o&&n.size?this.get():null;a&&t.size&&Qa(t,(([e,t])=>{t.value=l,e(t,this,this._item)})),o&&(this._started=!1,Qa(n,(([e,t])=>{t.value=l,e(t,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}Pa.onFrame(this._onFrame)}}function Ts(e,t){return Promise.all(t.map((t=>Is(e,t)))).then((t=>as(e,t)))}async function Is(e,t,n){const{keys:r,to:a,from:o,loop:l,onRest:s,onResolve:i}=t,c=Ka.obj(t.default)&&t.default;l&&(t.loop=!1),!1===a&&(t.to=null),!1===o&&(t.from=null);const u=Ka.arr(a)||Ka.fun(a)?a:void 0;u?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):Xa(Ms,(n=>{const r=t[n];if(Ka.fun(r)){const a=e._events[n];t[n]=({finished:e,cancelled:t})=>{const n=a.get(r);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):a.set(r,{value:null,finished:e||!1,cancelled:t||!1})},c&&(c[n]=t[n])}}));const d=e._state;t.pause===!d.paused?(d.paused=t.pause,Za(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);const f=(r||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),m=!0===t.cancel||!0===Fl(t,"cancel");(u||m&&d.asyncId)&&f.push(rs(++e._lastAsyncId,{props:t,state:d,actions:{pause:Wa,resume:Wa,start(t,n){m?(cs(d,e._lastAsyncId),n(ss(e))):(t.onRest=s,n(is(u,t,d,e)))}}})),d.paused&&await new Promise((e=>{d.resumeQueue.add(e)}));const p=as(e,await Promise.all(f));if(l&&p.finished&&(!n||!p.noop)){const n=Cs(t,l,a);if(n)return Ls(e,[n]),Is(e,n,!0)}return i&&Pa.batchedUpdates((()=>i(p,e,e.item))),p}function Fs(e,t){const n=Rl({},e.springs);return t&&Xa(Ga(t),(e=>{Ka.und(e.keys)&&(e=_s(e)),Ka.obj(e.to)||(e=Rl({},e,{to:void 0})),Ds(n,e,(e=>js(e)))})),As(e,n),n}function As(e,t){Ja(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,Uo(t,e))}))}function js(e,t){const n=new Es;return n.key=e,t&&Uo(n,t),n}function Ds(e,t,n){t.keys&&Xa(t.keys,(r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function Ls(e,t){Xa(t,(t=>{Ds(e.springs,t,(t=>js(t,e)))}))}const $s=["children"],zs=e=>{let{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,$s);const a=t.useContext(Hs),o=r.pause||!!a.pause,s=r.immediate||!!a.immediate;r=function(e,n){const[r]=t.useState((()=>({inputs:n,result:e()}))),a=t.useRef(),o=a.current;let l=o;l?Boolean(n&&l.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,l.inputs))||(l={inputs:n,result:e()}):l=r;return t.useEffect((()=>{a.current=l,o==r&&(r.inputs=r.result=void 0)}),[l]),l.result}((()=>({pause:o,immediate:s})),[o,s]);const{Provider:i}=Hs;return l.createElement(i,{value:r},n)},Hs=(Bs=zs,qs={},Object.assign(Bs,l.createContext(qs)),Bs.Provider._context=Bs,Bs.Consumer._context=Bs,Bs);var Bs,qs;zs.Provider=Hs.Provider,zs.Consumer=Hs.Consumer;const Us=()=>{const e=[],t=function(t){sl(`${al}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);const r=[];return Xa(e,((e,a)=>{if(Ka.und(t))r.push(e.start());else{const o=n(t,e,a);o&&r.push(e.start(o))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return Xa(e,(e=>e.pause(...arguments))),this},t.resume=function(){return Xa(e,(e=>e.resume(...arguments))),this},t.set=function(t){Xa(e,(e=>e.set(t)))},t.start=function(t){const n=[];return Xa(e,((e,r)=>{if(Ka.und(t))n.push(e.start());else{const a=this._getProps(t,e,r);a&&n.push(e.start(a))}})),n},t.stop=function(){return Xa(e,(e=>e.stop(...arguments))),this},t.update=function(t){return Xa(e,((e,n)=>e.update(this._getProps(t,e,n)))),this};const n=function(e,t,n){return Ka.fun(e)?e(n,t):e};return t._getProps=n,t};function Ws(e,n,r){const a=Ka.fun(n)&&n;a&&!r&&(r=[]);const o=t.useMemo((()=>a||3==arguments.length?Us():void 0),[]),l=t.useRef(0),s=ul(),i=t.useMemo((()=>({ctrls:[],queue:[],flush(e,t){const n=Fs(e,t);return l.current>0&&!i.queue.length&&!Object.keys(n).some((t=>!e.springs[t]))?Ts(e,t):new Promise((r=>{As(e,n),i.queue.push((()=>{r(Ts(e,t))})),s()}))}})),[]),c=t.useRef([...i.ctrls]),u=[],d=ml(e)||0;function f(e,t){for(let r=e;r<t;r++){const e=c.current[r]||(c.current[r]=new Vs(null,i.flush)),t=a?a(r,e):n[r];t&&(u[r]=ks(t))}}t.useMemo((()=>{Xa(c.current.slice(e,d),(e=>{ql(e,o),e.stop(!0)})),c.current.length=e,f(d,e)}),[e]),t.useMemo((()=>{f(0,Math.min(d,e))}),r);const m=c.current.map(((e,t)=>Fs(e,u[t]))),p=t.useContext(zs),h=ml(p),v=p!==h&&Hl(p);cl((()=>{l.current++,i.ctrls=c.current;const{queue:e}=i;e.length&&(i.queue=[],Xa(e,(e=>e()))),Xa(c.current,((e,t)=>{null==o||o.add(e),v&&e.start({default:p});const n=u[t];n&&(Ul(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),dl((()=>()=>{Xa(i.ctrls,(e=>e.stop(!0)))}));const g=m.map((e=>Rl({},e)));return o?[g,o]:g}function Ks(e,t){const n=Ka.fun(e),[[r],a]=Ws(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[r,a]:r}let Ys;var Xs;(Xs=Ys||(Ys={})).MOUNT="mount",Xs.ENTER="enter",Xs.UPDATE="update",Xs.LEAVE="leave";class Js extends ps{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=Fo(...t);const n=this._get(),r=kl(n);vl(this,r.create(n))}advance(e){const t=this._get();Ya(t,this.get())||(hl(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Qs(this._active)&&Zs(this)}_get(){const e=Ka.arr(this.source)?this.source.map($o):Ga($o(this.source));return this.calc(...e)}_start(){this.idle&&!Qs(this._active)&&(this.idle=!1,Xa(gl(this),(e=>{e.done=!1})),lo.skipAnimation?(Pa.batchedUpdates((()=>this.advance())),Zs(this)):fo.start(this))}_attach(){let e=1;Xa(Ga(this.source),(t=>{Lo(t)&&Uo(t,this),fs(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){Xa(Ga(this.source),(e=>{Lo(e)&&Wo(e,this)})),this._active.clear(),Zs(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Ga(this.source).reduce(((e,t)=>Math.max(e,(fs(t)?t.priority:0)+1)),0))}}function Gs(e){return!1!==e.idle}function Qs(e){return!e.size||Array.from(e).every(Gs)}function Zs(e){e.idle||(e.idle=!0,Xa(gl(e),(e=>{e.done=!0})),Ho(e,{type:"idle",parent:e}))}function ei(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}lo.assign({createStringInterpolator:rl,to:(e,t)=>new Js(e,t)});const ti=["style","children","scrollTop","scrollLeft"],ni=/^--/;function ri(e,t){return null==t||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||ni.test(e)||oi.hasOwnProperty(e)&&oi[e]?(""+t).trim():t+"px"}const ai={};let oi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const li=["Webkit","Ms","Moz","O"];oi=Object.keys(oi).reduce(((e,t)=>(li.forEach((n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t])),e)),oi);const si=["x","y","z"],ii=/^(matrix|translate|scale|rotate|skew)/,ci=/^(translate)/,ui=/^(rotate|skew)/,di=(e,t)=>Ka.num(e)&&0!==e?e+t:e,fi=(e,t)=>Ka.arr(e)?e.every((e=>fi(e,t))):Ka.num(e)?e===t:parseFloat(e)===t;class mi extends xl{constructor(e){let{x:t,y:n,z:r}=e,a=ei(e,si);const o=[],l=[];(t||n||r)&&(o.push([t||0,n||0,r||0]),l.push((e=>[`translate3d(${e.map((e=>di(e,"px"))).join(",")})`,fi(e,0)]))),Ja(a,((e,t)=>{if("transform"===t)o.push([e||""]),l.push((e=>[e,""===e]));else if(ii.test(t)){if(delete a[t],Ka.und(e))return;const n=ci.test(t)?"px":ui.test(t)?"deg":"";o.push(Ga(e)),l.push("rotate3d"===t?([e,t,r,a])=>[`rotate3d(${e},${t},${r},${di(a,n)})`,fi(a,0)]:e=>[`${t}(${e.map((e=>di(e,n))).join(",")})`,fi(e,t.startsWith("scale")?1:0)])}})),o.length&&(a.transform=new pi(o,l)),super(a)}}class pi extends Bo{constructor(e,t){super(),this._value=null,this.inputs=e,this.transforms=t}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Xa(this.inputs,((n,r)=>{const a=$o(n[0]),[o,l]=this.transforms[r](Ka.arr(a)?a:n.map($o));e+=" "+o,t=t&&l})),t?"none":e}observerAdded(e){1==e&&Xa(this.inputs,(e=>Xa(e,(e=>Lo(e)&&Uo(e,this)))))}observerRemoved(e){0==e&&Xa(this.inputs,(e=>Xa(e,(e=>Lo(e)&&Wo(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),Ho(this,e)}}const hi=["scrollTop","scrollLeft"];lo.assign({batchedUpdates:n.unstable_batchedUpdates,createStringInterpolator:rl,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});const vi=((e,{applyAnimatedValues:t=(()=>!1),createAnimatedStyle:n=(e=>new xl(e)),getComponentProps:r=(e=>e)}={})=>{const a={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},o=e=>{const t=Ml(e)||"Anonymous";return(e=Ka.str(e)?o[e]||(o[e]=Sl(e,a)):e[Pl]||(e[Pl]=Sl(e,a))).displayName=`Animated(${t})`,e};return Ja(e,((t,n)=>{Ka.arr(e)&&(n=Ml(t)),o[n]=o(t)})),{animated:o}})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,{style:a,children:o,scrollTop:l,scrollLeft:s}=r,i=ei(r,ti),c=Object.values(i),u=Object.keys(i).map((t=>n||e.hasAttribute(t)?t:ai[t]||(ai[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==o&&(e.textContent=o);for(let d in a)if(a.hasOwnProperty(d)){const t=ri(d,a[d]);ni.test(d)?e.style.setProperty(d,t):e.style[d]=t}u.forEach(((t,n)=>{e.setAttribute(t,c[n])})),void 0!==l&&(e.scrollTop=l),void 0!==s&&(e.scrollLeft=s)},createAnimatedStyle:e=>new mi(e),getComponentProps:e=>ei(e,hi)}).animated,gi=([fa,ma].forEach(da),function(e,t){const{handlers:n,nativeHandlers:r,config:a}=ka(e,t||{});return Na(n,a,void 0,r)});function yi(e,t,n){let r=e;return void 0!==t&&(r=Math.max(e,t)),void 0!==n&&(r=Math.min(r,n)),r}function bi(e,t,n){return e*t*n/(t+n*e)}function wi(e,t,n,r,a=.15){return 0===a?yi(e,t,n):e<t?-bi(t-e,r,a)+t:e>n?+bi(e-n,r,a)+n:e}const[Ei]=w("image-preview"),xi=e=>{const{dragLockRef:n}=e,r=t.useRef(null),a=t.useRef(null),[{zoom:l,x:s,y:i},c]=Ks((()=>({zoom:1,x:0,y:0,config:{tension:200}}))),u=t.useRef(!1);function d([e,t],n){const o=l.get();let s=0,i=0;a.current&&r.current&&(s=((o*a.current.width||0)-r.current.clientWidth)/2,i=((o*a.current.height||0)-r.current.clientHeight)/2),s=s>0?s:0,i=i>0?i:0;const c={left:-s,right:s,top:-i,bottom:i};return n?[wi(e,c.left,c.right,50*o),wi(t,c.top,c.bottom,50*o)]:[yi(e,c.left,c.right),yi(t,c.top,c.bottom)]}gi({onDrag:t=>{if(t.tap&&t.elapsedTime>0&&t.elapsedTime<1e3)return void e.onTap();const r=l.get();if(n&&(n.current=1!==r),!u.current&&r<=1)c.start({x:0,y:0});else if(t.last){const[e,n]=d([t.offset[0]+t.velocity[0]*t.direction[0]*200,t.offset[1]+t.velocity[1]*t.direction[1]*200],!1);c.start({x:e,y:n})}else{const[e,n]=d(t.offset,!0);c.start({x:e,y:n,immediate:!0})}},onPinch:t=>{var r;u.current=!t.last;const[a]=t.offset;if(a<0)return;const o=t.last?yi(a,1,e.maxZoom):a;c.start({zoom:o,immediate:!t.last}),null==(r=e.onZoomChange)||r.call(e,o),t.last&&o<=1?(c.start({x:0,y:0}),n&&(n.current=!1)):n&&(n.current=!0)}},{target:r,drag:{from:()=>[s.get(),i.get()],pointer:{touch:!0}},pinch:{from:()=>[l.get(),0],pointer:{touch:!0}}});const{lazyload:f}=e;return o.default.createElement("div",{className:Ve(Ei("slide")),onPointerMove:e=>{1!==l.get()&&e.stopPropagation()}},o.default.createElement("div",{className:Ve(Ei("control")),ref:r},o.default.createElement(vi.div,{className:Ve(Ei("image-wrapper")),style:{translateX:s,translateY:i,scale:l}},e.lazyload?o.default.createElement(Er,{placeholder:"boolean"==typeof f?xr(Ei):f.placeholder||xr(Ei)},o.default.createElement("img",{ref:a,src:e.image,draggable:!1,alt:e.image})):o.default.createElement("img",{ref:a,src:e.image,draggable:!1,alt:e.image}))))},[Ci]=w("image-preview"),_i=t.forwardRef(((e,n)=>{const r=window.innerWidth+X(16),[{x:a},l]=Ks((()=>({x:e.defaultIndex*r,config:{tension:250,clamp:!0}}))),s=e.images.length;function i(t,n=!1){var a;const o=yi(t,0,s-1);null==(a=e.onIndexChange)||a.call(e,o),l.start({x:o*r,immediate:n})}ce((()=>{i(e.defaultIndex,!0)}),[e.defaultIndex]),t.useImperativeHandle(n,(()=>({swipeTo:i})));const c=t.useRef(!1),u=Sa((e=>{if(c.current)return;const[t]=e.offset;if(e.last){const n=Math.floor(t/r),a=n+1,o=Math.min(2e3*e.velocity[0],r)*e.direction[0];i(yi(Math.round((t+o)/r),n,a))}else l.start({x:t,immediate:!0})}),{transform:([e,t])=>[-e,t],from:()=>[a.get(),0],bounds:()=>({left:0,right:(s-1)*r}),rubberband:!0,axis:"x",pointer:{touch:!0}});return o.default.createElement("div",__spreadValues({className:Ve(Ci("slides"))},u()),o.default.createElement(vi.div,{className:Ve(Ci("slides-inner")),style:{x:a.to((e=>-e))}},e.images.map(((t,n)=>o.default.createElement(xi,{key:`${t}${n}`,image:t,onTap:e.onTap,maxZoom:e.maxZoom,lazyload:e.lazyload,onZoomChange:e=>{if(1!==e){const e=Math.round(a.get()/r);l.start({x:e*r})}},dragLockRef:c})))))})),[ki]=w("indicator"),Ni=o.default.memo((e=>{var t=e,{vertical:n}=t,r=__objRest(t,["vertical"]);const a=[];for(let l=0;l<r.total;l++)a.push(o.default.createElement("div",{key:l,className:Ve(ki("dot",{active:r.current===l}))}));return o.default.createElement("div",{className:Ve(r.className,ki({vertical:n})),style:r.style},a)})),[Si]=w("image-preview"),Oi=o.default.forwardRef(((e,n)=>{const r=Je(e,{overlay:!0,showIndex:!0,images:[],swipeDuration:300,startPosition:0,closeIconPosition:"top-right",showIndicators:!1,closeOnlyClickCloseIcon:!1,maxZoom:3}),a=t.useRef(null),[l,s]=t.useState((()=>r.startPosition)),i=o.default.useMemo((()=>r.images[l]),[l,r.images]),c=e=>{var t;l!==e&&(s(e),null==(t=r.onChange)||t.call(r,e))},u=()=>{var e;null==(e=r.onClose)||e.call(r,{url:i,index:l})};return o.default.useImperativeHandle(n,(()=>({swipeTo:(e,t)=>{var n;s(e),null==(n=a.current)||n.swipeTo(e,t)}}))),o.default.createElement(En,__spreadValues({className:Ve(Si(),r.className),overlayClass:Ve(Si("overlay"))},g(r,["visible","overlayStyle","closeOnPopstate","onClosed","beforeClose","teleport"])),r.closeable?o.default.cloneElement(r.closeIcon,{className:Ve(Si("close-icon",r.closeIconPosition)),onClick:u}):null,o.default.createElement("div",{className:Ve(Si("content"))},r.images&&o.default.createElement(_i,{ref:a,defaultIndex:r.startPosition,onIndexChange:c,images:r.images,lazyload:r.lazyload,onTap:()=>{r.closeOnlyClickCloseIcon||u()},maxZoom:r.maxZoom})),r.showIndex?o.default.createElement("div",{className:Ve(Si("index"))},r.indexRender?r.indexRender({index:l,len:r.images.length}):`${l+1} / ${r.images.length}`):null,r.showIndicators?o.default.createElement("div",{className:Ve(Si("indicator"))},o.default.createElement(Ni,{total:r.images.length,current:l})):null)})),Pi={images:[],className:"",showIndex:!0,closeable:!1,closeIcon:o.default.createElement(ft,null),startPosition:0,swipeDuration:300,closeOnPopstate:!0,closeIconPosition:"top-right"},Mi=Object.assign(Oi,{open:e=>{if(!dn())return null;const n=e,{onClose:r=d,beforeClose:a}=n,l=__objRest(n,["onClose","beforeClose"]),s=un(e.teleport),i=document.createElement("div");s.appendChild(i);let c=d;const u=()=>{const[e,n]=t.useState(!1);t.useEffect((()=>{n(!0)}),[]),c=e=>{n(!1),r&&r(e)};return o.default.createElement(Oi,__spreadProps(__spreadValues(__spreadValues({},Pi),l),{visible:e,teleport:()=>i,onClose:c,beforeClose:async e=>{if(!1!==await(null==a?void 0:a(0))){c(e);return zn(i)&&i.parentNode&&i.parentNode.removeChild(i),!0}return!1}}))};return $n(o.default.createElement(u,null),i),c}});const Ri="rv-empty-network-",Vi=(e,t,n)=>o.default.createElement("stop",{stopColor:e,offset:`${t}%`,stopOpacity:n}),Ti=o.default.createElement("svg",{viewBox:"0 0 160 160"},o.default.createElement("defs",null,o.default.createElement("linearGradient",{id:`${Ri}1`,x1:"64.022%",y1:"100%",x2:"64.022%",y2:"0%"},Vi("#FFF",0,.5),Vi("#F2F3F5",100)),o.default.createElement("linearGradient",{id:`${Ri}2`,x1:"50%",y1:"0%",x2:"50%",y2:"84.459%"},Vi("#EBEDF0",0),Vi("#DCDEE0",100,0)),o.default.createElement("linearGradient",{id:`${Ri}3`,x1:"100%",y1:"0%",x2:"100%",y2:"100%"},Vi("#EAEDF0",0),Vi("#DCDEE0",100)),o.default.createElement("linearGradient",{id:`${Ri}4`,x1:"100%",y1:"100%",x2:"100%",y2:"0%"},Vi("#EAEDF0",0),Vi("#DCDEE0",100)),o.default.createElement("linearGradient",{id:`${Ri}5`,x1:"0%",y1:"43.982%",x2:"100%",y2:"54.703%"},Vi("#EAEDF0",0),Vi("#DCDEE0",100)),o.default.createElement("linearGradient",{id:`${Ri}6`,x1:"94.535%",y1:"43.837%",x2:"5.465%",y2:"54.948%"},Vi("#EAEDF0",0),Vi("#DCDEE0",100)),o.default.createElement("radialGradient",{id:`${Ri}7`,cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54835 0 .5 -.5)"},Vi("#EBEDF0",0),Vi("#FFF",100,0))),o.default.createElement("g",{fill:"none",fillRule:"evenodd"},o.default.createElement("g",{opacity:".8"},o.default.createElement("path",{d:"M0 124V46h20v20h14v58H0z",fill:`url(#${Ri}1)`,transform:"matrix(-1 0 0 1 36 7)"}),o.default.createElement("path",{d:"M121 8h22.231v14H152v77.37h-31V8z",fill:`url(#${Ri}1)`,transform:"translate(2 7)"})),o.default.createElement("path",{fill:`url(#${Ri}7)`,d:"M0 139h160v21H0z"}),o.default.createElement("path",{d:"M37 18a7 7 0 013 13.326v26.742c0 1.23-.997 2.227-2.227 2.227h-1.546A2.227 2.227 0 0134 58.068V31.326A7 7 0 0137 18z",fill:`url(#${Ri}2)`,fillRule:"nonzero",transform:"translate(43 36)"}),o.default.createElement("g",{opacity:".6",strokeLinecap:"round",strokeWidth:"7"},o.default.createElement("path",{d:"M20.875 11.136a18.868 18.868 0 00-5.284 13.121c0 5.094 2.012 9.718 5.284 13.12",stroke:`url(#${Ri}3)`,transform:"translate(43 36)"}),o.default.createElement("path",{d:"M9.849 0C3.756 6.225 0 14.747 0 24.146c0 9.398 3.756 17.92 9.849 24.145",stroke:`url(#${Ri}3)`,transform:"translate(43 36)"}),o.default.createElement("path",{d:"M57.625 11.136a18.868 18.868 0 00-5.284 13.121c0 5.094 2.012 9.718 5.284 13.12",stroke:`url(#${Ri}4)`,transform:"rotate(-180 76.483 42.257)"}),o.default.createElement("path",{d:"M73.216 0c-6.093 6.225-9.849 14.747-9.849 24.146 0 9.398 3.756 17.92 9.849 24.145",stroke:`url(#${Ri}4)`,transform:"rotate(-180 89.791 42.146)"})),o.default.createElement("g",{transform:"translate(31 105)",fillRule:"nonzero"},o.default.createElement("rect",{fill:`url(#${Ri}5)`,width:"98",height:"34",rx:"2"}),o.default.createElement("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.114"}),o.default.createElement("rect",{fill:`url(#${Ri}6)`,x:"15",y:"12",width:"18",height:"6",rx:"1.114"})))),Ii=["error","search","default"],[Fi]=w("empty");const[Ai]=w("notify"),ji=e=>{var t=e,{children:n}=t;const r=Je(__objRest(t,["children"]),{type:"danger",duration:3e3,color:"white",lockScroll:!1}),a={color:r.color,background:r.background};return o.default.createElement(En,{visible:r.visible,style:a,overlay:!1,position:"top",lockScroll:r.lockScroll,onClick:r.onClick,onClose:r.onClose,onClosed:r.onClosed,teleport:r.teleport},o.default.createElement("div",{className:Ve(Ai([r.type]),r.className)},n||r.message))};let Di=0;function Li(e){e?(Di||document.body.classList.add("rv-toast--unclickable"),Di+=1):Di&&(Di-=1,Di||document.body.classList.remove("rv-toast--unclickable"))}const $i={};const zi=[];function Hi(){let e=zi.pop();for(;e;)e(),Li(!1),e=zi.pop()}$i.currentOptions={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,duration:3e3,className:"",lockScroll:!1,background:void 0};const Bi=function(){setTimeout(Hi)},qi=Object.assign(ji,{show:e=>{if(!dn())return null;const n=v(r=e)?r:{message:r};var r;const a=__spreadValues(__spreadValues({},$i.currentOptions),n),{onClose:l=d,duration:s}=a,i=__objRest(a,["onClose","duration"]);let c=0;const u=un(n.teleport),f=document.createElement("div");u.appendChild(f);let m=d;const p=()=>{const[e,n]=t.useState(!1);m=()=>{n(!1),l&&l()};const r=()=>{zn(f)&&f.parentNode&&f.parentNode.removeChild(f)},a=(u=()=>{r()},(...e)=>{u&&(u(...e),u=null)});var u;return t.useEffect((()=>(n(!0),Hi(),zi.push(a),s&&+s>0&&(c=window.setTimeout(m,s)),()=>{0!==c&&window.clearTimeout(c)})),[]),o.default.createElement(ji,__spreadProps(__spreadValues({},i),{visible:e,teleport:()=>f,onClose:l,onClosed:r}))};return $n(o.default.createElement(p,null),f),m},setDefaultOptions:e=>{f($i.currentOptions,e)},resetDefaultOptions:()=>{$i.currentOptions={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,duration:3e3,className:"",lockScroll:!1,background:void 0}},clear:Bi});const Ui=["pulling","loosing","success"],[Wi]=w("pull-refresh");const Ki=e=>{const t=e;if(t===window){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}return t&&t.getBoundingClientRect?t.getBoundingClientRect():{top:0,left:0,right:0,bottom:0,width:0,height:0}},[Yi]=w("swipe-cell"),Xi=t.forwardRef(((e,n)=>{const r=Je(e,{name:""}),a=t.useRef(!1),l=t.useRef(!1),s=t.useRef(0),[i,c]=t.useState({offset:0,dragging:!1}),[d,f]=t.useState({left:0,right:0}),m=t.useRef(),h=e=>e?Ki(e).width:0,v=t.useCallback((e=>{null!==e&&f((t=>__spreadProps(__spreadValues({},t),{left:h(e)})))}),[]),g=t.useCallback((e=>{null!==e&&f((t=>__spreadProps(__spreadValues({},t),{right:h(e)})))}),[]),y=ye(),b=t.useMemo((()=>p(r.leftWidth)?+r.leftWidth:d.left),[r.leftWidth,d.left]),w=t.useMemo((()=>p(r.rightWidth)?+r.rightWidth:d.right),[r.rightWidth,d.right]),E=e=>{var t;a.current=!0;const n="left"===e?b:-w;null==(t=r.onOpen)||t.call(r,{name:r.name,position:e}),c((e=>__spreadProps(__spreadValues({},e),{offset:n})))},C=e=>{var t;a.current&&(a.current=!1,null==(t=r.onClose)||t.call(r,{name:r.name,position:e})),c((e=>__spreadProps(__spreadValues({},e),{offset:0})))},_=()=>{i.dragging&&(c((e=>__spreadProps(__spreadValues({},e),{dragging:!1}))),(e=>{const t=Math.abs(i.offset),n="left"===e?b:w;n&&t>n*(a?.85:.15)?E(e):C(e)})(i.offset>0?"left":"right"),setTimeout((()=>{l.current=!1}),0))},k=(e="outside")=>{var t;null==(t=r.onClick)||t.call(r,e),a.current&&!l.current&&cn({interceptor:r.beforeClose,args:[{name:r.name,position:e}],done:()=>C(e)})},N=(e,t)=>n=>{t&&n.stopPropagation(),k(e)},S=(e,t)=>r[`${e}Action`]?o.default.createElement("div",{ref:t,className:Ve(Yi(e)),onClick:N(e,!0)},r[`${e}Action`]):null;u(m,(()=>k("outside")),"touchstart"),t.useImperativeHandle(n,(()=>({open:E,close:()=>C("outside")})));const O={transform:`translate3d(${i.offset}px, 0, 0)`,transitionDuration:i.dragging?"0s":".6s"};return le("touchmove",(e=>{if(!r.disabled&&(y.move(e),y.isHorizontal())){l.current=!0;const t=__spreadProps(__spreadValues({},i),{dragging:!0});(!a.current||y.deltaX.current*s.current<0)&&x(e,r.stopPropagation),t.offset=J(y.deltaX.current+s.current,-w,b),c(t)}}),{target:m.current,depends:[y.deltaX]}),o.default.createElement("div",{ref:m,className:Ve(Yi()),onClick:N("cell"),onTouchStart:e=>{r.disabled||(s.current=i.offset,y.start(e))},onTouchEnd:_,onTouchCancel:_},o.default.createElement("div",{className:Ve(Yi("wrapper")),style:O},S("left",v),r.children,S("right",g)))}));const Ji=["qq","link","weibo","wechat","poster","qrcode","weapp-qrcode","wechat-moments"];function Gi(e){return Ji.includes(e)?`https://img.yzcdn.cn/vant/share-sheet-${e}.png`:e}const[Qi]=w("share-sheet");const[Zi]=w("notice-bar"),ec=t.forwardRef(((e,n)=>{const r=Je(e,{delay:1,speed:60,onClick:d,onClose:d}),{text:a,color:l,background:s,wrapable:i,scrollable:c,speed:u,delay:f=1}=r,m=t.useContext(mn),[h,v]=ie({show:!0,offset:0,duration:0}),g=t.useRef(),y=t.useRef(),b=t.useRef(0),w=t.useRef(0),E=t.useRef(null),x=e=>{"closeable"===r.mode&&(v({show:!1}),r.onClose&&r.onClose(e))},C=()=>{v({offset:b.current,duration:0}),P((()=>{R((()=>{v({offset:-w.current,duration:(w.current+b.current)/u}),r.onReplay&&r.onReplay()}))}))},_=()=>{const e=p(f)?1e3*+f:0;b.current=0,w.current=0,v({offset:0,duration:0}),clearTimeout(E.current),E.current=setTimeout((()=>{if(!g.current||!y.current||!1===c)return;const e=Ki(g.current).width,t=Ki(y.current).width;(c||t>e)&&R((()=>{b.current=e,w.current=t,v({offset:-w.current,duration:w.current/u})}))}),e)};return le("pageshow",_),t.useEffect((()=>{_()}),[a,c]),ce((()=>{_()}),[m.visible]),t.useImperativeHandle(n,(()=>({reset:_}))),h.show&&o.default.createElement("div",{role:"alert",className:Ve(Zi({wrapable:i}),r.className),style:__spreadValues({color:l,background:s},r.style),onClick:r.onClick},r.leftIcon?o.default.cloneElement(r.leftIcon,{className:Ve(Zi("left-icon"))}):null,(()=>{const e=!1===c&&!r.wrapable,t={transform:h.offset?`translateX(${h.offset}px)`:"",transitionDuration:`${h.duration}s`};return o.default.createElement("div",{className:Ve(Zi("wrap")),ref:g},o.default.createElement("div",{className:Ve(Zi("content"),{"rv-ellipsis":e}),ref:y,style:t,onTransitionEnd:C},r.children||a))})(),(()=>{if(r.rightIcon)return r.rightIcon;const e=r.rightIcon||("closeable"===r.mode?o.default.createElement(vt,null):"link"===r.mode?o.default.createElement(it,null):null);return e?o.default.cloneElement(e,{className:Ve(Zi("right-icon")),onClick:x}):null})())}));function tc(e,t){var n=e.getBoundingClientRect();return{width:n.width/1,height:n.height/1,top:n.top/1,right:n.right/1,bottom:n.bottom/1,left:n.left/1,x:n.left/1,y:n.top/1}}function nc(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function rc(e){var t=nc(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ac(e){return e instanceof nc(e).Element||e instanceof Element}function oc(e){return e instanceof nc(e).HTMLElement||e instanceof HTMLElement}function lc(e){return e?(e.nodeName||"").toLowerCase():null}function sc(e){return((ac(e)?e.ownerDocument:e.document)||window.document).documentElement}function ic(e){return nc(e).getComputedStyle(e)}function cc(e){var t=ic(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function uc(e,t,n){void 0===n&&(n=!1);var r=oc(t);oc(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1}(t);var a,o,l=sc(t),s=tc(e),i={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==lc(t)||cc(l))&&(i=(a=t)!==nc(a)&&oc(a)?{scrollLeft:(o=a).scrollLeft,scrollTop:o.scrollTop}:rc(a)),oc(t)?((c=tc(t)).x+=t.clientLeft,c.y+=t.clientTop):l&&(c.x=function(e){return tc(sc(e)).left+rc(e).scrollLeft}(l))),{x:s.left+i.scrollLeft-c.x,y:s.top+i.scrollTop-c.y,width:s.width,height:s.height}}function dc(e){return"html"===lc(e)?e:e.assignedSlot||e.parentNode||(t=e,"undefined"!=typeof ShadowRoot&&(t instanceof nc(t).ShadowRoot||t instanceof ShadowRoot)?e.host:null)||sc(e);var t}function fc(e){return["html","body","#document"].indexOf(lc(e))>=0?e.ownerDocument.body:oc(e)&&cc(e)?e:fc(dc(e))}function mc(e,t){var n;void 0===t&&(t=[]);var r=fc(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),o=nc(r),l=a?[o].concat(o.visualViewport||[],cc(r)?r:[]):r,s=t.concat(l);return a?s:s.concat(mc(dc(l)))}function pc(e){return["table","td","th"].indexOf(lc(e))>=0}function hc(e){return oc(e)&&"fixed"!==ic(e).position?e.offsetParent:null}function vc(e){for(var t=nc(e),n=hc(e);n&&pc(n)&&"static"===ic(n).position;)n=hc(n);return n&&("html"===lc(n)||"body"===lc(n)&&"static"===ic(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&oc(e)&&"fixed"===ic(e).position)return null;for(var n=dc(e);oc(n)&&["html","body"].indexOf(lc(n))<0;){var r=ic(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var gc="top",yc="bottom",bc="right",wc="left",Ec="auto",xc="start",Cc="end",_c=[].concat([gc,yc,bc,wc],[Ec]).reduce((function(e,t){return e.concat([t,t+"-"+xc,t+"-"+Cc])}),[]),kc=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Nc(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),r}function Sc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return[].concat(n).reduce((function(e,t){return e.replace(/%s/,t)}),e)}var Oc='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Pc=["name","enabled","phase","fn","effect","requires","options"];function Mc(e){return e.split("-")[0]}var Rc=Math.round;function Vc(e){return e.split("-")[1]}var Tc="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",Ic={placement:"bottom",modifiers:[],strategy:"absolute"};function Fc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Ac(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,o=void 0===a?Ic:a;return function(e,t,n){void 0===n&&(n=o);var a,l,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ic,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],c=!1,u={state:s,setOptions:function(n){var a="function"==typeof n?n(s.options):n;d(),s.options=Object.assign({},o,s.options,a),s.scrollParents={reference:ac(e)?mc(e):e.contextElement?mc(e.contextElement):[],popper:mc(t)};var l=function(e){var t=Nc(e);return kc.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,s.options.modifiers)));(s.orderedModifiers=l.filter((function(e){return e.enabled})),function(e){e.forEach((function(t){[].concat(Object.keys(t),Pc).filter((function(e,t,n){return n.indexOf(e)===t})).forEach((function(n){switch(n){case"name":"string"!=typeof t.name&&console.error(Sc(Oc,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":"boolean"!=typeof t.enabled&&console.error(Sc(Oc,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));break;case"phase":kc.indexOf(t.phase)<0&&console.error(Sc(Oc,t.name,'"phase"',"either "+kc.join(", "),'"'+String(t.phase)+'"'));break;case"fn":"function"!=typeof t.fn&&console.error(Sc(Oc,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":null!=t.effect&&"function"!=typeof t.effect&&console.error(Sc(Oc,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":null==t.requires||Array.isArray(t.requires)||console.error(Sc(Oc,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error(Sc(Oc,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+Pc.map((function(e){return'"'+e+'"'})).join(", ")+'; but "'+n+'" was provided.')}t.requires&&t.requires.forEach((function(n){null==e.find((function(e){return e.name===n}))&&console.error(Sc('Popper: modifier "%s" requires "%s", but "%s" modifier is not available',String(t.name),n,n))}))}))}))}((c=[].concat(l,s.options.modifiers),f=function(e){return e.name},m=new Set,c.filter((function(e){var t=f(e);if(!m.has(t))return m.add(t),!0})))),Mc(s.options.placement)===Ec)&&(s.orderedModifiers.find((function(e){return"flip"===e.name}))||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" ")));var c,f,m,p=ic(t);return[p.marginTop,p.marginRight,p.marginBottom,p.marginLeft].some((function(e){return parseFloat(e)}))&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" ")),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"==typeof a){var o=a({state:s,name:t,instance:u,options:r}),l=function(){};i.push(o||l)}})),u.update()},forceUpdate:function(){if(!c){var e=s.elements,t=e.reference,n=e.popper;if(Fc(t,n)){var r,a,o,l;s.rects={reference:uc(t,vc(n),"fixed"===s.options.strategy),popper:(r=n,a=tc(r),o=r.offsetWidth,l=r.offsetHeight,Math.abs(a.width-o)<=1&&(o=a.width),Math.abs(a.height-l)<=1&&(l=a.height),{x:r.offsetLeft,y:r.offsetTop,width:o,height:l})},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0,d=0;d<s.orderedModifiers.length;d++){if((i+=1)>100){console.error("Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.");break}if(!0!==s.reset){var f=s.orderedModifiers[d],m=f.fn,p=f.options,h=void 0===p?{}:p,v=f.name;"function"==typeof m&&(s=m({state:s,options:h,name:v,instance:u})||s)}else s.reset=!1,d=-1}}else console.error(Tc)}},update:(a=function(){return new Promise((function(e){u.forceUpdate(),e(s)}))},function(){return l||(l=new Promise((function(e){Promise.resolve().then((function(){l=void 0,e(a())}))}))),l}),destroy:function(){d(),c=!0}};if(!Fc(e,t))return console.error(Tc),u;function d(){i.forEach((function(e){return e()})),i=[]}return u.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var jc={passive:!0};var Dc={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Lc(e){var t,n=e.popper,r=e.popperRect,a=e.placement,o=e.variation,l=e.offsets,s=e.position,i=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=!0===u?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Rc(Rc(t*r)/r)||0,y:Rc(Rc(n*r)/r)||0}}(l):"function"==typeof u?u(l):l,f=d.x,m=void 0===f?0:f,p=d.y,h=void 0===p?0:p,v=l.hasOwnProperty("x"),g=l.hasOwnProperty("y"),y=wc,b=gc,w=window;if(c){var E=vc(n),x="clientHeight",C="clientWidth";E===nc(n)&&"static"!==ic(E=sc(n)).position&&"absolute"===s&&(x="scrollHeight",C="scrollWidth"),a!==gc&&(a!==wc&&a!==bc||o!==Cc)||(b=yc,h-=E[x]-r.height,h*=i?1:-1),a!==wc&&(a!==gc&&a!==yc||o!==Cc)||(y=bc,m-=E[C]-r.width,m*=i?1:-1)}var _,k=Object.assign({position:s},c&&Dc);return i?Object.assign({},k,((_={})[b]=g?"0":"",_[y]=v?"0":"",_.transform=(w.devicePixelRatio||1)<=1?"translate("+m+"px, "+h+"px)":"translate3d("+m+"px, "+h+"px, 0)",_)):Object.assign({},k,((t={})[b]=g?h+"px":"",t[y]=v?m+"px":"",t.transform="",t))}var $c=Ac({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,o=void 0===a||a,l=r.resize,s=void 0===l||l,i=nc(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,jc)})),s&&i.addEventListener("resize",n.update,jc),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,jc)})),s&&i.removeEventListener("resize",n.update,jc)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=function(e){var t,n=e.reference,r=e.element,a=e.placement,o=a?Mc(a):null,l=a?Vc(a):null,s=n.x+n.width/2-r.width/2,i=n.y+n.height/2-r.height/2;switch(o){case gc:t={x:s,y:n.y-r.height};break;case yc:t={x:s,y:n.y+n.height};break;case bc:t={x:n.x+n.width,y:i};break;case wc:t={x:n.x-r.width,y:i};break;default:t={x:n.x,y:n.y}}var c=o?function(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}(o):null;if(null!=c){var u="y"===c?"height":"width";switch(l){case xc:t[c]=t[c]-(n[u]/2-r[u]/2);break;case Cc:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,o=n.adaptive,l=void 0===o||o,s=n.roundOffsets,i=void 0===s||s,c=ic(t.elements.popper).transitionProperty||"";l&&["transform","top","right","bottom","left"].some((function(e){return c.indexOf(e)>=0}))&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "));var u={placement:Mc(t.placement),variation:Vc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Lc(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:i})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Lc(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];oc(a)&&lc(a)&&(Object.assign(a.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],a=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});oc(r)&&lc(r)&&(Object.assign(r.style,o),Object.keys(a).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]}]});var zc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,o=void 0===a?[0,0]:a,l=_c.reduce((function(e,n){return e[n]=function(e,t,n){var r=Mc(e),a=[wc,gc].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,l=o[0],s=o[1];return l=l||0,s=(s||0)*a,[wc,bc].indexOf(r)>=0?{x:s,y:l}:{x:l,y:s}}(n,t.rects,o),e}),{}),s=l[t.placement],i=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=i,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=l}};const Hc=["overlay","duration","overlayStyle","overlayClass","closeOnClickOverlay","teleport","onClosed","onOpened","onClickOverlay"],[Bc]=w("popover"),qc=t.forwardRef(((e,n)=>{var r=e,{children:a,className:l}=r;const s=Je(__objRest(r,["children","className"]),{overlay:!1,duration:300,closeOnClickAction:!0,closeOnClickOverlay:!0,closeOnClickOutside:!0,offset:[0,8],theme:"light",trigger:"click",actions:[],placement:"bottom"}),i=t.useRef(null),c=t.useRef(),d=t.useRef(),[m,p]=Pe({value:s.visible,defaultValue:!1,onChange:e=>{var t,n;e?null==(t=s.onOpen)||t.call(s):null==(n=s.onClose)||n.call(s)}}),h=()=>{var e;m&&(i.current?null==(e=i.current)||e.setOptions({placement:s.placement}):i.current=$c(c.current,d.current.popupRef.current,{placement:s.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},f({},zc,{options:{offset:s.offset}})]}))};return t.useEffect((()=>()=>{var e;i.current&&(null==(e=i.current)||e.destroy(),i.current=null)}),[]),((e,n)=>{const[r,a]=t.useState(0);t.useEffect((()=>{a((e=>e+1))}),n),t.useEffect((()=>e()),[r])})((()=>{h()}),[m,s.placement]),t.useEffect((()=>{let e;const t=e=>e.stopPropagation();return d.current&&d.current.popupRef.current&&(e=d.current.popupRef.current,e.addEventListener("touchstart",t)),()=>{e&&e.removeEventListener("touchstart",t)}}),[d.current]),t.useImperativeHandle(n,(()=>({show:()=>{if(m)return p(!1),void setTimeout((()=>p(!0)),0);p(!0)},hide:()=>p(!1)}))),u(c,(()=>{!s.closeOnClickOutside||s.overlay&&!s.closeOnClickOverlay||p(!1)}),"touchstart"),o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{ref:c,className:Ve(Bc("wrapper")),onClick:()=>{"click"===s.trigger&&p(!m)}},s.reference),o.default.createElement(En,__spreadValues({ref:d,visible:m,className:Ve(l,Bc([s.theme])),position:"",transition:"rv-zoom",lockScroll:!1,onOpen:()=>p(!0),onClose:()=>p(!1)},g(s,Hc)),o.default.createElement("div",{className:Ve(Bc("arrow"))}),o.default.createElement("div",{role:"menu",className:Ve(Bc("content"))},a||s.actions.map(((e,t)=>{const{icon:n,text:r,color:a,disabled:l,className:i}=e;return o.default.createElement("div",{key:t,className:Ve(Bc("action",{disabled:l,"with-icon":n}),i),style:{color:a},onClick:()=>((e,t)=>{var n;e.disabled||(null==(n=s.onSelect)||n.call(s,e,t),s.closeOnClickAction&&p(!1))})(e,t)},n?o.default.cloneElement(n,{className:Ve(Bc("action-icon"))}):null,o.default.createElement("div",{className:Ve(Bc("action-text"),ze)},r))})))))}));function Uc(e,t,n){let r,a,o,l,s,i,c=0,u=!1,d=!1,f=!0;const m=!t&&0!==t&&"function"==typeof k.requestAnimationFrame;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){const n=r,o=a;return r=a=void 0,c=t,l=e.apply(o,n),l}function h(e,t){return m?(k.cancelAnimationFrame(s),k.requestAnimationFrame(e)):setTimeout((()=>e()),t)}function g(e){const n=e-i;return void 0===i||n>=t||n<0||d&&e-c>=o}function y(){const e=Date.now();if(g(e))return b(e);s=h(y,function(e){const n=e-c,r=t-(e-i);return d?Math.min(r,o-n):r}(e))}function b(e){return s=void 0,f&&r?p(e):(r=a=void 0,l)}function w(...e){const n=Date.now(),o=g(n);if(r=e,a=this,i=n,o){if(void 0===s)return function(e){return c=e,s=h(y,t),u?p(e):l}(i);if(d)return s=h(y,t),p(i)}return void 0===s&&(s=h(y,t)),l}return t=+t||0,v(n)&&(u=!!n.leading,d="maxWait"in n,o=d?Math.max(+n.maxWait||0,t):o,f="trailing"in n?!!n.trailing:f),w.cancel=function(){void 0!==s&&function(e){if(m)return k.cancelAnimationFrame(e);clearTimeout(e)}(s),c=0,r=i=a=s=void 0},w.flush=function(){return void 0===s?l:b(Date.now())},w.pending=function(){return void 0!==s},w}function Wc(e,t,n){let r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return v(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Uc(e,t,{leading:r,trailing:a,maxWait:t})}const[Kc]=w("list");const Yc=o.default.forwardRef(((e,n)=>{const r=Je(e,{threshold:300}),{locale:a}=o.default.useContext(Mn),[l,s]=o.default.useState(!1),i=function(e){const n=t.useRef(!1);return t.useCallback((async(...t)=>{if(!n.current){n.current=!0;try{const r=await e(...t);return n.current=!1,r}catch(yv){throw n.current=!1,yv}}}),[e])}((async e=>{try{await r.onLoad(e)}catch(yv){s(!0)}})),c=o.default.useRef(null),[u,d]=o.default.useState({}),f=o.default.useRef(u),[m,p]=o.default.useState(),{run:h}=function(e,n){var r;const a=fe(e),o=null!=(r=null==n?void 0:n.wait)?r:1e3,l=t.useMemo((()=>Wc(((...e)=>a.current(...e)),o,n)),[]);return me((()=>{l.cancel()})),{run:l,cancel:l.cancel,flush:l.flush}}((async()=>{if(f.current!==u)return;if(r.finished||l)return;const e=c.current;if(!e)return;if(!e.offsetParent)return;const t=xe(e);if(p(t),!t)return;const n=e.getBoundingClientRect().top,a=function(e){return e===window}(t)?window.innerHeight:t.getBoundingClientRect().bottom;if(a>=n-r.threshold){const e={};f.current=e,await i(!1),d(e)}}),{wait:100,leading:!0,trailing:!0});async function v(){s(!1),await i(!0),d(f.current)}o.default.useEffect((()=>{h()})),o.default.useEffect((()=>{if(c.current&&m)return m.addEventListener("scroll",e),()=>{m.removeEventListener("scroll",e)};function e(){h()}}),[m]);return o.default.useImperativeHandle(n,(()=>({check:h}))),o.default.createElement("div",{className:Ve(r.className,Kc()),style:r.style},r.children,o.default.createElement("div",{className:Ve(r.className,Kc("loadmore")),ref:c},r.finished?r.finishedText?o.default.createElement("div",{className:Ve(Kc("finished"))},r.finishedText):null:l?r.errorText?"function"==typeof r.errorText?r.errorText(v):o.default.createElement("div",{onClick:v,className:Ve(Kc("error"))},r.errorText):null:o.default.createElement(je,{className:Ve(Kc("loading")),size:16},r.loadingText||a.loading)))})),Xc=t.forwardRef(((e,t)=>{const n=Je(e,{offset:300});return o.default.createElement(Yc,{ref:t,className:Ve(n.className),style:n.style,onLoad:n.onLoad,threshold:n.offset,finished:n.finished,finishedText:n.finishedText,loadingText:n.loadingText,errorText:n.errorText},n.children)}));const[Jc]=w("steps"),[Gc]=w("step"),Qc=e=>{var n=e,{children:r}=n,a=__objRest(n,["children"]);const{index:l,parent:s}=a,i=()=>{const e=+s.active;return l<e?"finish":l===e?"process":"waiting"},c=()=>"process"===i(),u=t.useMemo((()=>({background:"finish"===i()?s.activeColor:s.inactiveColor})),[l,s.active,s.activeColor,s.inactiveColor]),d=t.useMemo((()=>c()?{color:s.activeColor}:i()?{}:{color:s.inactiveColor}),[l,s.active,s.activeColor,s.inactiveColor]),f=()=>{s.onClickStep&&s.onClickStep(l)},m=i();return o.default.createElement("div",{style:a.style,className:Ve(a.className,De,Gc([s.direction,{[m]:m}]))},o.default.createElement("div",{className:Ve(Gc("title",{active:c()})),style:d,onClick:f},r),o.default.createElement("div",{className:Ve(Gc("circle-container")),onClick:f},(()=>{var e,t,n;const{activeColor:r}=s,l=null!=(e=a.finishIcon)?e:s.finishIcon,d=null!=(t=a.activeIcon)?t:s.activeIcon,f=null!=(n=a.inactiveIcon)?n:s.inactiveIcon;return c()&&d?o.default.cloneElement(d,{className:Ve(Gc("icon","active")),color:r,style:{color:r}}):"finish"===i()&&l?o.default.cloneElement(l,{className:Ve(Gc("icon","finish")),color:r,style:{color:r}}):f?o.default.cloneElement(f,{className:Ve(Gc("icon")),color:r,style:{color:r}}):o.default.createElement("i",{className:Ve(Gc("circle")),style:u})})()),o.default.createElement("div",{className:Ve(Gc("line")),style:u}))},Zc=Object.assign((e=>{var t=e,{children:n,className:r,style:a}=t;const l=Je(__objRest(t,["children","className","style"]),{active:0,direction:"horizontal",activeIcon:o.default.createElement(ut,null)});return o.default.createElement("div",{className:Ve(r,Jc([l.direction])),style:a},o.default.createElement("div",{className:Ve(Jc("items"))},o.default.Children.toArray(n).filter(Boolean).map(((e,t)=>o.default.cloneElement(e,{index:t,parent:l})))))}),{Item:Qc});const[eu]=w("toast"),tu=e=>{const n=Je(e,{type:"info",duration:2e3,position:"middle",transition:"rv-fade",loadingType:"circular",overlay:!1});t.useEffect((()=>{if(!n.visible)return void Li(!1);let e=!1;const t=n.visible&&n.forbidClick;e!==t&&(e=t,Li(e))}),[n.visible,n.forbidClick]);return o.default.createElement(En,{className:Ve([eu([n.position,{[n.type]:!n.icon}]),n.className]),visible:n.visible,overlay:n.overlay,transition:n.transition,overlayClass:n.overlayClass,overlayStyle:n.overlayStyle,closeOnClickOverlay:n.closeOnClickOverlay,lockScroll:!1,onClick:()=>{n.closeOnClick&&n.onClose()},onClose:n.onClose,onClosed:n.onClosed,onOpened:n.onOpened,teleport:n.teleport},(()=>{const{icon:e,type:t,iconSize:r,loadingType:a}=n;if(e||"success"===t||"fail"===t){const n="fail"===t?o.default.createElement(vt,null):o.default.createElement(At,null);return o.default.cloneElement(e||n,{className:Ve(eu("icon")),fontSize:r})}return"loading"===t?o.default.createElement(je,{className:Ve(eu("loading")),type:a}):null})(),(()=>{const{message:e}=n;return p(e)&&""!==e?o.default.createElement("div",{className:Ve(eu("info"))},e):null})())},nu={message:"",className:"",type:"info",position:"middle",forbidClick:!1,duration:2e3,teleport:()=>document.body},ru=[];let au=!1,ou=f({},nu);const lu=new Map;function su(){let e=ru.pop();for(;e;)e(),e=ru.pop()}const iu=e=>{if(!dn())return null;const n=cu(e),r={config:()=>{},clear:()=>null};let a=0;const{onClose:l,teleport:s}=n,i=document.createElement("div");un(s).appendChild(i);const c=()=>{const e=__spreadValues({duration:2e3},n),[s,c]=t.useState(!1),[u,d]=t.useState(__spreadValues({},e)),f=t.useCallback((()=>{u.forbidClick&&Li(!1),c(!1),window.setTimeout((()=>{zn(i)&&i.parentNode&&i.parentNode.removeChild(i)}),+u.duration||+nu.duration)}),[i]),m=t.useCallback((()=>{c(!1),l&&l()}),[]);return r.clear=f,r.config=t.useCallback((e=>{d((t=>__spreadValues(__spreadValues({},t),"function"==typeof e?e(t):e)))}),[d]),t.useEffect((()=>(c(!0),au||su(),ru.push(f),0!==u.duration&&"duration"in u&&(a=window.setTimeout(m,+u.duration)),()=>{0!==a&&window.clearTimeout(a)})),[]),o.default.createElement(tu,__spreadProps(__spreadValues({},u),{visible:s,teleport:()=>i,onClose:m,onClosed:f}))};return $n(o.default.createElement(c,null),i),r};function cu(e){return v(e)?e:{message:e}}["info","loading","success","fail"].forEach((e=>{var t;iu[e]=(t=e,e=>iu(__spreadProps(__spreadValues(__spreadValues(__spreadValues({},ou),lu.get(t)),cu(e)),{type:t})))})),iu.allowMultiple=(e=!0)=>{au=e},iu.clear=function(){setTimeout(su)},iu.setDefaultOptions=function(e,t){"string"==typeof e?lu.set(e,t):f(ou,e)},iu.resetDefaultOptions=e=>{"string"==typeof e?lu.delete(e):(ou=f({},nu),lu.clear())};const uu=iu;const[du]=w("action-sheet");function fu(){const e=o.default.useRef([]),t=o.default.useCallback((t=>n=>{n&&(e.current[t]=n)}),[]),n=o.default.useCallback((()=>{e.current=[]}),[]);return[e.current,t,n]}const mu=t.createContext({}),pu=e=>{const{defaultValue:n,value:r}=e||{},[a,o]=t.useState((()=>void 0!==r?r:void 0!==n?"function"==typeof n?n():n:void 0));return[void 0!==r?r:a,function(e){o(e)}]},[hu]=w("dropdown-menu"),vu=t.forwardRef(((e,n)=>{const r=Je(e,{duration:200,overlay:!0,closeOnClickOutside:!0,closeOnClickOverlay:!0,direction:"down",defaultValue:{},teleport:()=>document.body}),[a={},l]=pu({value:r.value,defaultValue:r.defaultValue}),[s,i]=fu(),[c,d]=t.useState(null),f=t.useRef(),m=t.useRef(),h=t.useRef(),v=t.useRef(0),g=t.useRef(!1),y=t.useRef({bottom:0,top:0}),b=t.useRef(!1),w=t.useMemo((()=>null!==c),[c]),E=e=>{f.current=e,d(e)},x=()=>{s.forEach((e=>{e.toggle(!1)})),E(null)},C=()=>{h.current&&(y.current=Ki(h.current),"down"===r.direction?v.current=y.current.bottom:v.current=window.innerHeight-y.current.top)},_=e=>{const t=s[e];g.current=!0,C(),E(e),t.toggle(!0)},k=e=>{s.forEach(((t,n)=>{if(n===e){if(e===f.current)return E(null),void t.toggle();_(e)}}))};ce((()=>{b.current?b.current=!1:r.value?l(r.value):l(void 0)}),[r.value]),t.useEffect((()=>{h.current&&C()}),[h.current]);return le("scroll",(()=>{w&&C()}),{target:Ce(m)}),u(m,(()=>{r.closeOnClickOutside&&!g.current?x():g.current=!1})),t.useImperativeHandle(n,(()=>({toggleItem:k,showItem:_,close:x}))),o.default.createElement(mu.Provider,{value:{props:r,value:a,onChange:e=>{b.current=!0;const t=__spreadValues(__spreadValues({},a),e);l(t),r.onChange&&r.onChange(t)},close:()=>{E(null)}}},o.default.createElement("div",{ref:m,className:Ve(hu(),r.className),style:__spreadValues({},r.style)},o.default.createElement("div",{ref:h,style:w&&p(r.zIndex)?{zIndex:+r.zIndex+1}:{},className:Ve(hu("bar",{opened:w}))},t.Children.toArray(r.children).filter(Boolean).map(((e,t)=>((e,t)=>{const n=c===t,{titleClass:l}=e,s=r.disabled||e.disabled;return o.default.createElement("div",{key:t,role:"button",tabIndex:s?-1:0,className:Ve(hu("item",{disabled:s})),onClick:()=>{s||k(t)}},o.default.createElement("span",{className:Ve(hu("title",{down:n===("down"===r.direction),active:n}),l),style:{color:n?r.activeColor:""}},o.default.createElement("div",{className:"rv-ellipsis"},((e,t)=>{if(t.title)return t.title;const n=t.options.find((t=>t.value===e));return n?n.text:t.placeholder||"请选择"})(a[e.name],e))))})(e.props,t)))),t.Children.toArray(r.children).filter(Boolean).map(((e,n)=>t.cloneElement(e,{ref:i(n),offset:v.current,showPopup:c===n})))))})),gu=["overlay","overlayClass","overlayStyle","disabled","placeholder","onOpen","onClosed","onOpened","teleport","closeOnClickOverlay"];const[yu]=w("dropdown-item"),bu=t.forwardRef(((e,n)=>{var r,a=e,{options:l=[],placeholder:s="请选择"}=a,i=__objRest(a,["options","placeholder"]);const[c,u]=ie({transition:!0,showWrapper:!1}),d=t.useContext(mu),f=null==(r=d.value)?void 0:r[i.name],m=()=>{var e,t;u({showWrapper:!1}),null==(t=null!=(e=i.onClosed)?e:d.props.onClosed)||t()},p=e=>{i.teleport&&e.stopPropagation()},h=()=>{var e,t;d.close(),null==(t=null!=(e=i.onClose)?e:d.props.onClose)||t()},v=(e=!i.showPopup,t={})=>{if(e===i.showPopup)return;const n={};n.transition=!t.immediate,e?n.showWrapper=!0:h(),u(n)},y=e=>{if(i.title)return i.title;const t=l.find((t=>t.value===e));return t?t.text:s},b=e=>{const{activeColor:t,activeIcon:n}=d.props,r=e.value===f;return o.default.createElement($t,{clickable:!0,key:e.value,icon:e.icon,title:e.text,className:Ve(yu("option",{active:r})),style:{color:r?t:""},onClick:()=>{e.value!==f&&d.onChange({[i.name]:e.value}),h()}},r&&(n||o.default.createElement(At,{className:Ve(yu("icon")),color:t})))},w=()=>{const{offset:e}=i,{zIndex:t,overlayStyle:n,duration:r,direction:a}=d.props,s=W(t);"down"===a?s.top=`${e}px`:s.bottom=`${e}px`;const u=g(function(e,t){return __spreadValues(__spreadValues({},e),t)}(d.props,i),gu);return o.default.createElement("div",{style:__spreadProps(__spreadValues({},s),{display:c.showWrapper?"block":"none"}),className:Ve(yu([a])),onClick:p},o.default.createElement(En,__spreadProps(__spreadValues({},u),{visible:i.showPopup,className:Ve(yu("content")),position:"down"===a?"top":"bottom",duration:c.transition?+r:0,overlayStyle:__spreadValues({position:"absolute"},n),onClose:h,onClosed:m}),null==l?void 0:l.map(b),i.children))};return t.useImperativeHandle(n,(()=>({toggle:v,renderTitle:y,state:c,titleClass:i.titleClass,disabled:i.disabled,name:i.name,options:l}))),i.teleport?fn(i.teleport,w()):w()})),wu=Object.assign(vu,{Item:bu});const[Eu]=w("search"),xu=t.forwardRef(((e,n)=>{const r=Je(e,{shape:"square",clearTrigger:"focus",leftIcon:o.default.createElement(Mt,null)}),{locale:a}=t.useContext(Mn),l=t.useRef(),s=t.useRef(!1),[i,c]=t.useState((()=>r.value)),u=()=>{var e;null==(e=l.current)||e.blur()},d=()=>{var e;null==(e=l.current)||e.focus()},f=e=>{var t;s.current=!0,null==(t=null==r?void 0:r.onChange)||t.call(r,e),c(e)},m=()=>{var e;f(""),null==(e=null==r?void 0:r.onCancel)||e.call(r)},p=e=>{var t;"Enter"===e.key&&(x(e.nativeEvent),null==(t=null==r?void 0:r.onSearch)||t.call(r,i))},h=e=>{var t;f(""),null==(t=null==r?void 0:r.onClear)||t.call(r,e)},v=e=>{var t;null==(t=null==r?void 0:r.onClickInput)||t.call(r,e)},{autoFocus:g,align:y,disabled:b=!1,maxLength:w,leftIcon:E,rightIcon:C,clearable:_=!0,clearTrigger:k,placeholder:N,readOnly:S,error:O,errorMessage:P,formatter:M,formatTrigger:R,clearIcon:V}=r,T={align:y,leftIcon:E,rightIcon:C,clearable:_,clearTrigger:k,placeholder:N,disabled:b,maxLength:w,readOnly:S,autoFocus:g,error:O,errorMessage:P,formatter:M,formatTrigger:R,clearIcon:V};return t.useEffect((()=>{s.current?s.current=!1:c(r.value)}),[r.value]),t.useImperativeHandle(n,(()=>({focus:d,blur:u}))),o.default.createElement("div",{className:Ve(r.className,Eu({"show-action":r.showAction})),style:__spreadProps(__spreadValues({},r.style),{background:r.background})},o.default.createElement("div",{className:Ve(Eu("content",r.shape))},r.label?o.default.createElement("div",{className:Ve(Eu("label"))},r.label):null,o.default.createElement(Gn,__spreadValues({ref:l,className:Ve(Eu("field")),type:"search",rows:1,value:i||"",border:!1,onKeyPress:p,onFocus:r.onFocus,onBlur:r.onBlur,onChange:f,onClear:h,onClickInput:v},T))),r.action?r.action:r.showAction?o.default.createElement("div",{className:Ve(Eu("action")),role:"button",tabIndex:0,onClick:m},r.actionText||a.cancel):null)}));const[Cu]=w("sidebar-item"),_u=e=>{const{parent:t,index:n}=e,{dot:r,badge:a,title:l,disabled:s}=e,i=n===t.getActive();return o.default.createElement("div",null,o.default.createElement("a",{className:Ve(Cu({select:i,disabled:s})),onClick:()=>{var r;e.disabled||(null==(r=e.onClick)||r.call(e,n),t.setActive(n))}},o.default.createElement(Qe,{dot:r,content:a,className:Ve(Cu("text"))},l)))},[ku]=w("sidebar"),Nu=Object.assign((e=>{var n=e,{children:r,className:a,style:l}=n,s=__objRest(n,["children","className","style"]);const[i,c]=pu({value:s.value,defaultValue:s.defaultValue||0}),u=()=>i,d=e=>{var t;e!==u()&&(c(e),null==(t=s.onChange)||t.call(s,e))},f=t.useMemo((()=>o.default.Children.toArray(r).filter(Boolean).map((e=>o.default.isValidElement(e)?e.type!==_u?null:e:null))),[r]);return o.default.createElement("div",{className:Ve(a,ku("wrapper")),style:l},o.default.createElement("div",{className:Ve(s.sideClassName,ku()),style:s.sideStyle},f.map(((e,t)=>o.default.cloneElement(e,{index:t,parent:{setActive:d,getActive:u}})))),f.map(((e,t)=>o.default.createElement("div",{className:Ve(e.props.contentClassName,ku("content")),key:e.key,style:__spreadProps(__spreadValues({},e.props.contentStyle),{display:t===u()?void 0:"none"})},e.props.children))))}),{Item:_u});const[Su]=w("sticky"),Ou=e=>{const n=Je(e,{offsetTop:0,offsetBottom:0,position:"top"}),[r,a]=ie({fixed:!1,width:0,height:0,transform:0}),l=t.useRef(null),s=Ce(l),i=t.useMemo((()=>X("top"===n.position?n.offsetTop:n.offsetBottom)),[n.position,n.offsetTop,n.offsetBottom]),c=t.useMemo((()=>{const{fixed:e,height:t,width:n}=r;return e?{width:`${n}px`,height:`${t}px`}:null}),[r.fixed,r.height,r.width]),u=t.useMemo((()=>{if(!r.fixed)return null;const e=f(W(n.zIndex),{width:`${r.width}px`,height:`${r.height}px`,[n.position]:`${i}px`});return r.transform&&(e.transform=`translate3d(0, ${r.transform}px, 0)`),e}),[n.position,r.fixed,i,r.width,r.height,r.transform]),d=t.useCallback((()=>{if(!l.current||z(l.current))return;const{container:e,position:t}=n,r=Ki(l.current),o=T(window),s={};if(s.width=r.width,s.height=r.height,"top"===t)if(e){const t=Ki(e.current),n=t.bottom-i-s.height;s.fixed=i>r.top&&t.bottom>0,s.transform=n<0?n:0}else s.fixed=i>r.top;else{const{clientHeight:t}=document.documentElement;if(e){const n=Ki(e.current),a=t-n.top-i-s.height;s.fixed=t-i<r.bottom&&t>n.top,s.transform=a<0?-a:0}else s.fixed=t-i<r.bottom}a(s),((e,t)=>{n.onScroll&&n.onScroll({scrollTop:e,isFixed:t})})(o,s.fixed)}),[i]);return le("scroll",d,{target:s,depends:[i]}),de(l,d),ce((()=>{var e;null==(e=n.onChange)||e.call(n,r.fixed)}),[r.fixed]),o.default.createElement("div",{ref:l,style:c},o.default.createElement("div",{className:Ve(Su({fixed:r.fixed})),style:u},n.children))},[Pu]=w("tab"),Mu=t.forwardRef(((e,n)=>{const{type:r,color:a,isActive:l,activeColor:s,inactiveColor:i,disabled:c,className:u}=e,d=t.useMemo((()=>{const t=__spreadValues({},e.style),n="card"===r;a&&(n&&(t.borderColor=a),c||(n&&(l?t.backgroundColor=a:t.color=a),"line"!==e.type&&"jumbo"!==e.type||!l||(t.color=a)));const o=l?s:i;return o&&(t.color=o),t}),[r,a,c,l,s,i]);return o.default.createElement("div",{ref:n,className:Ve([Pu({active:e.isActive,disabled:e.disabled}),u]),style:d,"aria-selected":e.isActive,onClick:e.onClick},(()=>{const t=o.default.createElement("span",{className:Ve(Pu("text",{ellipsis:!e.scrollable&&"jumbo"!==e.type})),style:{backgroundColor:"capsule"===e.type&&l&&a}},"function"==typeof e.title?e.title(l):e.title),n="jumbo"===e.type&&e.description?o.default.createElement("div",{className:Ve(Pu("description")),style:{backgroundColor:l&&a}},"function"==typeof e.description?e.description(l):e.description):null,r=o.default.createElement(o.default.Fragment,null,t,n);if(e.badge){const t=v(e.badge)?e.badge:{content:e.badge};return o.default.createElement(Qe,__spreadValues({},t),r)}return r})())}));const[Ru]=w("swiper-item"),Vu=o.default.forwardRef(((e,t)=>{const n=o.default.useRef(null);o.default.useImperativeHandle(t,(()=>({self:n.current})));const[r]=ge(n,{rootMargin:"-0.1px",threshold:0,root:()=>{var t;return null==(t=e.trackRef)?void 0:t.current}});return o.default.createElement("div",{ref:n,className:Ve(e.className,Ru({hidden:e.autoHeight&&!1===r})),onClick:e.onClick,style:e.style},e.children)})),[Tu]=w("swiper"),Iu=t.forwardRef(((e,n)=>{const r=Je(e,{initialSwipe:0,loop:!0,touchable:!0,enabled:!0,rubberband:!0,autoplay:!1,slideSize:100,trackOffset:0,stuckAtBoundary:!1,preventScroll:!0}),{loop:a,autoplay:l,vertical:s,duration:i,autoHeight:c}=r,u=s?"y":"x",f=r.slideSize/100,m=r.trackOffset/100,{validChildren:p,count:h}=t.useMemo((()=>{let e=0;return{validChildren:o.default.Children.map(r.children,(t=>o.default.isValidElement(t)?t.type!==Vu?null:(e++,t):null)),count:e}}),[r.children]),v=t.useRef(null),[g,y]=fu(),[b,w]=t.useState((()=>r.enabled)),[E,x]=t.useState(r.initialSwipe),[C,_,k]=se(!1),N=t.useMemo((()=>__spreadValues({"--rv-swipe-slide-size":`${r.slideSize}%`,"--rv-swipe-track-offset":`${r.trackOffset}%`},r.style)),[r.slideSize,r.trackOffset,r.style]),S=t.useMemo((()=>!(f*(h-1)<1)&&a),[h,a,f]),O=()=>{const e=v.current;if(!e)return 0;return(s?e.offsetHeight:e.offsetWidth)*r.slideSize/100},P=e=>{let t=0,n=h-1;return r.stuckAtBoundary&&(t+=(1-f-m)/f,n-=(1-f-m)/f),yi(e,t,n)},[{position:M},R]=Ks((()=>({position:100*P(E),config:{tension:200,friction:30,duration:i},onRest:()=>{if(k.current)return;if(!S)return;const e=M.get(),t=Fu(e,100*h);t!==e&&R.start({position:t,immediate:!0})}})),[h]),V=Sa((e=>{var t;const n=O();if(!n)return;if(!r.preventScroll&&Au(e.target,null==(t=g[E])?void 0:t.self))return;const a=s?1:0,o=e.offset[a],l=e.direction[a],i=e.velocity[a];if(_(!0),e.last){T(Math.round((o+Math.min(2e3*i,n)*l)/n)),window.setTimeout((()=>{_(!1)}))}else R.start({position:100*o/n,immediate:!0})}),{enabled:b,transform:([e,t])=>[-e,-t],from:()=>{const e=O();return[M.get()/100*e,M.get()/100*e]},bounds:()=>{if(S)return{};const e=O(),t=P(0)*e,n=P(h-1)*e;return s?{top:t,bottom:n}:{left:t,right:n}},rubberband:r.rubberband,axis:u,preventScroll:"x"===u&&r.preventScroll,pointer:{touch:!0}});function T(e,t=!1){const n=Math.round(e),r=S?Fu(n,h):yi(n,0,h-1);x(r),R.start({position:100*(S?n:P(n)),immediate:t})}const I=()=>{T(Math.round(M.get()/100)+1)},F=()=>{T(Math.round(M.get()/100)-1)};t.useImperativeHandle(n,(()=>({activeIndex:E,swipeTo:T,swipeNext:I,swipePrev:F,enable:()=>{w(!0)},disable:()=>{w(!1)}}))),_e((()=>{const e=p.length-1;E>e&&T(e,!0)})),ce((()=>{var e;null==(e=r.onChange)||e.call(r,E)}),[E]),t.useEffect((()=>{if(!l||C)return d;const e="boolean"==typeof l?5e3:l,t=window.setInterval((()=>{I()}),e);return()=>{window.clearInterval(t)}}),[l,C]);return o.default.createElement("div",{className:Ve(r.className,Tu({vertical:s})),style:N},o.default.createElement("div",__spreadValues({ref:v,className:Ve(Tu("track",{"allow-touch-move":r.touchable})),onClickCapture:e=>{k.current&&e.stopPropagation()}},r.touchable?V():{}),S?o.default.createElement("div",{className:Ve(Tu("track-inner",{vertical:s}))},o.default.Children.map(p,((e,t)=>o.default.createElement(vi.div,{className:Ve(Tu("slide")),style:{[u]:M.to((e=>{let n=100*t-e;const r=100*h,a=r/2;return n=Fu(n+a,r)-a,`${n}%`})),[s?"top":"left"]:`-${100*t}%`}},o.default.cloneElement(e,{ref:y(t),autoHeight:c,trackRef:v}))))):o.default.createElement(vi.div,{className:Ve(Tu("track-inner")),style:{[u]:M.to((e=>-e+"%"))}},o.default.Children.map(p,((e,t)=>o.default.createElement("div",{className:Ve(Tu("slide"))},o.default.cloneElement(e,{ref:y(t),autoHeight:c})))))),void 0===r.indicator||!0===r.indicator?o.default.createElement("div",{className:Ve(Tu("indicator",{vertical:s}))},o.default.createElement(Ni,__spreadProps(__spreadValues({},r.indicatorProps),{vertical:s,total:h,current:E}))):"function"==typeof r.indicator?r.indicator(h,E):null)}));function Fu(e,t){const n=e%t;return n<0?n+t:n}function Au(e,t){return!!t&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight||!(!e.parentElement||e.parentElement===t)&&Au(e.parentElement,t))}const ju=Object.assign(Iu,{Item:Vu}),[Du]=w("tabs"),Lu=e=>{const n=t.useRef(!1),{animated:r,swipeable:a,duration:l,swiperRef:s}=e,i="boolean"==typeof a?{}:a;return t.useEffect((()=>{(e=>{const t=s.current;t&&t.activeIndex!==e&&(n.current=!0,t.swipeTo(e))})(e.currentIndex)}),[e.currentIndex]),o.default.createElement("div",{className:Ve(Du("content",{animated:r||a}))},r||a?o.default.createElement(ju,__spreadProps(__spreadValues({},i),{ref:s,rubberband:!1,stuckAtBoundary:!0,loop:!1,autoplay:!1,touchable:!!a,className:Ve(Du("track")),duration:+l,indicator:!1,onChange:t=>{var r;n.current?n.current=!1:null==(r=e.onChange)||r.call(e,t)}}),o.default.Children.map(e.children,(e=>o.default.createElement(ju.Item,{style:{cursor:a?void 0:"auto"},className:Ve(Du("pane-wrapper"))},e)))):e.children)},$u=t.createContext({});function zu(e=0){return function(){let e=0,t=0,n=0;return document.body&&(t=document.body.scrollTop),document.documentElement&&(n=document.documentElement.scrollTop),e=t-n>0?t:n,e}()+function(){let e=0;return e="CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight,e}()+e>=function(){let e=0,t=0,n=0;return document.body&&(t=document.body.scrollHeight),document.documentElement&&(n=document.documentElement.scrollHeight),e=t-n>0?t:n,e}()}const[Hu]=w("tabs"),Bu=(e,t)=>{var n;return null!=(n=null==e?void 0:e.name)?n:t},qu=t.forwardRef(((e,n)=>{const r=Je(e,{type:"line",duration:300,swipeThreshold:5,offsetTop:0,ellipsis:!0,lazyRender:!0,stickyInitScrollbar:!0,defaultActive:0,align:"center"}),{children:a,color:l,align:s,background:i}=r,c=t.useRef(null),u=t.useRef(null),d=t.useRef(null),f=t.useRef(!1),m=t.useRef(!1),p=t.useRef(!0),h=t.useRef(null),g=Ce(c),[y,b]=fu(),[w,E]=fu(),x=t.useMemo((()=>d.current?j(d.current):0),[d.current]),C=t.useMemo((()=>function(e){return o.default.Children.toArray(e).map((e=>{if(o.default.isValidElement(e)){const t=void 0!==e.key?String(e.key):void 0;return __spreadProps(__spreadValues({key:t},e.props),{node:e})}return null})).filter((e=>e))}(r.children)),[r.children]),_=t.useMemo((()=>{if(r.scrollspy)return 0;const e=void 0===r.active?r.defaultActive:r.active;let t=C.findIndex(((t,n)=>Bu(t,n)===e));return t<0&&(t=0),t}),[r.scrollspy,r.active,r.defaultActive]),[k,S]=se(_),O=t.useMemo((()=>C.length>r.swipeThreshold||!r.ellipsis),[C.length,r.swipeThreshold,r.ellipsis]),R=t.useMemo((()=>({borderColor:"card"===r.type?l:void 0,background:i})),[l,i]),I=t.useMemo((()=>{const e=null==C?void 0:C[k];return e?Bu(e,k):0}),[C,k]),L=t.useMemo((()=>X(r.offsetTop)),[r.offsetTop]),[$,H]=t.useState(0),[B,U]=t.useState(!1);ce((()=>{const e=z(c.current),t=null==y?void 0:y[k];t&&!e&&"line"===r.type&&(U(!0),H(t.offsetLeft+t.offsetWidth/2))}),[c.current,y,r.type,k,C]);const W=t.useMemo((()=>{const{lineWidth:e,lineHeight:t}=r,n={width:q(e),backgroundColor:l,transitionDuration:`${p.current?0:r.duration}ms`,display:B?"inherit":"none"};if($&&(n.transform=`translateX(${$}px) translateX(-50%)`),t){const e=q(t);n.height=e,n.borderRadius=e}return n}),[l,r.lineHeight,r.lineWidth,$,p.current,B]),K=e=>{var t;const n=(e=>{var t;const n=e<k?-1:1;for(;e>=0&&e<C.length;){if(!(null==(t=C[e])?void 0:t.disabled))return e;e+=n}return null})(e);if(null===n)return;const a=C[n],o=Bu(a,n);S(n),null==(t=r.onChange)||t.call(r,o,n)},Y=e=>{var t,n;if(!r.scrollspy)return;const a=w[null!=e?e:k];if(a&&g){const e=!v(r.scrollspy)||(null==(n=null==(t=r.scrollspy)?void 0:t.scrollImmediate)||n),o=Math.ceil(A(a,g)-(L+x));f.current=!0,function(e,t,n,r){let a=T(e);const o=a<t,l=0===n?1:Math.round(n/16),s=(t-a)/l;!function n(){a+=s,(o&&a>t||!o&&a<t)&&(a=t),D(e,a),o&&a<t||!o&&a>t?P(n):r&&P(r)}()}(g,o,e?0:+r.duration,(()=>{f.current=!1}))}},J=e=>{const t=h.current,n=null==y?void 0:y[k];if(!O||!t||!n)return;!function(e,t,n){M(N);let r=0;const a=e.scrollLeft,o=0===n?1:Math.round(n/16);!function n(){e.scrollLeft+=(t-a)/o,++r<o&&(N=P(n))}()}(t,n.offsetLeft-(t.offsetWidth-n.offsetWidth)/2,e?0:+r.duration)},G=()=>C.map(((e,t)=>o.default.createElement(Mu,{ref:b(t),key:e.key,type:r.type,badge:e.badge,title:e.title,description:e.description,color:l,style:e.titleStyle,className:e.titleClass,isActive:t===k,disabled:e.disabled,scrollable:O,activeColor:r.titleActiveColor,inactiveColor:r.titleInactiveColor,onClick:n=>{((e,t,n)=>{var a;const{disabled:o=!1}=e,l=Bu(e,t);null==(a=r.onClickTab)||a.call(r,{name:l,event:n,disabled:o,index:t}),o||cn({interceptor:r.beforeChange,args:[l],done:()=>{t!==k&&(K(t),Y(t))}})})(e,t,n)}}))),Q=()=>{const{type:e,border:t}=r;return o.default.createElement("div",{ref:d,className:Ve([Hu("wrap",{scrollable:O}),{[Be]:"card"!==e&&t}])},o.default.createElement("div",{ref:h,role:"tablist",className:Ve(Hu("nav",[e,{complete:O,start:"start"===s}])),style:R},r.navLeft,G(),"line"===e&&!p.current&&o.default.createElement("div",{className:Ve(Hu("line")),style:W}),r.navRight))};return ce((()=>{if(void 0!==r.active&&r.active!==I){const e=C.findIndex(((e,t)=>Bu(e,t)===r.active));e>-1&&e!==k&&(S(e),Y(e))}}),[r.active]),ce((()=>{J(),m.current&&r.stickyInitScrollbar&&!r.scrollspy&&F(Math.ceil(A(c.current)-L))}),[k]),t.useEffect((()=>{p.current=!1,J(!0)}),[]),le("scroll",(()=>{if(!r.scrollspy||f.current)return;let e=(()=>{const e=L+x;for(let n=0;n<w.length;n++){if((V(t=w[n])?0:t.getBoundingClientRect().top)>e)return 0===n?0:n-1}var t;return y.length-1})();"object"==typeof r.scrollspy&&r.scrollspy.autoFocusLast&&zu(r.scrollspy.reachBottomThreshold)&&(e=y.length-1),e!==k&&K(e)}),{target:g,depends:[k]}),t.useImperativeHandle(n,(()=>{var e,t;return{scrollTo:e=>{const t=C.findIndex(((t,n)=>Bu(t,n)===e));t>-1&&t!==k&&(S(t),Y(t))},swiper:u.current?{enable:null==(e=u.current)?void 0:e.enable,disable:null==(t=u.current)?void 0:t.disable}:void 0}})),o.default.createElement($u.Provider,{value:{props:r,currentName:I,scrollIntoView:J}},o.default.createElement("div",{ref:c,className:Ve(r.className,Hu([r.type])),style:r.style},r.sticky?o.default.createElement(Ou,{container:c,offsetTop:L,onScroll:e=>{var t;m.current=e.isFixed,null==(t=r.onScroll)||t.call(r,e)}},Q(),r.navBottom):o.default.createElement(o.default.Fragment,null,Q(),r.navBottom),o.default.createElement(Lu,{swiperRef:u,count:C.length,animated:r.animated,duration:r.duration,swipeable:r.swipeable,lazyRender:r.lazyRender,currentIndex:k,onChange:K},o.default.Children.toArray(a).filter(Boolean).map(((e,t)=>o.default.cloneElement(e,{index:t,ref:E(t)}))))))})),[Uu]=w("tab"),Wu=t.forwardRef(((e,n)=>{const r=t.useContext($u),{animated:a,swipeable:l,scrollspy:s,lazyRender:i,lazyRenderPlaceholder:c}=r.props,{index:u}=e,d=t.useMemo((()=>{var t;return null!=(t=e.name)?t:u}),[u,e.name]),f=t.useMemo((()=>d===r.currentName),[d,r.currentName]),[m,p]=t.useState((()=>f)),h=t.useMemo((()=>(f&&!m&&p(!0),f)),[f,m]),v=s||h,g=m||s||!i?e.children:c;return a||l?o.default.createElement("div",{ref:n,role:"tabpanel",className:Ve(Uu("pane"))},g):o.default.createElement("div",{ref:n,style:{display:v?"block":"none"},role:"tabpanel",className:Ve(Uu("pane"))},g)})),Ku=Object.assign(qu,{TabPane:Wu});const Yu=e=>{const[n,r]=t.useState(0);return t.useEffect((()=>{e.current&&r(Ki(e.current).height)}),[e.current]),n},[Xu]=w("nav-bar");const[Ju]=w("tag"),Gu=e=>{const n=Je(e,{show:!0,type:"default"}),r=t.useRef(null),a=e=>{e.stopPropagation(),n.onClose&&n.onClose(e)},l=t.useMemo((()=>n.plain?{color:n.textColor||n.color,borderColor:n.color}:{color:n.textColor,background:n.color}),[n.textColor,n.color,n.plain]);return o.default.createElement(an,{nodeRef:r,classNames:"rv-fade",in:n.show,timeout:300,unmountOnExit:!0},(()=>{const{type:e,mark:t,plain:s,round:i,size:c,closeable:u}=n,d={mark:t,plain:s,round:i};c&&(d[c]=c);const f=u&&o.default.createElement(vt,{className:Ve(Ju("close")),onClick:a});return o.default.createElement("span",{ref:r,style:__spreadValues(__spreadValues({},l),n.style),className:Ve(n.className,Ju([d,e])),onClick:n.onClick},n.children,f)})())};const[Qu]=w("grid"),[Zu]=w("grid-item"),ed=e=>{var n=e,{children:r,className:a,style:l}=n,s=__objRest(n,["children","className","style"]);const{index:i=0,parent:c={}}=s,u=t.useMemo((()=>{const{square:e,gutter:t,columnNum:n}=c,r=100/+n+"%",a=__spreadProps(__spreadValues({},l),{flexBasis:r});if(e)a.paddingTop=r;else if(t){const e=q(t);a.paddingRight=e,i>=n&&(a.marginTop=e)}return a}),[c.style,c.gutter,c.columnNum]),d=t.useMemo((()=>{const{square:e,gutter:t}=c;if(e&&t){const e=q(t);return __spreadProps(__spreadValues({},s.contentStyle),{right:e,bottom:e,height:"auto"})}return s.contentStyle}),[c.gutter,c.columnNum,s.contentStyle]),{center:f,border:m,square:p,gutter:h,reverse:v,direction:g}=c,y=Ve(s.contentClassName,Zu("content",[g,{center:f,square:p,reverse:v,clickable:!!s.onClick,surround:m&&h}]),{[De]:m});return o.default.createElement("div",{className:Ve(a,Zu({square:p})),style:u},o.default.createElement("div",{role:s.onClick?"button":void 0,className:y,style:d,onClick:s.onClick},r||o.default.createElement(o.default.Fragment,null,s.icon?o.default.createElement(Qe,__spreadValues({},s.badge),o.default.cloneElement(s.icon,{className:Ve(Zu("icon")),color:s.iconColor,fontSize:c.iconSize})):null,o.default.isValidElement(s.text)?s.text:s.text?o.default.createElement("span",{className:Ve(Zu("text"))},s.text):null)))},td=Object.assign((e=>{var t=e,{children:n,className:r,style:a}=t;const l=Je(__objRest(t,["children","className","style"]),{center:!0,border:!0,columnNum:4});return o.default.createElement("div",{style:__spreadValues({paddingLeft:q(l.gutter)},a),className:Ve(r,Qu(),{[Le]:l.border&&!l.gutter})},o.default.Children.toArray(n).filter(Boolean).map(((e,t)=>o.default.cloneElement(e,{index:t,parent:l}))))}),{Item:ed});const nd=t.createContext({}),rd=Symbol("index-anchor"),[ad]=w("index-anchor"),od=t.forwardRef(((e,n)=>{const r=t.useRef(),a=Yu(r),l=t.useContext(nd),[s,i]=ie({top:0,left:0,rect:{top:0,height:0},width:0,active:!1}),[c,u]=t.useState({top:0,height:0}),d=t.useCallback((()=>s.active&&l.sticky),[s.active,l.sticky]),f=t.useMemo((()=>{const{zIndex:e,highlightColor:t}=l;return d()?{zIndex:`${e}`,left:s.left?`${s.left}px`:null,width:s.width?`${s.width}px`:null,transform:s.top?`translate3d(0, ${s.top}px, 0)`:null,color:t}:null}),[d(),s.width,s.left,s.top]),m=(e,t)=>{const n=Ki(r.current),a=__spreadValues({},s);return a.rect.height=n.height,e===window||e===document.body?a.rect.top=n.top+I():a.rect.top=n.top+T(e)-t.top,i(a),a.rect};t.useEffect((()=>{u({top:c.top,height:a})}),[a]),t.useImperativeHandle(n,(()=>({getRect:m,state:s,updateState:i,root:r})));const p=d();return o.default.createElement("div",{className:e.className,ref:r,style:__spreadProps(__spreadValues({},e.style),{height:p?`${s.rect.height}px`:void 0})},o.default.createElement("div",{style:f,className:Ve(ad({sticky:p}),{[ze]:p})},e.children||e.index))}));od[Ue]=rd;const[ld]=w("index-bar"),sd=t.forwardRef(((e,n)=>{const r=Je(e,{sticky:!0,stickyOffsetTop:0,indexList:id()}),a=t.useContext(mn),{children:l,sticky:s,zIndex:i,highlightColor:c}=r,[u,d]=t.useState(null),f=t.useRef(null),m=t.useRef(null),h=t.useRef(null),v=ye(),g=Ce(f),[y,b]=fu(),w=t.useMemo((()=>p(i)?{zIndex:+i+1}:{}),[i]),E=t.useMemo((()=>c?{color:c}:{}),[c]),C=()=>{if(z(f.current)||!g)return;const{indexList:e}=r,t=T(g),n=g.getBoundingClientRect?Ki(g):{top:0,left:0},a=Object.values(y).map((e=>e.getRect(g,n))),o=((e,t)=>{for(let n=t.length-1;n>=0;n-=1){const a=n>0?t[n-1].height:0;if(e+(r.sticky?a+r.stickyOffsetTop:r.stickyOffsetTop)>=t[n].top)return n}return-1})(t,a);d(e[o]),s&&Object.values(y).forEach(((e,l)=>{const{updateState:s}=e;if(l===o||l===o-1){const t=e.root.current.getBoundingClientRect();s({left:t.left,width:t.width})}else s({left:null,width:null});if(l===o)s({active:!0,top:Math.max(r.stickyOffsetTop,a[l].top-t)+n.top});else if(l===o-1){const e=a[o].top-t;s({active:e>0,top:e+n.top-a[l].height})}else s({active:!1})}))},_=e=>{e&&y[e]&&(y[e].root.current.scrollIntoView(),r.sticky&&r.stickyOffsetTop&&(a.visible?D(g,T(g)-r.stickyOffsetTop):F(I()-r.stickyOffsetTop)),r.onSelect&&"function"==typeof r.onSelect&&r.onSelect(u))},k=e=>{const{index:t}=e.dataset;_(t)};le("scroll",C,{target:g,depends:[g]}),le("touchmove",(e=>{if(v.move(e),x(e),v.isVertical()){const{clientX:t,clientY:n}=e.touches[0],r=document.elementFromPoint(t,n);if(r){const{index:e}=r.dataset;h.current!==e&&(h.current=e,k(r))}}}),{target:m.current,depends:[v.deltaY]}),t.useEffect((()=>{r.onChange&&"function"==typeof r.onChange&&r.onChange(u)}),[u]),ue((()=>setTimeout(C,0)));const N=e=>o.default.Children.toArray(e).filter(Boolean).map((e=>{var t,n;if((null==(t=e.type)?void 0:t[Ue])===rd)return o.default.cloneElement(e,{ref:b(e.props.index)});if(null==(n=e.props)?void 0:n.children){const t=N(e.props.children);return t.length?t:e}return e}));t.useImperativeHandle(n,(()=>({scrollTo:_})));const S=t.useMemo((()=>N(l)),[l]);return o.default.createElement(nd.Provider,{value:{zIndex:i,highlightColor:c,sticky:s}},o.default.createElement("div",{ref:f,className:Ve(ld(),r.className),style:r.style},fn(r.teleport,o.default.createElement("div",{ref:m,className:Ve(ld("sidebar")),style:w,onClick:e=>{k(e.target)},onTouchStart:e=>{v.start(e)}},r.indexList.map((e=>{const t=e===u;return o.default.createElement("span",{key:e,className:Ve(ld("index",{active:t})),style:t?E:null,"data-index":e},r.itemRender?r.itemRender(e,t):e)})))),S))}));function id(){const e=[],t="A".charCodeAt(0);for(let n=0;n<26;n+=1)e.push(String.fromCharCode(t+n));return e}const cd=Object.assign(sd,{Anchor:od});const ud=t.createContext({}),[dd]=w("collapse");const[fd]=w("collapse-item"),md=t.forwardRef(((e,n)=>{var r=e,{className:a,style:l}=r;const s=Je(__objRest(r,["className","style"]),{isLink:!0,border:!0}),{index:i}=s,c=t.useContext(ud),u=t.useRef(null),d=t.useRef(null),f=t.useMemo((()=>{var e;return null!=(e=s.name)?e:i}),[i,s.name]),m=t.useMemo((()=>c?c.isExpanded(f):null),[c,f]),[p,h]=t.useState((()=>m)),v=function(e){const[n,r]=t.useState(!1);return t.useEffect((()=>{e&&r(e)}),[e]),e=>()=>n?e():null}(p),g=()=>{m?u.current.style.height="":h(!1)};ce((()=>{m&&h(!0),P((()=>{if(!d.current||!u.current)return;const{offsetHeight:e}=d.current;if(e){const t=`${e}px`;u.current.style.height=m?0:t,R((()=>{u.current.style.height=m?t:0}))}else g()}))}),[m]);const y=(e=!m)=>{c.toggle(f,e)},b=()=>{s.disabled||s.readOnly||y()},w=v((()=>o.default.createElement("div",{ref:u,className:Ve(fd("wrapper")),onTransitionEnd:g},o.default.createElement("div",{ref:d,className:Ve(fd("content"))},s.children))));return t.useImperativeHandle(n,(()=>({toggle:y}))),o.default.createElement("div",{style:l,className:Ve(a,fd({border:i&&s.border}))},(()=>{const e=s,{border:t,disabled:n,children:r,readOnly:a}=e,l=__objRest(e,["border","disabled","children","readOnly"]);return o.default.createElement($t,__spreadProps(__spreadValues({className:Ve(fd("title",{disabled:n,expanded:m,borderless:!t})),"aria-expanded":String(m),onClick:b},l),{isLink:!a&&l.isLink,clickable:!n&&!a&&l.clickable}))})(),w())})),pd=Object.assign((e=>{const n=Je(e,{border:!0}),{accordion:r}=n,{initExpanded:a=(r?"":[])}=n,l=t.useRef(!1),[s,i]=t.useState((()=>{var e;return null!=(e=n.value)?e:a}));return ce((()=>{l.current?l.current=!1:void 0!==n.value&&i(n.value)}),[n.value]),o.default.createElement(ud.Provider,{value:{isExpanded:e=>r?s===e:s.includes(e),toggle:(e,t)=>{r?e===s&&(e=""):e=t?s.concat(e):s.filter((t=>t!==e)),(e=>{var t;l.current=!0,i(e),null==(t=n.onChange)||t.call(n,e)})(e)}}},o.default.createElement("div",{style:n.style,ref:n.nativeRef,className:Ve(dd(),n.className,{[Be]:n.border})},o.default.Children.toArray(n.children).filter(Boolean).map(((e,t)=>o.default.cloneElement(e,{index:t})))))}),{Item:md});const hd=t.createContext({}),[vd]=w("radio-group");function gd(e){const[t,n]=pu({value:e.value,defaultValue:e.defaultValue});return o.default.createElement(hd.Provider,{value:{parent:{props:e},toggle:t=>{var r;n(t),null==(r=e.onChange)||r.call(e,t)},checked:t}},o.default.createElement("div",{className:Ve(e.className,vd([e.direction])),style:e.style,role:"radiogroup"},e.children))}const yd=e=>{const n=Je(e,{shape:"round",bindGroup:!0}),r=t.useRef(null),a=e=>n.parent&&n.bindGroup?n.parent.props[e]:null,l=t.useMemo((()=>a("disabled")||n.disabled),[n.parent,n.disabled]),s=t.useMemo((()=>a("direction")||null),[n.parent]),i=t.useMemo((()=>{const e=n.checkedColor||a("checkedColor");return e&&n.checked&&!l?{borderColor:e,backgroundColor:e}:{}}),[n.checkedColor,n.checked,l]),c=()=>n.children?o.default.createElement("span",{className:n.bem("label",[n.labelPosition,{disabled:l}])},n.children):null;return o.default.createElement("div",{role:n.role,className:Ve(n.bem([{disabled:l,"label-disabled":n.labelDisabled},s]),n.className),style:n.style,tabIndex:l?-1:0,"aria-checked":n.checked,onClick:e=>{const{target:t}=e,a=r.current,o=a===t||(null==a?void 0:a.contains(t));l||!o&&n.labelDisabled||n.onToggle&&n.onToggle(),n.onClick&&n.onClick(e)}},"left"===n.labelPosition&&c(),(()=>{const{bem:e,shape:t,checked:s}=n,c=n.iconSize||a("iconSize");return o.default.createElement("div",{ref:r,className:Ve(e("icon",[t,{disabled:l,checked:s}])),style:{fontSize:q(c)}},n.iconRender?n.iconRender({checked:s,disabled:l}):o.default.createElement(At,{style:i}))})(),"left"!==n.labelPosition&&c())},[bd]=w("radio");const wd=Object.assign((function(e){const n=t.useContext(hd),{parent:r}=n,a=__objRest(n,["parent"]),l=t.useMemo((()=>r?a.checked===e.name:e.checked),[a.checked]);return o.default.createElement(yd,__spreadProps(__spreadValues({},e),{bem:bd,role:"radio",parent:r,checked:l,onToggle:()=>{(r?a.toggle:()=>{})(e.name)}}))}),{Group:gd});const[Ed]=w("rate");function xd(e,t){const n=e.getFullYear(),r=t.getFullYear();if(n===r){const n=e.getMonth(),r=t.getMonth();return n===r?0:n>r?1:-1}return n>r?1:-1}function Cd(e,t){const n=xd(e,t);if(0===n){const n=e.getDate(),r=t.getDate();return n===r?0:n>r?1:-1}return n}const _d=e=>new Date(e),kd=e=>Array.isArray(e)?e.map(_d):_d(e);function Nd(e,t){const n=_d(e);return n.setDate(n.getDate()+t),n}const Sd=e=>Nd(e,-1),Od=e=>Nd(e,1),Pd=()=>{const e=new Date;return e.setHours(0,0,0,0),e};function Md(e,t){let n=-1;const r=Array(e);for(;++n<e;)r[n]=t(n);return r}function Rd(e,t){return 32-new Date(e,t-1,32).getDate()}const[Vd]=w("calendar"),Td=e=>{const n=Je(e,{offset:0}),r=t.useMemo((()=>{const{item:e,index:t,color:r,offset:a,rowHeight:o}=n,l={height:o};if("placeholder"===e.type)return l.width="100%",l;if(0===t&&(l.marginLeft=100*a/7+"%"),r)switch(e.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":l.background=r;break;case"middle":l.color=r}return l}),[n.item,n.index,n.color,n.offset,n.rowHeight]),{type:a,className:l}=n.item;return"placeholder"===a?o.default.createElement("div",{className:Ve(Vd("day")),style:r}):o.default.createElement("div",{role:"gridcell",style:r,className:Ve(Vd("day",a),l),tabIndex:"disabled"===a?void 0:-1,onClick:()=>{var e;"disabled"!==n.item.type&&(null==(e=n.onClick)||e.call(n,n.item))}},(()=>{const{item:e,color:t,rowHeight:r}=n,{type:a,text:l}=e,s=o.default.createElement(o.default.Fragment,null,(()=>{const{topInfo:e}=n.item;return e||n.topInfoRender?o.default.createElement("div",{className:Ve(Vd("top-info"))},n.topInfoRender?n.topInfoRender(n.item):e):null})(),l,(()=>{const{bottomInfo:e}=n.item;return e||n.bottomInfoRender?o.default.createElement("div",{className:Ve(Vd("bottom-info"))},n.bottomInfoRender?n.bottomInfoRender(n.item):e):null})());return"selected"===a?o.default.createElement("div",{className:Ve(Vd("selected-day")),style:{width:r,height:r,background:t}},s):s})())},[Id]=w("calendar"),Fd=t.forwardRef(((e,n)=>{const[r,a]=t.useState(),l=t.useRef(),[s,i]=t.useState(),c=t.useRef(0),{locale:u}=t.useContext(Mn);t.useEffect((()=>{s&&(c.current=Ki(s).height)}),[s]);const d=t.useMemo((()=>{return e.formatMonthTitle?e.formatMonthTitle(e.date):u.vanCalendar.monthTitle(...(t=e.date,[t.getFullYear(),t.getMonth()+1]));var t}),[e.date,e.formatMonthTitle]),f=t.useMemo((()=>q(e.rowHeight)),[e.rowHeight]),m=t.useMemo((()=>{const t=e.date.getDay();return e.firstDayOfWeek?(t+7-e.firstDayOfWeek)%7:t}),[e.date,e.firstDayOfWeek]),p=t.useMemo((()=>Rd(e.date.getFullYear(),e.date.getMonth()+1)),[e.date]),h=t.useMemo((()=>r||!e.lazyRender),[r]),v=()=>d,g=t=>{const n=e.showSubtitle?l.current:s,r=(null==n?void 0:n.getBoundingClientRect().top)-t.getBoundingClientRect().top+t.scrollTop;D(t,r)},y=t=>{const{type:n,minDate:r,maxDate:a,currentDate:o}=e;if(Cd(t,r)<0||Cd(t,a)>0)return"disabled";if(null===o)return"";if(Array.isArray(o)){if("multiple"===n)return(t=>{const n=t=>e.currentDate.some((e=>0===Cd(e,t)));if(n(t)){const e=Sd(t),r=Od(t),a=n(e),o=n(r);return a&&o?"multiple-middle":a?"end":o?"start":"multiple-selected"}return""})(t);if("range"===n)return(t=>{const[n,r]=e.currentDate;if(!n)return"";const a=Cd(t,n);if(!r)return 0===a?"start":"";const o=Cd(t,r);return e.allowSameDay&&0===a&&0===o?"start-end":0===a?"start":0===o?"end":a>0&&o<0?"middle":""})(t)}else if("single"===n)return 0===Cd(t,o)?"selected":"";return""},b=t=>{if("range"===e.type){if("start"===t)return u.vanCalendar.start;if("end"===t)return u.vanCalendar.end;if("start-end"===t)return u.vanCalendar.startEnd}return null},w=t.useMemo((()=>{const e=Math.ceil((p+m)/7);return Array(e).fill({type:"placeholder"})}),[p,m]),E=t.useMemo((()=>{const t=[],n=e.date.getFullYear(),r=e.date.getMonth();for(let a=1;a<=p;a++){const o=new Date(n,r,a),l=y(o);let s={date:o,type:l,text:a,bottomInfo:b(l)};e.formatter&&(s=e.formatter(s)),t.push(s)}return t}),[y,e.date,e.formatter]),x=(t,n)=>o.default.createElement(Td,{key:n,item:t,index:n,color:e.color,offset:m,rowHeight:f,onClick:e.onClick,topInfoRender:e.topInfoRender,bottomInfoRender:e.bottomInfoRender});return t.useImperativeHandle(n,(()=>({getTitle:v,getHeight:()=>c.current,setVisible:a,scrollIntoView:g}))),o.default.createElement("div",{className:Ve(Id("month")),ref:i},e.showMonthTitle?o.default.createElement("div",{className:Ve(Id("month-title"))},d):null,o.default.createElement("div",{ref:l,role:"grid",className:Ve(Id("days"))},e.showMark&&h?o.default.createElement("div",{className:Ve(Id("month-mark"))},e.date.getMonth()+1):null,(h?E:w).map(x)))})),[Ad]=w("calendar"),jd=e=>{const{locale:n}=t.useContext(Mn),r=t=>{var n;null==(n=e.onClickSubtitle)||n.call(e,t)};return o.default.createElement("div",{className:Ve(Ad("header"))},(()=>{if(e.showTitle){const t=e.title||n.vanCalendar.title;return o.default.createElement("div",{className:Ve(Ad("header-title"))},t)}return null})(),e.showSubtitle?o.default.createElement("div",{className:Ve(Ad("header-subtitle")),onClick:r},e.subtitle):null,(()=>{const{weekdays:t,firstDayOfWeek:r}=e,a=n.vanCalendar.weekdays,l=t?a.map(((e,n)=>t[n]||e)):a,s=[...l.slice(r,7),...l.slice(0,r)];return o.default.createElement("div",{className:Ve(Ad("weekdays"))},s.map(((e,t)=>o.default.createElement("span",{key:t,className:Ve(Ad("weekday"))},e))))})())},[Dd]=w("calendar"),Ld=Pd(),$d=(()=>{const e=Pd();return new Date(e.getFullYear(),e.getMonth()+6,e.getDate())})(),zd=t.forwardRef(((e,n)=>{var r,a=e,{className:l,style:s}=a;const i=Je(__objRest(a,["className","style"]),{round:!0,poppable:!0,showMark:!0,showTitle:!0,showConfirm:!0,showSubtitle:!0,closeOnPopstate:!0,closeOnClickOverlay:!0,safeAreaInsetBottom:!0,defaultValue:null,type:"single",position:"bottom",maxRange:null,minDate:Ld,maxDate:$d,firstDayOfWeek:0,showRangePrompt:!0}),{locale:c}=t.useContext(Mn),[u,d]=Pe({value:i.visible,defaultValue:!1,onChange:e=>{var t;!1===e&&(null==(t=i.onClose)||t.call(i))}}),f=(e,t=i.minDate,n=i.maxDate)=>-1===Cd(e,t)?t:1===Cd(e,n)?n:e,m=(e=i.defaultValue)=>{const{type:t,minDate:n,maxDate:r}=i;if(null===e)return e;const a=Pd();if("range"===t){Array.isArray(e)||(e=[]);return[f(e[0]||a,n,Sd(r)),f(e[1]||a,Od(n))]}return"multiple"===t?Array.isArray(e)?e.map((e=>f(e))):[f(a)]:(e&&!Array.isArray(e)||(e=a),f(e))},p=t.useRef(),h=t.useRef(0),[v,y]=o.default.useState(m(void 0===i.value?i.defaultValue:i.value)),[b,w]=ie({subtitle:"",currentDate:v});ce((()=>{void 0!==i.value&&JSON.stringify(v)!==JSON.stringify(i.value)&&y(i.value)}),[i.value]),t.useEffect((()=>{JSON.stringify(b.currentDate)!==JSON.stringify(v)&&w({currentDate:v})}),[v]);const[E,x]=fu(),C=t.useMemo((()=>i.firstDayOfWeek?+i.firstDayOfWeek%7:0),[i.firstDayOfWeek,i.firstDayOfWeek]),_=t.useMemo((()=>{const e=[],t=new Date(i.minDate);t.setDate(1);do{e.push(new Date(t)),t.setMonth(t.getMonth()+1)}while(1!==xd(t,i.maxDate));return e}),[i.minDate,i.maxDate]),k=t.useMemo((()=>{const{currentDate:e}=b;if(e){if("range"===i.type)return!e[0]||!e[1];if("multiple"===i.type)return!e.length}return!e}),[i.type,b.currentDate]),N=()=>{var e;const t=T(p.current),n=t+h.current,r=_.map(((e,t)=>E[t].getHeight()));if(n>r.reduce(((e,t)=>e+t),0)&&t>0)return;let a,o=0;const l=[-1,-1];for(let s=0;s<_.length;s++){const c=E[s];o<=n&&o+r[s]>=t&&(l[1]=s,a||(a=c,l[0]=s),E[s].showed||(E[s].showed=!0,null==(e=i.onMonthShow)||e.call(i,{date:c.date,title:c.getTitle()}))),o+=r[s]}_.forEach(((e,t)=>{const n=t>=l[0]-1&&t<=l[1]+1;E[t].setVisible(n)})),a&&a.getTitle()!==b.subtitle&&!i.horizontal&&w({subtitle:a.getTitle()})},S=e=>{P((()=>{_.some(((t,n)=>0===xd(t,e)&&(p.current&&E[n].scrollIntoView(p.current),!0))),N()}))},O=()=>{if(i.poppable&&!u)return;const{currentDate:e}=b;if(e){const t="single"===i.type?e:e[0];S(t)}else P(N)},M=()=>{P((()=>{h.current=Math.floor(Ki(p.current).height),O()}))},R=(e=m())=>{w({currentDate:e}),O()},V=()=>{var e;const t=kd(b.currentDate);i.poppable&&y(t),null==(e=i.onConfirm)||e.call(i,t),L.close()},I=(e,t)=>{const n=e=>{var t;b.currentDate=e,w({currentDate:e}),null==(t=i.onSelect)||t.call(i,kd(b.currentDate))};if(t&&"range"===i.type){const t=(e=>{var t;const{maxRange:n,rangePrompt:r,showRangePrompt:a}=i;return!(n&&function(e){const t=e[0].getTime();return(e[1].getTime()-t)/864e5+1}(e)>n&&(a&&uu.info(r||c.vanCalendar.rangePrompt(+n)),null==(t=i.onOverRange)||t.call(i),1))})(e);if(!t)return void(i.showConfirm?n([e[0],Nd(e[0],+i.maxRange-1)]):n(e))}n(e),t&&!i.showConfirm&&V()},F=e=>{var t;if(i.readOnly||!e.date)return;const{date:n}=e,{type:r}=i,{currentDate:a}=b;if("range"===r){if(!a)return void I([n]);const[e,t]=a;if(e&&!t){const t=Cd(n,e);1===t?I([e,n],!0):-1===t?I([n]):i.allowSameDay&&I([n,n],!0)}else I([n])}else if("multiple"===r){if(!a)return void I([n]);let e;if(b.currentDate.some(((t,r)=>{const a=0===Cd(t,n);return a&&(e=r),a}))){const[n]=a.splice(e,1);null==(t=i.onUnselect)||t.call(i,_d(n)),I([...a])}else i.maxRange&&a.length>=i.maxRange?uu(i.rangePrompt||`选择天数不能超过 ${i.maxRange} 天`):I([...a,n])}else I(n,!0)},A=(e,t)=>{const n=!(i.horizontal||0===t&&i.showSubtitle);return o.default.createElement(Fd,__spreadProps(__spreadValues({key:t,ref:x(t),date:e,currentDate:b.currentDate,showMonthTitle:n,firstDayOfWeek:C},g(i,["type","color","minDate","maxDate","showMark","formatter","rowHeight","showSubtitle","lazyRender","allowSameDay","topInfoRender","bottomInfoRender","formatMonthTitle"])),{onClick:F}))},j=()=>o.default.createElement("div",{className:Ve(Dd("footer"),{"rv-safe-area-bottom":i.safeAreaInsetBottom})},(()=>{if(i.footer)return i.footer;if(i.showConfirm){const e=k?i.confirmDisabledText:i.confirmText;return o.default.createElement(Xe,{round:!0,block:!0,type:"danger",color:i.color,className:Ve(Dd("confirm")),disabled:k,nativeType:"button",onClick:V},e||c.vanCalendar.confirm)}return null})()),D=()=>o.default.createElement("div",{className:Ve(l,Dd()),style:s},o.default.createElement(jd,{weekdays:i.weekdays,title:i.title,subtitle:i.subtitle||b.subtitle,showTitle:i.showTitle,showSubtitle:i.showSubtitle,firstDayOfWeek:C,onClickSubtitle:e=>{var t;null==(t=i.onClickSubtitle)||t.call(i,e)}}),i.horizontal?o.default.createElement("div",{ref:p,className:Ve(Dd("horizontal-body"))},o.default.createElement(ju,{indicator:()=>null,onChange:e=>{w({subtitle:E[e].getTitle()})}},_.map(((e,t)=>o.default.createElement(ju.Item,{key:e},A(e,t)))))):o.default.createElement("div",{ref:p,className:Ve(Dd("body")),onScroll:N},_.map(A)),j()),L={toggle:()=>{i.poppable&&d((e=>!e))},open:()=>{i.poppable&&d(!0)},close:()=>{i.poppable&&d(!1)}};return t.useEffect((()=>{i.poppable||M()}),[]),t.useEffect((()=>{i.poppable&&u&&M()}),[u]),ce((()=>{R(m(b.currentDate))}),[i.type,i.minDate,i.maxDate]),t.useImperativeHandle(n,(()=>__spreadValues({reset:R,scrollToDate:S},L))),i.poppable?o.default.createElement(o.default.Fragment,null,o.default.createElement(En,{visible:u,className:Ve(Dd("popup")),round:i.round,position:i.position,closeable:i.showTitle||i.showSubtitle,closeOnPopstate:i.closeOnPopstate,closeOnClickOverlay:i.closeOnClickOverlay,onClose:L.close,onClosed:()=>{var e;i.poppable&&JSON.stringify(b.currentDate)!==JSON.stringify(v)&&w({currentDate:v}),null==(e=i.onClosed)||e.call(i)}},D()),null==(r=i.children)?void 0:r.call(i,v,L)):D()}));function Hd(e,n,r){const{childrenKey:a,valueKey:o}=n,l=t.useMemo((()=>{let t=0;return function e(n,r){r>t&&(t=r);const o=r+1;n.forEach((t=>{t[a]&&e(t[a],o)}))}(e,1),t}),[e,a]),s=t.useMemo((()=>r&&r.length?r.reduce(((e,t,n)=>{if(!t)return e;const l=e[n].find((e=>e[o]===r[n]));return l&&l[a]&&e.push(l[a]),e}),[e]):[e]),[r,a,o,e]),i=t.useMemo((()=>r.map(((e,t)=>{var n;return null!=(n=s[t].find((t=>t[o]===e)))?n:void 0}))),[r,o,s]);return{tabs:s,items:i,depth:l}}function Bd(e,n,r){const[a,o]=t.useState({}),{run:l}=function(e,n){var r;const a=fe(e),o=null!=(r=null==n?void 0:n.wait)?r:1e3,l=t.useMemo((()=>Uc(((...e)=>a.current(...e)),o,n)),[]);return me((()=>{l.cancel()})),{run:l,cancel:l.cancel,flush:l.flush}}((()=>{o({})}),r);t.useEffect((()=>l()),n),ce(e,[a])}const[qd]=w("cascader"),Ud=e=>{const{locale:n}=t.useContext(Mn),[r,a]=t.useState((()=>void 0===e.value?e.defaultValue:e.value)),[l,s]=t.useState(0),{text:i,value:c,children:u}=f({text:"text",value:"value",children:"children"},e.fieldNames),{tabs:d,items:m,depth:p}=Hd(e.options,{textKey:i,valueKey:c,childrenKey:u},r||[]);ce((()=>{void 0!==e.value&&JSON.stringify(r)!==JSON.stringify(e.value)&&a(e.value)}),[e.value]),t.useEffect((()=>{let e=0;Array.isArray(r)&&r.length>0&&(e=r.length),e>=p&&(e=p-1),e!==l&&s(e)}),[r]),Bd((()=>{var t,n;JSON.stringify(e.value)!==JSON.stringify(r)&&(null==(t=e.onChange)||t.call(e,r,m),r.length>=p&&(null==(n=e.onFinish)||n.call(e,r,m)))}),[r],{wait:100,leading:!1,trailing:!0});const h=({name:t,index:n})=>{var r;null==(r=e.onClickTab)||r.call(e,+t),s(n)},v=(t,n,r)=>{const l=t.color||(n?e.activeColor:void 0),s=e.optionRender?e.optionRender({option:t,selected:n}):o.default.createElement("span",null,t[i]);return o.default.createElement("li",{key:t[c],className:Ve(qd("option",{selected:n,disabled:t.disabled}),t.className),style:{color:l},onClick:()=>((e,t)=>{e.disabled||a((n=>{const r=[...n];return r[t]=null==e?void 0:e[c],r.slice(0,t+1)}))})(t,r)},s,n?o.default.createElement(At,{className:Ve(qd("selected-icon"))}):null)},g=(t,r)=>{const a=m[r],l=a?a[i]:e.placeholder||n.vanPicker.select;return o.default.createElement(Ku.TabPane,{key:r,title:l,titleClass:Ve(qd("tab",{unselected:!a}))},((e,t,n)=>o.default.createElement("ul",{key:n,className:Ve(qd("options"))},e.map((e=>v(e,e[c]===(null==t?void 0:t[c]),n)))))(t,a,r))};return o.default.createElement("div",{className:Ve(qd())},o.default.createElement("div",{className:Ve(qd("header"))},o.default.createElement("h2",{className:Ve(qd("title"))},e.title),e.closeable?e.closeIcon?o.default.cloneElement(e.closeIcon,{className:Ve(qd("close-icon")),onClick:e.onClose}):o.default.createElement(vt,{className:Ve(qd("close-icon")),onClick:e.onClose}):null),d.length?o.default.createElement(Ku,{animated:!0,active:l,className:Ve(qd("tabs")),color:e.activeColor,swipeThreshold:0,swipeable:e.swipeable,duration:300,onClickTab:h},d.map(g)):null)},Wd=o.default.forwardRef(((e,n)=>{var r;const a=Je(e,{closeable:!0,swipeable:!1,defaultValue:[],options:[]}),l=a,{visible:s,popup:i}=l,c=__objRest(l,["visible","popup"]),[u,d]=Pe({value:s,defaultValue:!1}),[m,p]=t.useState((()=>void 0===a.value?a.defaultValue:a.value)),[h,g]=t.useState(m),{text:y,value:b,children:w}=f({text:"text",value:"value",children:"children"},a.fieldNames),{items:E}=Hd(a.options,{textKey:y,valueKey:b,childrenKey:w},m||[]);ce((()=>{void 0!==a.value&&JSON.stringify(m)!==JSON.stringify(a.value)&&p(a.value)}),[a.value]),t.useEffect((()=>{i||JSON.stringify(h)===JSON.stringify(m)||g(m)}),[m]),t.useEffect((()=>{i&&JSON.stringify(h)!==JSON.stringify(m)&&g(m)}),[u]);const x={toggle:()=>{i&&d((e=>!e))},open:()=>{i&&d(!0)},close:()=>{i&&d(!1)}},C=Oe(((e,t)=>{var n;p(e),null==(n=a.onFinish)||n.call(a,e,t),x.close()})),_=Oe(((e,t)=>{var n,r;g(e),i?u&&(null==(n=a.onChange)||n.call(a,e,t)):null==(r=a.onChange)||r.call(a,e,t)}));t.useImperativeHandle(n,(()=>x));const k=o.default.createElement(Ud,__spreadProps(__spreadValues({value:h},c),{onChange:_,onFinish:C,onClose:()=>{var e;null==(e=a.onClose)||e.call(a),x.close()}}));if(!i)return k;const N=v(i)?__spreadValues({closeOnClickOverlay:!0},i):{closeOnClickOverlay:!0};return o.default.createElement(o.default.Fragment,null,o.default.createElement(En,__spreadValues({position:"bottom",visible:u,closeOnClickOverlay:!0,onClickOverlay:()=>{(null==N?void 0:N.closeOnClickOverlay)&&d(!1)}},N),k),null==(r=a.children)?void 0:r.call(a,m,E,x))}));const Kd=t.createContext({}),[Yd]=w("checkbox-group"),Xd=t.forwardRef(((e,n)=>{const[r,a]=fu(),[l,s]=pu({value:e.value,defaultValue:e.defaultValue}),i=(t={})=>{"boolean"==typeof t&&(t={checked:t});const{checked:n,skipDisabled:a}=t,o=r.filter((e=>!!e.props.bindGroup&&(e.props.disabled&&a?e.checked:null!=n?n:!e.checked))).map((e=>e.props.name));s(o),e.onChange(o)};return t.useImperativeHandle(n,(()=>({toggleAll:i}))),o.default.createElement(Kd.Provider,{value:{parent:{props:e},toggle:t=>{var n;s(t),null==(n=e.onChange)||n.call(e,t)},checked:l||[]}},o.default.createElement("div",{className:Ve(e.className,Yd([e.direction]))},o.default.Children.toArray(e.children).filter(Boolean).map(((e,t)=>{var n;return"Checkbox"!==(null==(n=e.type)?void 0:n.displayName)?e:o.default.cloneElement(e,{ref:a(t)})}))))})),[Jd]=w("checkbox"),Gd=t.forwardRef(((e,n)=>{const r=Je(e,{bindGroup:!0}),a=t.useContext(Kd),{parent:l}=a,s=__objRest(a,["parent"]),[i,c]=pu({value:r.checked,defaultValue:r.defaultChecked}),u=t.useMemo((()=>l&&r.bindGroup?-1!==s.checked.indexOf(r.name):i),[s.checked,i]),d=(e=!u)=>{var t;l&&r.bindGroup?(e=>{const{name:t}=r,{max:n}=l.props,a=s.checked.slice();if(e)n&&a.length>=n||-1!==a.indexOf(t)||(a.push(t),r.bindGroup&&s.toggle(a));else{const e=a.indexOf(t);-1!==e&&(a.splice(e,1),r.bindGroup&&s.toggle(a))}})(e):(c(e),null==(t=r.onChange)||t.call(r,e))};return t.useImperativeHandle(n,(()=>({toggle:d,checked:u,props:r}))),o.default.createElement(yd,__spreadProps(__spreadValues({},r),{bem:Jd,role:"checkbox",parent:l,checked:u,className:r.className,bindGroup:r.bindGroup,onToggle:d}))}));Gd.displayName="Checkbox";const Qd=Object.assign(Gd,{Group:Xd});const[Zd]=w("picker-column"),ef=t.memo(t.forwardRef(((e,n)=>{const{locale:r}=t.useContext(Mn),{valueKey:a,textKey:l,itemHeight:s,visibleItemCount:i,placeholder:c,value:u}=e,d=t.useMemo((()=>X(s)),[s]),f=t.useMemo((()=>{if(Array.isArray(e.options)&&!e.options.length)return[];if(c){return[{[a]:void 0,[l]:!0===c?r.vanPicker.select:c},...e.options]}return e.options}),[e.options]),m=t.useRef(null),p=t.useRef(!1),h=t.useRef(0),v=t.useRef(null),g=t.useRef(0),y=t.useRef(0),[b,w,E]=ie({offset:0,duration:0}),x=ye(),C=t.useMemo((()=>d*(+i-1)/2),[d,i]),_=e=>{var t,n;for(let r=e=J(e,0,f.length);r<f.length;r+=1)if(!(null==(t=f[r])?void 0:t.disabled))return r;for(let r=e-1;r>=0;r-=1)if(!(null==(n=f[r])?void 0:n.disabled))return r;return null},k=t=>{e.onSelect(t,e.index)},N=e=>{const t=-(e=_(e)||0)*d,n=()=>{var t;(null==(t=f[e])?void 0:t[a])!==u&&k(f[e])};p.current&&t!==E.current.offset?v.current=n:n(),w({offset:t})};_e((()=>{if(0===f.length)void 0!==u&&k(void 0);else{let t=f.findIndex((e=>e[a]===u));t<0&&(t=0,k(f[0])),e=_(e=t)||0,w({offset:-e*d})}var e}),[u,JSON.stringify(f)]);const S=e=>J(Math.round(-e/d),0,f.length-1),O=()=>{p.current=!1,w({duration:0}),v.current&&(v.current(),v.current=null)},P=()=>{if(e.readOnly||!p.current)return;const t=E.current.offset-y.current,n=Date.now()-g.current;if(n<300&&Math.abs(t)>15)return void((t,n)=>{const r=Math.abs(t/n);t=E.current.offset+r/.003*(t<0?-1:1);const a=S(t);w({duration:+e.swipeDuration}),N(a)})(t,n);const r=S(E.current.offset);w({duration:200}),N(r),setTimeout((()=>{p.current=!1}),0)};return t.useImperativeHandle(n,(()=>({stopMomentum:O}))),o.default.createElement("div",{className:Ve(Zd(),e.className),onTouchStart:t=>{if(e.readOnly)return;x.start(t);let{offset:n}=b;if(p.current){const e=function(e){const t=window.getComputedStyle(e),n=t.transform||t.webkitTransform,r=n.slice(7,n.length-1).split(", ")[5];return Number(r)}(m.current);n=Math.min(0,e-C),h.current=n}else h.current=n;w({duration:0,offset:n}),g.current=Date.now(),y.current=h.current,v.current=null},onTouchMove:t=>{if(e.readOnly)return;x.move(t),x.isVertical()&&(p.current=!0);const n=J(h.current+x.deltaY.current,-f.length*d,d);w({offset:n});const r=Date.now();r-g.current>300&&(g.current=r,y.current=n)},onTouchEnd:P,onTouchCancel:P},o.default.createElement("ul",{ref:m,style:{transform:`translate3d(0, ${b.offset+C}px, 0)`,transitionDuration:`${b.duration}ms`,transitionProperty:b.duration?"all":"none"},className:Ve(Zd("wrapper")),onTransitionEnd:O},(()=>{const t={height:`${e.itemHeight}px`};return f.map(((n,r)=>{const{disabled:s}=n,i={role:"button",style:t,tabIndex:s?-1:0,className:Ve(Zd("item",{disabled:s,selected:n[a]===u})),onClick:()=>{(t=>{p.current||e.readOnly||(v.current=null,w({duration:200}),N(t))})(r)}},c={className:"rv-ellipsis",children:n[l]};return o.default.createElement("li",__spreadProps(__spreadValues({},i),{key:r}),e.optionRender?e.optionRender(n):o.default.createElement("div",__spreadValues({},c)))}))})()))})),((e,t)=>e.index===t.index&&(e.value===t.value&&(e.onSelect===t.onSelect&&JSON.stringify(e.options)===JSON.stringify(t.options)))));function tf(e){let t=null;return()=>(null===t&&(t=e()),t)}function nf(e,n,r){const a=function(e,n){const{textKey:r,valueKey:a,childrenKey:o}=n,l=t.useMemo((()=>{if(e.some((e=>"object"==typeof e&&o in e)))return"cascade";const t=e[0]||{};return"object"==typeof t?o in t?"cascade":"object":"plain"}),[e,o]),s=t.useMemo((()=>{let t=0;return function e(n,r){r>t&&(t=r);const a=r+1;n.forEach((t=>{t[o]&&e(t[o],a)}))}(e,1),t}),[e,o]);return"cascade"!==l?e:t=>{const n=[];let l=e,i=0;for(;;){n.push(l.map((e=>{var t;return{[r]:e[r],[a]:null!=(t=e[a])?t:e[r]}})));const e=t[i],s=l.find((t=>{var n;return(null!=(n=t[a])?n:t[r])===e}));if(!s||!s[o])break;l=s[o],i++}for(;i<s-1;)n.push([]),i++;return n}}(e,n);return t.useMemo((()=>function(e,t,n){const{textKey:r,valueKey:a}=t,o=tf((()=>{let t="function"==typeof e?e(n):e;return Array.isArray(t[0])||(t=[t]),t.map((e=>e.map((e=>"string"==typeof e?{[r]:e,[a]:e}:(a in e||(e[a]=e[r]),e)))))})),l=tf((()=>n.map(((e,t)=>{var n;const r=o()[t];return r?null!=(n=r.find((t=>t[a]===e)))?n:void 0:null})))),s=tf((()=>n.map(((e,t)=>{var n;const r=o()[t];return r&&null!=(n=r.findIndex((t=>t[a]===e)))?n:null}))));return{get columns(){return o()},get items(){return l()},get indexes(){return s()}}}(a,n,r)),[e,n,r])}const[rf]=w("picker");function af(e){const{locale:n}=t.useContext(Mn),r=t.useRef(null),[a,l]=fu(),{text:s,value:i,children:c}=f({text:"text",value:"value",children:"children"},e.columnsFieldNames),[u,d]=t.useState(e.value);t.useEffect((()=>{void 0!==e.value&&JSON.stringify(u)!==JSON.stringify(e.value)&&d(e.value)}),[e.value]);const m=nf(e.columns,{textKey:s,valueKey:i,childrenKey:c},u),{columns:p,items:h,indexes:v}=m;Bd((()=>{var t;JSON.stringify(e.value)!==JSON.stringify(u)&&(null==(t=e.onChange)||t.call(e,u,h,v))}),[u],{wait:100,leading:!1,trailing:!0});const g=t.useMemo((()=>X(e.itemHeight)),[e.itemHeight]),y=(e,t)=>{d((n=>{const r=[...n];return r[t]=null==e?void 0:e[i],r}))},b=()=>{var t;a.forEach((e=>e.stopMomentum())),null==(t=e.onConfirm)||t.call(e,u,h,v)},w=()=>{var t;null==(t=e.onCancel)||t.call(e)},E=()=>e.showToolbar?o.default.createElement("div",{className:Ve(rf("toolbar"))},e.toolbar||o.default.createElement(o.default.Fragment,null,(()=>{const t=e.cancelButtonText||n.cancel;return o.default.createElement("button",{type:"button",className:Ve(rf("cancel")),onClick:w},t)})(),e.title?o.default.createElement("div",{className:Ve(rf("title"),"rv-ellipsis")},e.title):null,(()=>{const t=e.confirmButtonText||n.confirm;return o.default.createElement("button",{type:"button",className:Ve(rf("confirm")),onClick:b},t)})())):null;return le("touchmove",x,{target:r.current}),o.default.createElement("div",{className:Ve(rf(),e.className)},"top"===e.toolbarPosition?E():null,e.loading?o.default.createElement(je,{className:Ve(rf("loading"))}):null,e.columnsTop,(()=>{const t=g*e.visibleItemCount,n={height:`${g}px`},a={height:`${t}px`},c={backgroundSize:`100% ${(t-g)/2}px`};return o.default.createElement("div",{ref:r,className:Ve(rf("columns")),style:a},p.map(((t,n)=>{const r=Array.isArray(e.placeholder)?e.placeholder[n]:e.placeholder;return o.default.createElement(ef,{textKey:s,valueKey:i,key:n,ref:l(n),placeholder:r,optionRender:e.optionRender,readOnly:e.readOnly,value:u[n],itemHeight:g,index:n,swipeDuration:e.swipeDuration,visibleItemCount:e.visibleItemCount,options:t,onSelect:y})})),o.default.createElement("div",{className:Ve(rf("mask")),style:c}),o.default.createElement("div",{className:Ve(qe,rf("frame")),style:n}))})(),e.columnsBottom,"bottom"===e.toolbarPosition?E():null)}const of=t.forwardRef((function(e,n){const r=Je(e,{columns:[],itemHeight:44,visibleItemCount:5,swipeDuration:300,showToolbar:!0,placeholder:!0,toolbarPosition:"top"}),a=r,{visible:l,popup:s,children:i,defaultValue:c=[]}=a,u=__objRest(a,["visible","popup","children","defaultValue"]),[d,m]=Pe({value:l,defaultValue:!1,onChange:e=>{var t;!1===e&&(null==(t=r.onClose)||t.call(r))}}),p={toggle:()=>{s&&m((e=>!e))},open:()=>{s&&m(!0)},close:()=>{s&&m(!1)}};t.useImperativeHandle(n,(()=>p));const h=Array.isArray(r.value)?r.value:void 0!==r.value?[r.value]:void 0,g=Array.isArray(c)?c:void 0!==c?[c]:[],{text:y,value:b,children:w}=f({text:"text",value:"value",children:"children"},r.columnsFieldNames),E=t.useMemo((()=>{const e=r.columns[0]||{};return!Array.isArray(e)&&("object"!=typeof e||!(w in e))}),[r.columns,w]),x=e=>E?null==e?void 0:e[0]:e,[C,_]=Pe({value:h,defaultValue:g}),k=nf(r.columns,{textKey:y,valueKey:b,childrenKey:w},C),[N,S]=t.useState(C);t.useEffect((()=>{s&&JSON.stringify(N)!==JSON.stringify(C)&&S(C)}),[d]),t.useEffect((()=>{s||JSON.stringify(N)===JSON.stringify(C)||S(C)}),[C]);const O=Oe(((e,t,n)=>{var a,o;S(e),s?d&&(null==(a=r.onChange)||a.call(r,x(e),x(t),x(n))):null==(o=r.onChange)||o.call(r,x(e),x(t),x(n))})),P=v(s)?__spreadValues({closeOnClickOverlay:!0},s):{closeOnClickOverlay:!0},M=o.default.createElement(af,__spreadProps(__spreadValues({},u),{value:N,onCancel:()=>{var e;null==(e=r.onCancel)||e.call(r),s&&p.close()},onConfirm:(e,t,n)=>{var a;_(N,!0),null==(a=r.onConfirm)||a.call(r,x(e),x(t),x(n)),s&&p.close()},onChange:O}));return s?o.default.createElement(o.default.Fragment,null,o.default.createElement(En,__spreadValues({round:!0,position:"bottom",visible:d,closeOnClickOverlay:!0,onClickOverlay:()=>{(null==P?void 0:P.closeOnClickOverlay)&&m(!1)}},P),M),null==i?void 0:i(x(C),x(k.items),p)):M}));const lf=t.forwardRef(((e,n)=>{const r=Je(e,{type:"datetime",placeholder:!1,minDate:cf,maxDate:uf,formatter:(e,t)=>t}),a=r,{value:l,defaultValue:s,formatter:i,columnsOrder:c,type:u,filter:d,minDate:f,maxDate:m}=a,p=__objRest(a,["value","defaultValue","formatter","columnsOrder","type","filter","minDate","maxDate"]),h=e=>{var t;return t=e,("[object Date]"!==Object.prototype.toString.call(t)||B(t.getTime()))&&(e=new Date),e=Math.max(e,f.getTime()),e=Math.min(e,m.getTime()),new Date(e)},[v,g,y]=se((()=>h(l||s))),b=(e,t)=>{const n=r[`${e}Date`],a=n.getFullYear();let o=1,l=1,s=0,i=0;return"max"===e&&(o=12,l=Rd(t.getFullYear(),t.getMonth()+1),s=23,i=59),t.getFullYear()===a&&(o=n.getMonth()+1,t.getMonth()+1===o&&(l=n.getDate(),t.getDate()===l&&(s=n.getHours(),t.getHours()===s&&(i=n.getMinutes())))),{[`${e}Year`]:a,[`${e}Month`]:o,[`${e}Date`]:l,[`${e}Hour`]:s,[`${e}Minute`]:i}},w=t.useMemo((()=>{const{maxYear:e,maxDate:t,maxMonth:n,maxHour:r,maxMinute:a}=b("max",y.current),{minYear:o,minDate:l,minMonth:s,minHour:i,minMinute:f}=b("min",y.current);let m=[{type:"year",range:[o,e]},{type:"month",range:[s,n]},{type:"day",range:[l,t]},{type:"hour",range:[i,r]},{type:"minute",range:[f,a]}];switch(u){case"date":m=m.slice(0,3);break;case"year-month":m=m.slice(0,2);break;case"month-day":m=m.slice(1,3);break;case"datehour":m=m.slice(0,4)}if(c){const e=c.concat(m.map((e=>e.type)));m.sort(((t,n)=>e.indexOf(t.type)-e.indexOf(n.type)))}return m.map((({type:e,range:t})=>{let n=Md(t[1]-t[0]+1,(e=>Z(t[0]+e)));return d&&(n=d(e,n)),{type:e,values:n}}))}),[c,y.current,f,m]),E=t.useMemo((()=>w.map((e=>e.values.map((t=>i(e.type,t)))))),[w,i]),x=t.useMemo((()=>{const e=r.popup?h(y.current):y.current;return w.map((t=>{switch(t.type){case"year":return i("year",`${e.getFullYear()}`);case"month":return i("month",Z(e.getMonth()+1));case"day":return i("day",Z(e.getDate()));case"hour":return i("hour",Z(e.getHours()));case"minute":return i("minute",Z(e.getMinutes()));default:return""}}))}),[r.value,y.current,h]),C=e=>{const{type:t}=r,n=t=>{let n=0;w.forEach(((e,r)=>{t===e.type&&(n=r)}));const{values:r}=w[n];return function(e){if(!e)return 0;for(;B(parseInt(e,10));){if(!(e.length>1))return 0;e=e.slice(1)}return parseInt(e,10)}(r[e[n]])};let a=null,o=null,l=null;"month-day"===t?(a=(v||f).getFullYear(),o=n("month"),l=n("day")):(a=n("year"),o=n("month"),l="year-month"===t?1:n("day"));const s=Rd(a,o);l=l>s?s:l;let i=0,c=0;return"datehour"===t&&(i=+n("hour")),"datetime"===t&&(i=+n("hour"),c=+n("minute")),h(new Date(a,o-1,l,i,c))};return ce((()=>{const e=h(l);e&&e.valueOf()!==(null==v?void 0:v.valueOf())&&g(e)}),[l,d,f,m]),o.default.createElement(of,__spreadProps(__spreadValues({},p),{value:x,ref:n,columns:E,onChange:(e,t,n)=>{var a;const o=C(n);g(o),null==(a=r.onChange)||a.call(r,o)},onConfirm:()=>{var e;null==(e=r.onConfirm)||e.call(r,v)},onCancel:r.onCancel}),((e,t,n)=>{var a;return null==(a=r.children)?void 0:a.call(r,l||s,t,n)}))})),sf=(new Date).getFullYear(),cf=new Date(sf-10,0,1),uf=new Date(sf+10,11,31),df=t.forwardRef(((e,n)=>{const r=Je(e,{minHour:0,maxHour:23,minMinute:0,maxMinute:59,placeholder:!1,defaultValue:"",formatter:(e,t)=>t}),a=r,{value:l,defaultValue:s,formatter:i,filter:c,minHour:u,maxHour:d,minMinute:f,maxMinute:m}=a,p=__objRest(a,["value","defaultValue","formatter","filter","minHour","maxHour","minMinute","maxMinute"]),h=e=>{e||(e=`${Z(u)}:${Z(f)}`);let[t,n]=e.split(":");return t=Z(J(t,+u,+d)),n=Z(J(n,+f,+m)),`${t}:${n}`},[v,g]=t.useState((()=>h(void 0===l?s:l))),y=t.useMemo((()=>[{type:"hour",range:[+u,+d]},{type:"minute",range:[+f,+m]}]),[u,d,f,m]),b=t.useMemo((()=>y.map((({type:e,range:t})=>{let n=Md(t[1]-t[0]+1,(e=>Z(t[0]+e)));return c&&(n=c(e,n)),{type:e,values:n}}))),[y]),w=t.useMemo((()=>b.map((e=>e.values.map((t=>i(e.type,t)))))),[b]),E=t.useMemo((()=>{const e=(r.popup?h(r.value):v).split(":");return[i("hour",e[0]),i("minute",e[1])]}),[r.value,v,h]);return ce((()=>{const e=h(v);g(e)}),[c,u,d,f,m]),ce((()=>{const e=h(l);e!==v&&g(e)}),[l]),o.default.createElement(of,__spreadProps(__spreadValues({},p),{ref:n,columns:w,value:E,onChange:e=>{var t;const n=h(e.join(":"));g(n),null==(t=r.onChange)||t.call(r,n)},onConfirm:()=>{var e;null==(e=r.onConfirm)||e.call(r,v)},onCancel:()=>{var e;null==(e=r.onCancel)||e.call(r)}}),((e,t,n)=>{var a;return null==(a=r.children)?void 0:a.call(r,l,t,n)}))})),[ff]=w("datetime-picker"),mf=t.forwardRef(((e,t)=>"time"===e.type?o.default.createElement(df,__spreadValues({ref:t,className:Ve(ff())},e)):o.default.createElement(lf,__spreadValues({ref:t,className:Ve(ff())},e))));const[pf]=w("password-input"),hf=t.forwardRef(((e,n)=>{const r=Je(e,{length:6,gutter:0,mask:!0,type:"text"}),a=t.useRef(!1),l=t.useRef(null),[s,i]=ie({code:r.value||"",focused:r.autoFocus,inputType:r.type,inputMode:"text"}),c=t.useMemo((()=>{var e;return null==(e=s.code)?void 0:e.toString().split("")}),[s.code]),u=t.useMemo((()=>c.length),[c.length]),{length:d,onSubmit:f}=r,m=()=>{var e;null==(e=l.current)||e.focus(),i({focused:!0})},v=()=>{var e;null==(e=l.current)||e.blur(),i({focused:!1})},g=()=>{i({code:""})},y=(e,t)=>{p(d)&&(null==e?void 0:e.length)>+d&&(e=e.slice(0,d)),"number"===r.type&&(e=Q(e,!1,!1)),h(r.validator)?r.validator(e)&&(i({code:e}),h(t)&&t(e)):(i({code:e}),h(t)&&t(e))};ce((()=>{var e;a.current?a.current=!1:y(null!=(e=r.value)?e:"")}),[r.value]),t.useEffect((()=>{var e,t;s.code.length>=d&&(null==(t=null==(e=null==l?void 0:l.current)?void 0:e.blur)||t.call(e),null==f||f(s.code))}),[d,s.code]),ce((()=>{"number"===r.type?i({inputType:"tel",inputMode:"numeric"}):i({inputType:"text"})}),[r.type]),t.useImperativeHandle(n,(()=>({focus:m,blur:v,clear:g})));const b=r.errorInfo||r.info;return o.default.createElement("div",{className:Ve(pf(),r.className),style:r.style},o.default.createElement("ul",{className:Ve(pf("security"),{[He]:!r.gutter})},(()=>{const e=[],{mask:t,gutter:n}=r;for(let a=0;a<d;a++){const l=c[a],i=0!==a&&!n,d=s.focused&&u===a&&!l;let f;0!==a&&n&&(f={marginLeft:q(n)}),e.push(o.default.createElement("li",{key:a,className:Ve({[$e]:i,[r.highlightClass]:r.highlightClass&&l&&!r.mask},pf("item",{focus:d})),style:f},t?o.default.createElement("i",{style:{visibility:l?"visible":"hidden"}}):l,d&&o.default.createElement("div",{className:Ve(pf("cursor"))})))}return e})(),o.default.createElement("input",{ref:l,type:s.inputType,inputMode:s.inputMode,pattern:"[0-9]*",maxLength:r.length,value:s.code,autoComplete:"false",autoCorrect:"off",autoCapitalize:"off",autoFocus:r.autoFocus,spellCheck:"false",onChange:e=>{const t=e.target.value||"";a.current=!0,y(t,r.onChange)},onFocus:e=>{var t;i({focused:!0}),null==(t=r.onFocus)||t.call(r,e)},onBlur:e=>{var t;i({focused:!1}),null==(t=r.onBlur)||t.call(r,e)}})),b?o.default.createElement("div",{className:Ve(pf(r.errorInfo?"error-info":"info"))},b):null)}));const vf=({bem:e})=>o.default.createElement("svg",{className:Ve(e("collapse-icon")),viewBox:"0 0 30 24"},o.default.createElement("path",{d:"M25.877 12.843h-1.502c-.188 0-.188 0-.188.19v1.512c0 .188 0 .188.188.188h1.5c.187 0 .187 0 .187-.188v-1.511c0-.19 0-.191-.185-.191zM17.999 10.2c0 .188 0 .188.188.188h1.687c.188 0 .188 0 .188-.188V8.688c0-.187.004-.187-.186-.19h-1.69c-.187 0-.187 0-.187.19V10.2zm2.25-3.967h1.5c.188 0 .188 0 .188-.188v-1.7c0-.19 0-.19-.188-.19h-1.5c-.189 0-.189 0-.189.19v1.7c0 .188 0 .188.19.188zm2.063 4.157h3.563c.187 0 .187 0 .187-.189V4.346c0-.19.004-.19-.185-.19h-1.69c-.187 0-.187 0-.187.188v4.155h-1.688c-.187 0-.187 0-.187.189v1.514c0 .19 0 .19.187.19zM14.812 24l2.812-3.4H12l2.813 3.4zm-9-11.157H4.31c-.188 0-.188 0-.188.19v1.512c0 .188 0 .188.188.188h1.502c.187 0 .187 0 .187-.188v-1.511c0-.19.01-.191-.189-.191zm15.937 0H8.25c-.188 0-.188 0-.188.19v1.512c0 .188 0 .188.188.188h13.5c.188 0 .188 0 .188-.188v-1.511c0-.19 0-.191-.188-.191zm-11.438-2.454h1.5c.188 0 .188 0 .188-.188V8.688c0-.187 0-.187-.188-.189h-1.5c-.187 0-.187 0-.187.189V10.2c0 .188 0 .188.187.188zM27.94 0c.563 0 .917.21 1.313.567.518.466.748.757.748 1.51v14.92c0 .567-.188 1.134-.562 1.512-.376.378-.938.566-1.313.566H2.063c-.563 0-.938-.188-1.313-.566-.562-.378-.75-.945-.75-1.511V2.078C0 1.51.188.944.562.567.938.189 1.5 0 1.875 0zm-.062 2H2v14.92h25.877V2zM5.81 4.157c.19 0 .19 0 .19.189v1.762c-.003.126-.024.126-.188.126H4.249c-.126-.003-.126-.023-.126-.188v-1.7c-.187-.19 0-.19.188-.19zm10.5 2.077h1.503c.187 0 .187 0 .187-.188v-1.7c0-.19 0-.19-.187-.19h-1.502c-.188 0-.188.001-.188.19v1.7c0 .188 0 .188.188.188zM7.875 8.5c.187 0 .187.002.187.189V10.2c0 .188 0 .188-.187.188H4.249c-.126-.002-.126-.023-.126-.188V8.625c.003-.126.024-.126.188-.126zm7.875 0c.19.002.19.002.19.189v1.575c-.003.126-.024.126-.19.126h-1.563c-.126-.002-.126-.023-.126-.188V8.625c.002-.126.023-.126.189-.126zm-6-4.342c.187 0 .187 0 .187.189v1.7c0 .188 0 .188-.187.188H8.187c-.126-.003-.126-.023-.126-.188V4.283c.003-.126.024-.126.188-.126zm3.94 0c.185 0 .372 0 .372.189v1.762c-.002.126-.023.126-.187.126h-1.75C12 6.231 12 6.211 12 6.046v-1.7c0-.19.187-.19.187-.19z",fill:"currentColor"})),gf=({bem:e})=>o.default.createElement("svg",{className:Ve(e("delete-icon")),viewBox:"0 0 32 22"},o.default.createElement("path",{d:"M28.016 0A3.991 3.991 0 0132 3.987v14.026c0 2.2-1.787 3.987-3.98 3.987H10.382c-.509 0-.996-.206-1.374-.585L.89 13.09C.33 12.62 0 11.84 0 11.006c0-.86.325-1.62.887-2.08L9.01.585A1.936 1.936 0 0110.383 0zm0 1.947H10.368L2.24 10.28c-.224.226-.312.432-.312.73 0 .287.094.51.312.729l8.128 8.333h17.648a2.041 2.041 0 002.037-2.04V3.987c0-1.127-.915-2.04-2.037-2.04zM23.028 6a.96.96 0 01.678.292.95.95 0 01-.003 1.377l-3.342 3.348 3.326 3.333c.189.188.292.43.292.679 0 .248-.103.49-.292.679a.96.96 0 01-.678.292.959.959 0 01-.677-.292L18.99 12.36l-3.343 3.345a.96.96 0 01-.677.292.96.96 0 01-.678-.292.962.962 0 01-.292-.68c0-.248.104-.49.292-.679l3.342-3.348-3.342-3.348A.963.963 0 0114 6.971c0-.248.104-.49.292-.679A.96.96 0 0114.97 6a.96.96 0 01.677.292l3.358 3.348 3.345-3.348A.96.96 0 0123.028 6z",fill:"currentColor"})),[yf]=w("key"),bf=e=>{var n=e,{children:r,className:a,style:l}=n,s=__objRest(n,["children","className","style"]);const[i,c]=t.useState(!1),u=ye(),d=e=>{var t;i&&(r||e.preventDefault(),c(!1),null==(t=s.onPress)||t.call(s,s.text,s.type))};return o.default.createElement("div",{style:l,className:Ve(a,yf("wrapper",{wider:s.wider})),onTouchStart:e=>{u.start(e),c(!0)},onTouchMove:e=>{u.move(e),u.direction.current&&c(!1)},onTouchEnd:d,onTouchCancel:d},o.default.createElement("div",{role:"button",tabIndex:0,className:Ve(yf([s.color,{large:s.large,active:i,delete:"delete"===s.type}]))},(()=>{if(s.loading)return o.default.createElement(je,{className:Ve(yf("loading-icon"))});const e=r||s.text;switch(s.type){case"delete":return e||o.default.createElement(gf,{bem:yf});case"extra":return e||o.default.createElement(vf,{bem:yf});default:return e}})()))},[wf]=w("number-keyboard");const[Ef]=w("slider");function xf(e,t){const n=10**10;return Math.round((e+t)*n)/n}const[Cf]=w("stepper"),_f=o.default.forwardRef(((e,n)=>{const r=Je(e,{theme:"default",max:Number.MAX_VALUE,step:1,showPlus:!0,showMinus:!0,showInput:!0,longPress:!0,defaultValue:0}),{defaultValue:a}=r;let l;const s=t.useRef(null),[i,c]=Pe(__spreadProps(__spreadValues({},r),{defaultValue:a,onChange:e=>{var t;null==(t=r.onChange)||t.call(r,e,{name:r.name})}})),u=e=>{if(B(e=+Q(String(e),!r.integer)))return;let t=yi(e,r.min,r.max);return void 0!==r.decimalLength&&(t=parseFloat(t.toFixed(r.decimalLength))),t},d=e=>{c(u(e))},[f,m,p]=se((()=>kf(i,r.decimalLength))),[h,v]=t.useState(!1);t.useEffect((()=>{h||m(kf(i,r.decimalLength))}),[h]),t.useEffect((()=>{h||m(kf(i,r.decimalLength))}),[i,r.decimalLength]);const g=t.useMemo((()=>r.disabled||r.disableMinus||+i<=+r.min),[r.disabled,r.disableMinus,r.min,i]),y=t.useMemo((()=>r.disabled||r.disablePlus||+i>=+r.max),[r.disabled,r.disablePlus,r.max,i]),b=t.useMemo((()=>({width:q(r.inputWidth),height:q(r.buttonSize)})),[r.inputWidth,r.buttonSize]),w=t.useMemo((()=>U(r.buttonSize)),[r.buttonSize]),E=t.useRef(!1),C=t.useRef(null),_=()=>{C.current=setTimeout((()=>{(()=>{const e="minus"===l?-r.step:+r.step,t=xf(+p.current,e);m(`${u(t)}`)})(),_()}),100)},k=e=>{r.longPress&&(clearTimeout(C.current),E.current&&x(e))},N=e=>({onClick:t=>{t.preventDefault(),l=e,(e=>{var t,n,a;const o="minus"===l;if("plus"===l&&y||o&&g)return void(null==(t=r.onOverlimit)||t.call(r,l));const s=o?-r.step:+r.step,i=xf(+p.current,s);d(i),o?null==(n=r.onMinus)||n.call(r,e,i):null==(a=r.onPlus)||a.call(r,e,i)})(t)},onTouchStart:()=>{l=e,r.longPress&&(E.current=!1,clearTimeout(C.current),C.current=setTimeout((()=>{E.current=!0,_()}),600))},onTouchEnd:k,onTouchCancel:k});return o.default.useImperativeHandle(n,(()=>({focus:()=>s.current.focus(),blur:()=>s.current.blur()}))),o.default.createElement("div",{className:Ve(r.className,Cf([r.theme])),style:r.style},r.showMinus&&o.default.createElement("button",__spreadValues({type:"button","aria-label":"minus",style:w,className:Ve(Cf("minus",{disabled:g}))},N("minus"))),r.showInput&&o.default.createElement("input",{ref:s,type:r.integer?"tel":"text",role:"spinbutton",className:Ve(Cf("input")),value:f,style:b,disabled:r.disabled||r.disableInput,readOnly:r.disableInput,inputMode:r.integer?"numeric":"decimal",placeholder:r.placeholder,"aria-valuemax":+r.max,"aria-valuemin":+r.min,"aria-valuenow":+f,onChange:e=>{const{value:t}=e.target;m(t);const n=""===(o=t)?null:parseFloat(o);var o;null===n?r.allowEmpty?c(null):c(a):d(n)},onBlur:e=>{var t;v(!1),null==(t=r.onBlur)||t.call(r,e),$()},onFocus:e=>{var t;v(!0),r.disableInput&&s.current?s.current.blur():null==(t=r.onFocus)||t.call(r,e)},onMouseDown:e=>{r.disableInput&&e.preventDefault()},onClick:r.onClick}),r.showPlus&&o.default.createElement("button",__spreadValues({type:"button","aria-label":"add",style:w,className:Ve(Cf("plus",{disabled:y}))},N("plus"))))}));function kf(e,t){return null==e?"":void 0!==t?e.toFixed(t):e.toString()}const[Nf]=w("switch");function Sf(e){return Array.isArray(e)?e:[e]}function Of(e,t){return Sf(e).some((e=>!!e&&(h(t)?t(e):e.size>t)))}const Pf=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;function Mf(e){return Pf.test(e)}function Rf(e,t){return!!t||(e.file&&e.file.type?0===e.file.type.indexOf("image"):e.url?Mf(e.url):!!e.thumbnail&&Mf(e.thumbnail))}const[Vf]=w("uploader"),Tf=e=>{const{onPreview:n,statusTextRender:r,status:a,file:l,url:s}=e,i=t.useMemo((()=>e.isImage||Rf({file:l,url:s})),[l,s,e.isImage]),c=t.useMemo((()=>i?s||URL.createObjectURL(l):""),[i,l,s]),u=()=>{var t;return null==(t=e.previewCoverRender)?void 0:t.call(e)};return o.default.createElement("div",{className:Ve(Vf("preview")),onClick:e.onClick},i?o.default.createElement(kr,{fit:e.imageFit,src:c,className:Ve(Vf("preview-image")),width:e.previewSize,height:e.previewSize,onClick:n},u()):o.default.createElement("div",{className:Ve(Vf("file")),style:U(e.previewSize)},o.default.createElement(yt,{className:Ve(Vf("file-icon"))}),o.default.createElement("div",{className:Ve(Vf("file-name"),"rv-ellipsis")},l?l.name:s),u()),(()=>{if("failed"===a||"pending"===a){const e="failed"===a?o.default.createElement(pt,{className:Ve(Vf("mask-icon"))}):o.default.createElement(je,{className:Ve(Vf("loading"))});return o.default.createElement("div",{className:Ve(Vf("mask"))},e,r&&o.default.createElement("div",{className:Ve(Vf("mask-message"))},r(a)))}return null})(),e.deletable?e.deleteRender?e.deleteRender(e.onDelete):o.default.createElement("div",{className:Ve(Vf("preview-delete")),onClick:e.onDelete},o.default.createElement(vt,{className:Ve(Vf("preview-delete-icon"))})):null)},[If]=w("uploader"),Ff=t.forwardRef(((e,n)=>{var r;const a=Je(e,{maxSize:Number.MAX_VALUE,maxCount:Number.MAX_VALUE,deletable:!0,showUpload:!0,previewImage:!0,previewFullImage:!0,name:"",accept:"image/*",imageFit:"cover",resultType:"dataUrl",uploadIcon:o.default.createElement(Nt,null)}),[l,s]=Pe(__spreadProps(__spreadValues({},a),{defaultValue:null!=(r=a.defaultValue)?r:[]})),i=t.useRef(null),c=t.useRef(),[u,d]=t.useState([]),m=t.useRef(0);_e((()=>{Array.isArray(l)&&d((e=>e.filter((e=>void 0===e.url||!l.some((t=>t.url===e.url))))))}),[l]);const{maxCount:p,maxSize:h,resultType:v,beforeRead:g}=a;const y=async e=>{var t;e.persist();const{files:n}=e.target;if(!n)return;let r=[].slice.call(n);if(e.target.value="",a.disabled)return;if(a.beforeRead){const e=r.map((e=>async function(e,t){let n=e;return n=await(null==g?void 0:g(e,t)),n}(e,r)));await Promise.all(e).then((e=>{r=e.filter(Boolean)}))}if(0===r.length)return;if(p>0){const e=l.length+r.length-p;if(e>0&&(r=r.slice(0,r.length-e)),Of(r,h)){const e=function(e,t){const n=[],r=[];return e.forEach((e=>{Of([e],t)?r.push(e):n.push(e)})),{valid:n,invalid:r}}(r,h);return void(null==(t=a.onOversize)||t.call(a,e.invalid))}}const o=r.map((e=>({id:m.current++,status:"pending",file:e})));d((e=>[...e,...o])),await Promise.all(o.map((async e=>{try{let t={};if(a.upload)t=await a.upload(e.file);else{const n=await function(e,t){return new Promise((n=>{if("file"===t)return void n();if(Rf(e))return void n(URL.createObjectURL(e));const r=new FileReader;r.onload=e=>{n(e.target.result)},"dataUrl"===t?r.readAsDataURL(e):"text"===t&&r.readAsText(e)}))}(e.file,v);t.url=n,t.file=e.file,t.key=e.id}d((n=>n.map((n=>n.id===e.id?__spreadProps(__spreadValues({},n),{url:t.url}):n)))),s((n=>[...n,__spreadProps(__spreadValues({},t),{file:e.file})]))}catch(yv){throw d((t=>t.map((t=>t.id===e.id?__spreadProps(__spreadValues({},t),{status:"failed"}):t)))),yv}}))).catch((e=>console.error(e)))},b=()=>{i.current&&i.current.close()},w=(e,t)=>{var n,r,c;return o.default.createElement(Tf,{file:e.file,key:null!=(n=e.key)?n:`-${t}`,name:a.name,isImage:null==(r=a.isImageUrl)?void 0:r.call(a,e),url:null!=(c=e.thumbnail)?c:e.url,imageFit:a.imageFit,deletable:a.deletable,previewSize:a.previewSize,deleteRender:a.deleteRender,previewCoverRender:()=>{var t;return null==(t=a.previewCoverRender)?void 0:t.call(a,e)},onClick:()=>{var n;return null==(n=a.onClickPreview)?void 0:n.call(a,e,t)},onDelete:async()=>{var n;!1!==await(null==(n=a.onDelete)?void 0:n.call(a,e))&&s(l.filter(((e,n)=>n!==t)))},onPreview:()=>(e=>{if(a.previewFullImage){const t=l.filter((e=>{var t;return Rf(e,null==(t=a.isImageUrl)?void 0:t.call(a,e))})),n=t.map((e=>e.url||e.thumbnail)).filter(Boolean);i.current=Mi.open(f({images:n,startPosition:t.indexOf(e),onClose:a.onClosePreview},a.previewOptions))}})(e)})},E=()=>{c.current&&!a.disabled&&c.current.click()};return t.useImperativeHandle(n,(()=>({chooseFile:E,closeImagePreview:b}))),o.default.createElement("div",{className:Ve(If())},o.default.createElement("div",{className:Ve(If("wrapper",{disabled:a.disabled}))},a.previewImage?o.default.createElement(o.default.Fragment,null,l.map(w),u.map((e=>"failed"===e.status?null:o.default.createElement(Tf,{key:e.id,file:e.file,status:e.status,statusTextRender:a.statusTextRender,deletable:"pending"!==e.status,deleteRender:a.deleteRender,imageFit:a.imageFit,onDelete:()=>{d(u.filter((t=>t.id!==e.id)))}})))):null,(()=>{if(a.showUpload&&(0===p||l.length+u.length<p)){const e=a.readOnly?null:o.default.createElement("input",{ref:c,type:"file",className:Ve(If("input")),accept:a.accept,capture:a.capture,multiple:a.multiple,disabled:a.disabled,onChange:y});return a.children?o.default.createElement("div",{className:Ve(If("input-wrapper")),onClick:a.onClickUpload},a.children,e):o.default.createElement("div",{className:Ve(If("upload",{readOnly:a.readOnly})),style:U(a.previewSize),onClick:a.onClickUpload},a.uploadIcon?o.default.cloneElement(a.uploadIcon,{className:Ve(If("upload-icon"))}):null,a.uploadText&&o.default.createElement("span",{className:Ve(If("upload-text"))},a.uploadText),e)}return null})()))}));const[Af]=w("progress");let jf=0;function Df(e){return Math.min(Math.max(+e,0),100)}const Lf={top:0,right:90,bottom:180,left:270},[$f]=w("circle");function zf(e,t,n){return{number:e,text:t,active:n}}const[Hf]=w("pagination");const Bf=t.createContext({}),[qf]=w("tabbar"),[Uf]=w("tabbar-item"),Wf=e=>{const{setActive:n,index:r}=e,{parent:a}=t.useContext(Bf),{activeColor:l,inactiveColor:s}=a,i=t.useMemo((()=>(e.name||r)===a.value),[e.name,r,a.value]),c=i?l:s;return o.default.createElement("div",{className:Ve(e.className,Uf({active:i})),style:__spreadProps(__spreadValues({},e.style),{color:c}),onClick:t=>{var a,o;n(null!=(a=e.name)?a:r),null==(o=e.onClick)||o.call(e,t)}},o.default.createElement(Qe,__spreadProps(__spreadValues({},e.badge),{className:Ve(Uf("icon"))}),"function"==typeof e.icon?e.icon(i):e.icon?e.icon:null),o.default.createElement("div",{className:Ve(Uf("text"))},"function"==typeof e.children?e.children(i):e.children))},Kf=Object.assign((e=>{const n=Je(e,{fixed:!0,border:!0,defaultValue:0}),[r,a]=pu({value:n.value,defaultValue:n.defaultValue}),l=t.useRef(),s=Yu(l),i=e=>{var t;e!==n.value&&(null==(t=n.onChange)||t.call(n,e),a(e))},c=()=>{const{fixed:e,zIndex:t,border:a}=n;return o.default.createElement(Bf.Provider,{value:{parent:__spreadProps(__spreadValues({},n),{value:r})}},o.default.createElement("div",{ref:l,style:__spreadValues(__spreadValues({},n.style),W(t)),className:Ve(n.className,qf({fixed:e}),{[Be]:a,"rv-safe-area-bottom":null!=(s=n.safeAreaInsetBottom)?s:n.fixed})},o.default.Children.toArray(n.children).filter(Boolean).map(((e,t)=>o.default.cloneElement(e,{setActive:i,index:t})))));var s};return n.fixed&&n.placeholder?(u=c,o.default.createElement("div",{className:Ve(qf("placeholder")),style:{height:s}},u())):c();var u}),{Item:Wf});function Yf(e,t){if(null==e)return{};var n,r,a=Ht(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jf(Object(n),!0).forEach((function(t){Xf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zf(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function em(e,t){if(e){if("string"==typeof e)return Qf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qf(e,t):void 0}}function tm(e){return function(e){if(Array.isArray(e))return Qf(e)}(e)||Zf(e)||em(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function am(e,t,n){return t&&rm(e.prototype,t),n&&rm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function om(e){return(om=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lm(e){return(lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sm(e,t){if(t&&("object"===lm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return on(e)}function im(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(yv){return!1}}();return function(){var n,r=om(e);if(t){var a=om(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return sm(this,n)}}var cm={exports:{}},um={},dm="function"==typeof Symbol&&Symbol.for,fm=dm?Symbol.for("react.element"):60103,mm=dm?Symbol.for("react.portal"):60106,pm=dm?Symbol.for("react.fragment"):60107,hm=dm?Symbol.for("react.strict_mode"):60108,vm=dm?Symbol.for("react.profiler"):60114,gm=dm?Symbol.for("react.provider"):60109,ym=dm?Symbol.for("react.context"):60110,bm=dm?Symbol.for("react.async_mode"):60111,wm=dm?Symbol.for("react.concurrent_mode"):60111,Em=dm?Symbol.for("react.forward_ref"):60112,xm=dm?Symbol.for("react.suspense"):60113,Cm=dm?Symbol.for("react.suspense_list"):60120,_m=dm?Symbol.for("react.memo"):60115,km=dm?Symbol.for("react.lazy"):60116,Nm=dm?Symbol.for("react.block"):60121,Sm=dm?Symbol.for("react.fundamental"):60117,Om=dm?Symbol.for("react.responder"):60118,Pm=dm?Symbol.for("react.scope"):60119;function Mm(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case fm:switch(e=e.type){case bm:case wm:case pm:case vm:case hm:case xm:return e;default:switch(e=e&&e.$$typeof){case ym:case Em:case km:case _m:case gm:return e;default:return t}}case mm:return t}}}function Rm(e){return Mm(e)===wm}function Vm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return o.default.Children.forEach(e,(function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(Vm(e)):cm.exports.isFragment(e)&&e.props?n=n.concat(Vm(e.props.children,t)):n.push(e))})),n}um.AsyncMode=bm,um.ConcurrentMode=wm,um.ContextConsumer=ym,um.ContextProvider=gm,um.Element=fm,um.ForwardRef=Em,um.Fragment=pm,um.Lazy=km,um.Memo=_m,um.Portal=mm,um.Profiler=vm,um.StrictMode=hm,um.Suspense=xm,um.isAsyncMode=function(e){return Rm(e)||Mm(e)===bm},um.isConcurrentMode=Rm,um.isContextConsumer=function(e){return Mm(e)===ym},um.isContextProvider=function(e){return Mm(e)===gm},um.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===fm},um.isForwardRef=function(e){return Mm(e)===Em},um.isFragment=function(e){return Mm(e)===pm},um.isLazy=function(e){return Mm(e)===km},um.isMemo=function(e){return Mm(e)===_m},um.isPortal=function(e){return Mm(e)===mm},um.isProfiler=function(e){return Mm(e)===vm},um.isStrictMode=function(e){return Mm(e)===hm},um.isSuspense=function(e){return Mm(e)===xm},um.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===pm||e===wm||e===vm||e===hm||e===xm||e===Cm||"object"==typeof e&&null!==e&&(e.$$typeof===km||e.$$typeof===_m||e.$$typeof===gm||e.$$typeof===ym||e.$$typeof===Em||e.$$typeof===Sm||e.$$typeof===Om||e.$$typeof===Pm||e.$$typeof===Nm)},um.typeOf=Mm,cm.exports=um;var Tm={};function Im(e,t){}function Fm(e,t){!function(e,t,n){t||Tm[n]||(e(!1,n),Tm[n]=!0)}(Im,e,t)}var Am="RC_FORM_INTERNAL_HOOKS",jm=function(){Fm(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Dm=l.createContext({getFieldValue:jm,getFieldsValue:jm,getFieldError:jm,getFieldWarning:jm,getFieldsError:jm,isFieldsTouched:jm,isFieldTouched:jm,isFieldValidating:jm,isFieldsValidating:jm,resetFields:jm,setFields:jm,setFieldsValue:jm,validateFields:jm,submit:jm,getInternalHooks:function(){return jm(),{dispatch:jm,initEntityValue:jm,registerField:jm,useSubscribe:jm,setInitialValues:jm,destroyForm:jm,setCallbacks:jm,registerWatch:jm,getFields:jm,setValidateMessages:jm,setPreserve:jm,getInitialValue:jm}}});function Lm(e){return null==e?[]:Array.isArray(e)?e:[e]}function $m(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
$m=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function i(e,t,n,r){var a,o,l,s,i=t&&t.prototype instanceof d?t:d,f=Object.create(i.prototype),m=new C(r||[]);return f._invoke=(a=e,o=n,l=m,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return{value:void 0,done:!0}}for(l.method=e,l.arg=t;;){var n=l.delegate;if(n){var r=w(n,l);if(r){if(r===u)continue;return r}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if("suspendedStart"===s)throw s="completed",l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);s="executing";var i=c(a,o,l);if("normal"===i.type){if(s=l.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:l.done}}"throw"===i.type&&(s="completed",l.method="throw",l.arg=i.arg)}}),f}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=i;var u={};function d(){}function f(){}function m(){}var p={};s(p,a,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(_([])));v&&v!==t&&n.call(v,a)&&(p=v);var g=m.prototype=d.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(a,o,l,s){var i=c(e[a],e,o);if("throw"!==i.type){var u=i.arg,d=u.value;return d&&"object"==lm(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,l,s)}),(function(e){r("throw",e,l,s)})):t.resolve(d).then((function(e){u.value=e,l(u)}),(function(e){return r("throw",e,l,s)}))}s(i.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=m,s(g,"constructor",m),s(m,"constructor",f),f.displayName=s(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var l=new b(i(t,n,r,a),o);return e.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},y(g),s(g,l,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return l.type="throw",l.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),i=n.call(o,"finallyLoc");if(s&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=e,l.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function zm(e,t,n,r,a,o,l){try{var s=e[o](l),i=s.value}catch(c){return void n(c)}s.done?t(i):Promise.resolve(i).then(r,a)}function Hm(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){zm(o,r,a,l,s,"next",e)}function s(e){zm(o,r,a,l,s,"throw",e)}l(void 0)}))}}function Bm(){return Bm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bm.apply(this,arguments)}function qm(e){return(qm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Um(e,t){return(Um=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wm(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(yv){return!1}}function Km(e,t,n){return(Km=Wm()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&Um(a,n.prototype),a}).apply(null,arguments)}function Ym(e){var t="function"==typeof Map?new Map:void 0;return Ym=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Km(e,arguments,qm(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Um(r,e)},Ym(e)}var Xm=/%[sdj%]/g,Jm=function(){};function Gm(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function Qm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,o=n.length;if("function"==typeof e)return e.apply(null,n);if("string"==typeof e){var l=e.replace(Xm,(function(e){if("%%"===e)return"%";if(a>=o)return e;switch(e){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(t){return"[Circular]"}break;default:return e}}));return l}return e}function Zm(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function ep(e,t,n){var r=0,a=e.length;!function o(l){if(l&&l.length)n(l);else{var s=r;r+=1,s<a?t(e[s],o):n([])}}([])}"undefined"!=typeof process&&process.env;var tp=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Um(t,n),r}(Ym(Error));function np(e,t,n,r,a){if(t.first){var o=new Promise((function(t,o){var l=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);ep(l,n,(function(e){return r(e),e.length?o(new tp(e,Gm(e))):t(a)}))}));return o.catch((function(e){return e})),o}var l=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),i=s.length,c=0,u=[],d=new Promise((function(t,o){var d=function(e){if(u.push.apply(u,e),++c===i)return r(u),u.length?o(new tp(u,Gm(u))):t(a)};s.length||(r(u),t(a)),s.forEach((function(t){var r=e[t];-1!==l.indexOf(t)?ep(r,n,d):function(e,t,n){var r=[],a=0,o=e.length;function l(e){r.push.apply(r,e||[]),++a===o&&n(r)}e.forEach((function(e){t(e,l)}))}(r,n,d)}))}));return d.catch((function(e){return e})),d}function rp(e,t){return function(n){var r,a;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(null==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(a=n)&&void 0!==a.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"==typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function ap(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"==typeof r&&"object"==typeof e[n]?e[n]=Bm({},e[n],r):e[n]=r}return e}var op=function(e,t,n,r,a,o){!e.required||n.hasOwnProperty(e.field)&&!Zm(t,o||e.type)||r.push(Qm(a.messages.required,e.fullField))},lp={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},sp={integer:function(e){return sp.number(e)&&parseInt(e,10)===e},float:function(e){return sp.number(e)&&!sp.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(yv){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!sp.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(lp.email)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(lp.url)},hex:function(e){return"string"==typeof e&&!!e.match(lp.hex)}},ip={required:op,whitespace:function(e,t,n,r,a){(/^\s+$/.test(t)||""===t)&&r.push(Qm(a.messages.whitespace,e.fullField))},type:function(e,t,n,r,a){if(e.required&&void 0===t)op(e,t,n,r,a);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?sp[o](t)||r.push(Qm(a.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(Qm(a.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,r,a){var o="number"==typeof e.len,l="number"==typeof e.min,s="number"==typeof e.max,i=t,c=null,u="number"==typeof t,d="string"==typeof t,f=Array.isArray(t);if(u?c="number":d?c="string":f&&(c="array"),!c)return!1;f&&(i=t.length),d&&(i=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?i!==e.len&&r.push(Qm(a.messages[c].len,e.fullField,e.len)):l&&!s&&i<e.min?r.push(Qm(a.messages[c].min,e.fullField,e.min)):s&&!l&&i>e.max?r.push(Qm(a.messages[c].max,e.fullField,e.max)):l&&s&&(i<e.min||i>e.max)&&r.push(Qm(a.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,a){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(Qm(a.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,a){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Qm(a.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(Qm(a.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},cp=function(e,t,n,r,a){var o=e.type,l=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Zm(t,o)&&!e.required)return n();ip.required(e,t,r,l,a,o),Zm(t,o)||ip.type(e,t,r,l,a)}n(l)},up={string:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Zm(t,"string")&&!e.required)return n();ip.required(e,t,r,o,a,"string"),Zm(t,"string")||(ip.type(e,t,r,o,a),ip.range(e,t,r,o,a),ip.pattern(e,t,r,o,a),!0===e.whitespace&&ip.whitespace(e,t,r,o,a))}n(o)},method:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Zm(t)&&!e.required)return n();ip.required(e,t,r,o,a),void 0!==t&&ip.type(e,t,r,o,a)}n(o)},number:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Zm(t)&&!e.required)return n();ip.required(e,t,r,o,a),void 0!==t&&(ip.type(e,t,r,o,a),ip.range(e,t,r,o,a))}n(o)},boolean:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Zm(t)&&!e.required)return n();ip.required(e,t,r,o,a),void 0!==t&&ip.type(e,t,r,o,a)}n(o)},regexp:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Zm(t)&&!e.required)return n();ip.required(e,t,r,o,a),Zm(t)||ip.type(e,t,r,o,a)}n(o)},integer:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Zm(t)&&!e.required)return n();ip.required(e,t,r,o,a),void 0!==t&&(ip.type(e,t,r,o,a),ip.range(e,t,r,o,a))}n(o)},float:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Zm(t)&&!e.required)return n();ip.required(e,t,r,o,a),void 0!==t&&(ip.type(e,t,r,o,a),ip.range(e,t,r,o,a))}n(o)},array:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();ip.required(e,t,r,o,a,"array"),null!=t&&(ip.type(e,t,r,o,a),ip.range(e,t,r,o,a))}n(o)},object:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Zm(t)&&!e.required)return n();ip.required(e,t,r,o,a),void 0!==t&&ip.type(e,t,r,o,a)}n(o)},enum:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Zm(t)&&!e.required)return n();ip.required(e,t,r,o,a),void 0!==t&&ip.enum(e,t,r,o,a)}n(o)},pattern:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Zm(t,"string")&&!e.required)return n();ip.required(e,t,r,o,a),Zm(t,"string")||ip.pattern(e,t,r,o,a)}n(o)},date:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Zm(t,"date")&&!e.required)return n();var l;if(ip.required(e,t,r,o,a),!Zm(t,"date"))l=t instanceof Date?t:new Date(t),ip.type(e,l,r,o,a),l&&ip.range(e,l.getTime(),r,o,a)}n(o)},url:cp,hex:cp,email:cp,required:function(e,t,n,r,a){var o=[],l=Array.isArray(t)?"array":typeof t;ip.required(e,t,r,o,a,l),n(o)},any:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Zm(t)&&!e.required)return n();ip.required(e,t,r,o,a)}n(o)}};function dp(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var fp=dp(),mp=function(){function e(e){this.rules=null,this._messages=fp,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=ap(dp(),e)),this._messages},t.validate=function(t,n,r){var a=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var o=t,l=n,s=r;if("function"==typeof l&&(s=l,l={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,o),Promise.resolve(o);if(l.messages){var i=this.messages();i===fp&&(i=dp()),ap(i,l.messages),l.messages=i}else l.messages=this.messages();var c={};(l.keys||Object.keys(this.rules)).forEach((function(e){var n=a.rules[e],r=o[e];n.forEach((function(n){var l=n;"function"==typeof l.transform&&(o===t&&(o=Bm({},o)),r=o[e]=l.transform(r)),(l="function"==typeof l?{validator:l}:Bm({},l)).validator=a.getValidationMethod(l),l.validator&&(l.field=e,l.fullField=l.fullField||e,l.type=a.getType(l),c[e]=c[e]||[],c[e].push({rule:l,value:r,source:o,field:e}))}))}));var u={};return np(c,l,(function(t,n){var r,a=t.rule,s=!("object"!==a.type&&"array"!==a.type||"object"!=typeof a.fields&&"object"!=typeof a.defaultField);function i(e,t){return Bm({},t,{fullField:a.fullField+"."+e,fullFields:a.fullFields?[].concat(a.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!l.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==a.message&&(c=[].concat(a.message));var d=c.map(rp(a,o));if(l.first&&d.length)return u[a.field]=1,n(d);if(s){if(a.required&&!t.value)return void 0!==a.message?d=[].concat(a.message).map(rp(a,o)):l.error&&(d=[l.error(a,Qm(l.messages.required,a.field))]),n(d);var f={};a.defaultField&&Object.keys(t.value).map((function(e){f[e]=a.defaultField})),f=Bm({},f,t.rule.fields);var m={};Object.keys(f).forEach((function(e){var t=f[e],n=Array.isArray(t)?t:[t];m[e]=n.map(i.bind(null,e))}));var p=new e(m);p.messages(l.messages),t.rule.options&&(t.rule.options.messages=l.messages,t.rule.options.error=l.error),p.validate(t.value,t.rule.options||l,(function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(d)}if(s=s&&(a.required||!a.required&&t.value),a.field=t.field,a.asyncValidator)r=a.asyncValidator(a,t.value,c,t.source,l);else if(a.validator){try{r=a.validator(a,t.value,c,t.source,l)}catch(d){null==console.error||console.error(d),setTimeout((function(){throw d}),0),c(d.message)}!0===r?c():!1===r?c("function"==typeof a.message?a.message(a.fullField||a.field):a.message||(a.fullField||a.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){for(var t,n,r=[],a={},l=0;l<e.length;l++)t=e[l],n=void 0,Array.isArray(t)?r=(n=r).concat.apply(n,t):r.push(t);r.length?(a=Gm(r),s(r,a)):s(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!up.hasOwnProperty(e.type))throw new Error(Qm("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?up.required:up[this.getType(e)]||void 0},e}();mp.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");up[e]=t},mp.warning=Jm,mp.messages=fp,mp.validators=up;var pp="'${name}' is not a valid ${type}",hp={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:pp,method:pp,array:pp,object:pp,number:pp,date:pp,boolean:pp,integer:pp,float:pp,regexp:pp,email:pp,url:pp,hex:pp},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function vp(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null==n)return;n=n[t[r]]}return n}function gp(e){if(Array.isArray(e))return e}function yp(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bp(e,t,n,r){if(!t.length)return n;var a,o,l=gp(a=t)||Zf(a)||em(a)||yp(),s=l[0],i=l.slice(1);return o=e||"number"!=typeof s?Array.isArray(e)?tm(e):Gf({},e):[],r&&void 0===n&&1===i.length?delete o[s][i[0]]:o[s]=bp(o[s],i,n,r),o}function wp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!vp(e,t.slice(0,-1))?e:bp(e,t,n,r)}function Ep(e){return Array.isArray(e)?function(e){return e.map((function(e){return Ep(e)}))}(e):"object"===lm(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=Ep(e[n]);return t}return e}(e):e}function xp(e){return Lm(e)}function Cp(e,t){return vp(e,t)}function _p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=wp(e,t,n,r);return a}function kp(e,t){var n={};return t.forEach((function(t){var r=Cp(e,t);n=_p(n,t,r)})),n}function Np(e,t){return e&&e.some((function(e){return Mp(e,t)}))}function Sp(e){return"object"===lm(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function Op(e,t){var n=Array.isArray(e)?tm(e):Gf({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],a=t[e],o=Sp(r)&&Sp(a);n[e]=o?Op(r,a||{}):Ep(a)})),n):n}function Pp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return Op(e,t)}),e)}function Mp(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function Rp(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===lm(t.target)&&e in t.target?t.target[e]:t}function Vp(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var a=e[t],o=t-n;return o>0?[].concat(tm(e.slice(0,n)),[a],tm(e.slice(n,t)),tm(e.slice(t+1,r))):o<0?[].concat(tm(e.slice(0,t)),tm(e.slice(t+1,n+1)),[a],tm(e.slice(n+1,r))):e}var Tp=mp;function Ip(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var Fp="CODE_LOGIC_ERROR";function Ap(e,t,n,r,a){return jp.apply(this,arguments)}function jp(){return jp=Hm($m().mark((function e(t,n,r,a,o){var s,i,c,u,d,f,m,p,h;return $m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(s=Gf({},r)).ruleIndex,s.validator&&(i=s.validator,s.validator=function(){try{return i.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(Fp)}}),c=null,s&&"array"===s.type&&s.defaultField&&(c=s.defaultField,delete s.defaultField),u=new Tp(Xf({},t,[s])),d=Pp({},hp,a.validateMessages),u.messages(d),f=[],e.prev=9,e.next=12,Promise.resolve(u.validate(Xf({},t,n),Gf({},a)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(f=e.t0.errors.map((function(e,t){var n=e.message,r=n===Fp?d.default:n;return l.isValidElement(r)?l.cloneElement(r,{key:"error_".concat(t)}):r})));case 17:if(f.length||!c){e.next=22;break}return e.next=20,Promise.all(n.map((function(e,n){return Ap("".concat(t,".").concat(n),e,c,a,o)})));case 20:return m=e.sent,e.abrupt("return",m.reduce((function(e,t){return[].concat(tm(e),tm(t))}),[]));case 22:return p=Gf(Gf({},r),{},{name:t,enum:(r.enum||[]).join(", ")},o),h=f.map((function(e){return"string"==typeof e?Ip(e,p):e})),e.abrupt("return",h);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),jp.apply(this,arguments)}function Dp(e,t,n,r,a,o){var l,s=e.join("."),i=n.map((function(e,t){var n=e.validator,r=Gf(Gf({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var a=!1,o=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Fm(!a,"Your validator function has already return a promise. `callback` will be ignored."),a||r.apply(void 0,t)}))}));Fm(a=o&&"function"==typeof o.then&&"function"==typeof o.catch,"`callback` is deprecated. Please return a promise instead."),a&&o.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,a=t.warningOnly,o=t.ruleIndex;return!!n==!!a?r-o:n?1:-1}));if(!0===a)l=new Promise(function(){var e=Hm($m().mark((function e(n,a){var l,c,u;return $m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=0;case 1:if(!(l<i.length)){e.next=12;break}return c=i[l],e.next=5,Ap(s,t,c,r,o);case 5:if(!(u=e.sent).length){e.next=9;break}return a([{errors:u,rule:c}]),e.abrupt("return");case 9:l+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=i.map((function(e){return Ap(s,t,e,r,o).then((function(t){return{errors:t,rule:e}}))}));l=(a?function(e){return $p.apply(this,arguments)}(c):function(e){return Lp.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return l.catch((function(e){return e})),l}function Lp(){return(Lp=Hm($m().mark((function e(t){return $m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,tm(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $p(){return($p=Hm($m().mark((function e(t){var n;return $m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zp=["name"],Hp=[];function Bp(e,t,n,r,a,o){return"function"==typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==a}var qp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bt(e,t)}(n,e);var t=im(n);function n(e){var r;(nm(this,n),(r=t.call(this,e)).state={resetCount:0},r.cancelRegisterFunc=null,r.mounted=!1,r.touched=!1,r.dirty=!1,r.validatePromise=null,r.prevValidating=void 0,r.errors=Hp,r.warnings=Hp,r.cancelRegister=function(){var e=r.props,t=e.preserve,n=e.isListField,a=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,xp(a)),r.cancelRegisterFunc=null},r.getNamePath=function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(tm(void 0===n?[]:n),tm(t)):[]},r.getRules=function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,a=e.fieldContext;return n.map((function(e){return"function"==typeof e?e(a):e}))},r.refresh=function(){r.mounted&&r.setState((function(e){return{resetCount:e.resetCount+1}}))},r.triggerMetaEvent=function(e){var t=r.props.onMetaChange;null==t||t(Gf(Gf({},r.getMeta()),{},{destroy:e}))},r.onStoreChange=function(e,t,n){var a=r.props,o=a.shouldUpdate,l=a.dependencies,s=void 0===l?[]:l,i=a.onReset,c=n.store,u=r.getNamePath(),d=r.getValue(e),f=r.getValue(c),m=t&&Np(t,u);switch("valueUpdate"===n.type&&"external"===n.source&&d!==f&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=Hp,r.warnings=Hp,r.triggerMetaEvent()),n.type){case"reset":if(!t||m)return r.touched=!1,r.dirty=!1,r.validatePromise=null,r.errors=Hp,r.warnings=Hp,r.triggerMetaEvent(),null==i||i(),void r.refresh();break;case"remove":if(o)return void r.reRender();break;case"setField":if(m){var p=n.data;return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||Hp),"warnings"in p&&(r.warnings=p.warnings||Hp),r.dirty=!0,r.triggerMetaEvent(),void r.reRender()}if(o&&!u.length&&Bp(o,e,c,d,f,n))return void r.reRender();break;case"dependenciesUpdate":if(s.map(xp).some((function(e){return Np(n.relatedFields,e)})))return void r.reRender();break;default:if(m||(!s.length||u.length||o)&&Bp(o,e,c,d,f,n))return void r.reRender()}!0===o&&r.reRender()},r.validateRules=function(e){var t=r.getNamePath(),n=r.getValue(),a=Promise.resolve().then((function(){if(!r.mounted)return[];var o=r.props,l=o.validateFirst,s=void 0!==l&&l,i=o.messageVariables,c=(e||{}).triggerName,u=r.getRules();c&&(u=u.filter((function(e){var t=e.validateTrigger;return!t||Lm(t).includes(c)})));var d=Dp(t,n,u,e,s,i);return d.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hp;if(r.validatePromise===a){r.validatePromise=null;var t=[],n=[];e.forEach((function(e){var r=e.rule.warningOnly,a=e.errors,o=void 0===a?Hp:a;r?n.push.apply(n,tm(o)):t.push.apply(t,tm(o))})),r.errors=t,r.warnings=n,r.triggerMetaEvent(),r.reRender()}})),d}));return r.validatePromise=a,r.dirty=!0,r.errors=Hp,r.warnings=Hp,r.triggerMetaEvent(),r.reRender(),a},r.isFieldValidating=function(){return!!r.validatePromise},r.isFieldTouched=function(){return r.touched},r.isFieldDirty=function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(Am).getInitialValue)(r.getNamePath())},r.getErrors=function(){return r.errors},r.getWarnings=function(){return r.warnings},r.isListField=function(){return r.props.isListField},r.isList=function(){return r.props.isList},r.isPreserve=function(){return r.props.preserve},r.getMeta=function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath()}},r.getOnlyChild=function(e){if("function"==typeof e){var t=r.getMeta();return Gf(Gf({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=Vm(e);return 1===n.length&&l.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},r.getValue=function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return Cp(e||t(!0),n)},r.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.trigger,a=t.validateTrigger,o=t.getValueFromEvent,l=t.normalize,s=t.valuePropName,i=t.getValueProps,c=t.fieldContext,u=void 0!==a?a:c.validateTrigger,d=r.getNamePath(),f=c.getInternalHooks,m=c.getFieldsValue,p=f(Am),h=p.dispatch,v=r.getValue(),g=i||function(e){return Xf({},s,e)},y=e[n],b=Gf(Gf({},e),g(v));b[n]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e=o?o.apply(void 0,n):Rp.apply(void 0,[s].concat(n)),l&&(e=l(e,v,m(!0))),h({type:"updateValue",namePath:d,value:e}),y&&y.apply(void 0,n)};var w=Lm(u||[]);return w.forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&h({type:"validateField",namePath:d,triggerName:e})}})),b},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(Am).initEntityValue)(on(r));return r}return am(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(Am).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),a=r.child;return r.isFunction?e=a:l.isValidElement(a)?e=l.cloneElement(a,this.getControlled(a.props)):(Fm(!a,"`children` of Field is not validate ReactElement."),e=a),l.createElement(l.Fragment,{key:t},e)}}]),n}(l.Component);function Up(e){var t=e.name,n=Yf(e,zp),r=l.useContext(Dm),a=void 0!==t?xp(t):void 0,o="keep";return n.isListField||(o="_".concat((a||[]).join("_"))),l.createElement(qp,zt({key:o,name:a},n,{fieldContext:r}))}qp.contextType=Dm,qp.defaultProps={trigger:"onChange",valuePropName:"value"};var Wp=l.createContext(null),Kp=function(e){var t=e.name,n=e.initialValue,r=e.children,a=e.rules,o=e.validateTrigger,s=l.useContext(Dm),i=l.useRef({keys:[],id:0}).current,c=l.useMemo((function(){var e=xp(s.prefixName)||[];return[].concat(tm(e),tm(xp(t)))}),[s.prefixName,t]),u=l.useMemo((function(){return Gf(Gf({},s),{},{prefixName:c})}),[s,c]),d=l.useMemo((function(){return{getKey:function(e){var t=c.length,n=e[t];return[i.keys[n],e.slice(t+1)]}}}),[c]);if("function"!=typeof r)return Fm(!1,"Form.List only accepts function as children."),null;return l.createElement(Wp.Provider,{value:d},l.createElement(Dm.Provider,{value:u},l.createElement(Up,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:n,isList:!0},(function(e,t){var n=e.value,a=void 0===n?[]:n,o=e.onChange,l=s.getFieldValue,u=function(){return l(c||[])||[]},d={add:function(e,t){var n=u();t>=0&&t<=n.length?(i.keys=[].concat(tm(i.keys.slice(0,t)),[i.id],tm(i.keys.slice(t))),o([].concat(tm(n.slice(0,t)),[e],tm(n.slice(t))))):(i.keys=[].concat(tm(i.keys),[i.id]),o([].concat(tm(n),[e]))),i.id+=1},remove:function(e){var t=u(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(i.keys=i.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=u();e<0||e>=n.length||t<0||t>=n.length||(i.keys=Vp(i.keys,e,t),o(Vp(n,e,t)))}}},f=a||[];return Array.isArray(f)||(f=[]),r(f.map((function(e,t){var n=i.keys[t];return void 0===n&&(i.keys[t]=i.id,n=i.keys[t],i.id+=1),{name:t,key:n,isListField:!0}})),d,t)}))))};function Yp(e,t){return gp(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,s=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(i){s=!0,a=i}finally{try{l||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||em(e,t)||yp()}var Xp="__@field_split__";function Jp(e){return e.map((function(e){return"".concat(lm(e),":").concat(e)})).join(Xp)}var Gp=function(){function e(){nm(this,e),this.kvs=new Map}return am(e,[{key:"set",value:function(e,t){this.kvs.set(Jp(e),t)}},{key:"get",value:function(e){return this.kvs.get(Jp(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Jp(e))}},{key:"map",value:function(e){return tm(this.kvs.entries()).map((function(t){var n=Yp(t,2),r=n[0],a=n[1],o=r.split(Xp);return e({key:o.map((function(e){var t=Yp(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:a})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),Qp=["name","errors"],Zp=am((function e(t){var n=this;nm(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===Am?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Fm(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,a=Pp({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;a=_p(a,n,Cp(e,n))})),n.prevWithoutPreserves=null,n.updateStore(a)}},this.destroyForm=function(){var e=new Gp;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=Cp(n.initialValues,e);return e.length?Ep(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Gp;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=xp(e);return t.get(n)||{INVALIDATE_NAME_PATH:xp(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),a=[];return r.forEach((function(n){var r,o="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var l="getMeta"in n?n.getMeta():null;t(l)&&a.push(o)}else a.push(o)})),kp(n.store,a.map(xp))},this.getFieldValue=function(e){n.warningUnhooked();var t=xp(e);return Cp(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:xp(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=xp(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=xp(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a,o=t[0],l=t[1],s=!1;0===t.length?a=null:1===t.length?Array.isArray(o)?(a=o.map(xp),s=!1):(a=null,s=o):(a=o.map(xp),s=l);var i=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!a)return s?i.every(c):i.some(c);var u=new Gp;a.forEach((function(e){u.set(e,[])})),i.forEach((function(e){var t=e.getNamePath();a.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&u.update(n,(function(t){return[].concat(tm(t),[e])}))}))}));var d=function(e){return e.some(c)},f=u.map((function(e){return e.value}));return s?f.every(d):f.some(d)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(xp);return t.some((function(e){var t=e.getNamePath();return Np(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Gp,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var a=t.get(r)||new Set;a.add({entity:e,value:n}),t.set(r,a)}}));var a,o=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var a=r.getNamePath();if(void 0!==n.getInitialValue(a))Fm(!1,"Form already set 'initialValues' with path '".concat(a.join("."),"'. Field can not overwrite it."));else{var o=t.get(a);if(o&&o.size>1)Fm(!1,"Multiple Field with path '".concat(a.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var l=n.getFieldValue(a);e.skipExist&&void 0!==l||n.updateStore(_p(n.store,a,tm(o)[0].value))}}}}))};e.entities?a=e.entities:e.namePathList?(a=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=a).push.apply(n,tm(tm(r).map((function(e){return e.entity}))))}))):a=r,o(a)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(Pp({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(xp);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(_p(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var a=e.name;e.errors;var o=Yf(e,Qp),l=xp(a);r.push(l),"value"in o&&n.updateStore(_p(n.store,l,o.value)),n.notifyObservers(t,[l],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=Gf(Gf({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===Cp(n.store,r)&&n.updateStore(_p(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null==t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(a)&&(!r||o.length>1)){var l=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==l&&n.fieldEntities.every((function(e){return!Mp(e.getNamePath(),t)}))){var s=n.store;n.updateStore(_p(s,t,l,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var a=e.namePath,o=e.triggerName;n.validateFields([a],{triggerName:o})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var a=Gf(Gf({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,a)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(tm(r))}),r},this.updateValue=function(e,t){var r=xp(e),a=n.store;n.updateStore(_p(n.store,r,t)),n.notifyObservers(a,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var o=n.triggerDependenciesUpdate(a,r),l=n.callbacks.onValuesChange;l&&l(kp(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(tm(o)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=Pp(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],a=new Gp;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=xp(t);a.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(a.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var a=n.getNamePath();n.isFieldDirty()&&a.length&&(r.push(a),e(a))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var a=n.getFields();if(t){var o=new Gp;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),a.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}r(a.filter((function(t){var n=t.name;return Np(e,n)})),a)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,a=r?e.map(xp):[],o=[];n.getFieldEntities(!0).forEach((function(l){if(r||a.push(l.getNamePath()),(null==t?void 0:t.recursive)&&r){var s=l.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&a.push(s)}if(l.props.rules&&l.props.rules.length){var i=l.getNamePath();if(!r||Np(a,i)){var c=l.validateRules(Gf({validateMessages:Gf(Gf({},hp),n.validateMessages)},t));o.push(c.then((function(){return{name:i,errors:[],warnings:[]}})).catch((function(e){var t=[],n=[];return e.forEach((function(e){var r=e.rule.warningOnly,a=e.errors;r?n.push.apply(n,tm(a)):t.push.apply(t,tm(a))})),t.length?Promise.reject({name:i,errors:t,warnings:n}):{name:i,errors:t,warnings:n}})))}}}));var l=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(a,o){e.forEach((function(e,l){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[l]=e,n>0||(t&&o(r),a(r))}))}))})):Promise.resolve([])}(o);n.lastValidatePromise=l,l.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=l.then((function(){return n.lastValidatePromise===l?Promise.resolve(n.getFieldsValue(a)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(a),errorFields:t,outOfDate:n.lastValidatePromise!==l})}));return s.catch((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));function eh(e){var t=l.useRef(),n=Yp(l.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var r=new Zp((function(){n({})}));t.current=r.getForm()}return[t.current]}var th=l.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),nh=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],rh=function(e,t){var n=e.name,r=e.initialValues,a=e.fields,o=e.form,s=e.preserve,i=e.children,c=e.component,u=void 0===c?"form":c,d=e.validateMessages,f=e.validateTrigger,m=void 0===f?"onChange":f,p=e.onValuesChange,h=e.onFieldsChange,v=e.onFinish,g=e.onFinishFailed,y=Yf(e,nh),b=l.useContext(th),w=Yp(eh(o),1)[0],E=w.getInternalHooks(Am),x=E.useSubscribe,C=E.setInitialValues,_=E.setCallbacks,k=E.setValidateMessages,N=E.setPreserve,S=E.destroyForm;l.useImperativeHandle(t,(function(){return w})),l.useEffect((function(){return b.registerForm(n,w),function(){b.unregisterForm(n)}}),[b,w,n]),k(Gf(Gf({},b.validateMessages),d)),_({onValuesChange:p,onFieldsChange:function(e){if(b.triggerFormChange(n,e),h){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];h.apply(void 0,[e].concat(r))}},onFinish:function(e){b.triggerFormFinish(n,e),v&&v(e)},onFinishFailed:g}),N(s);var O,P=l.useRef(null);C(r,!P.current),P.current||(P.current=!0),l.useEffect((function(){return S}),[]);var M="function"==typeof i;M?O=i(w.getFieldsValue(!0),w):O=i;x(!M);var R=l.useRef();l.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==lm(e)||"object"!==lm(t))return!1;var n=Object.keys(e),r=Object.keys(t),a=new Set([].concat(tm(n),tm(r)));return tm(a).every((function(n){var r=e[n],a=t[n];return"function"==typeof r&&"function"==typeof a||r===a}))})(R.current||[],a||[])||w.setFields(a||[]),R.current=a}),[a,w]);var V=l.useMemo((function(){return Gf(Gf({},w),{},{validateTrigger:m})}),[w,m]),T=l.createElement(Dm.Provider,{value:V},O);return!1===u?T:l.createElement(u,zt({},y,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),w.submit()},onReset:function(e){var t;e.preventDefault(),w.resetFields(),null===(t=y.onReset)||void 0===t||t.call(y,e)}}),T)};function ah(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}function oh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=t.useState(),a=Yp(r,2),o=a[0],l=a[1],s=t.useMemo((function(){return ah(o)}),[o]),i=t.useRef(s);i.current=s;var c=t.useContext(Dm),u=n||c,d=u&&u._init,f=xp(e),m=t.useRef(f);return m.current=f,t.useEffect((function(){if(d){var e=u.getFieldsValue,t=(0,(0,u.getInternalHooks)(Am).registerWatch)((function(e){var t=Cp(e,m.current),n=ah(t);i.current!==n&&l(t)})),n=Cp(e(),m.current);return l(n),t}}),[]),o}var lh=l.forwardRef(rh);lh.FormProvider=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,a=e.children,o=l.useContext(th),s=l.useRef({});return l.createElement(th.Provider,{value:Gf(Gf({},o),{},{validateMessages:Gf(Gf({},o.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:s.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:s.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=Gf(Gf({},s.current),{},Xf({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=Gf({},s.current);delete t[e],s.current=t,o.unregisterForm(e)}})},a)},lh.Field=Up,lh.List=Kp,lh.useForm=eh,lh.useWatch=oh;const sh=t.memo((e=>{const t=oh(e.namePath,e.form);return ke((()=>{e.onChange()}),[t]),null})),ih=o.default.createContext({colon:!1,showValidateMessage:!0,border:!0,labelAlign:"left",controlAlign:"left"}),[ch]=w("form"),uh=t.forwardRef(((e,t)=>{const n=e,{className:r,style:a,layout:l,footer:s,children:i,colon:c,required:u,border:d,labelAlign:f,controlAlign:m,showValidateMessage:p=!0}=n,h=__objRest(n,["className","style","layout","footer","children","colon","required","border","labelAlign","controlAlign","showValidateMessage"]);return o.default.createElement(lh,__spreadValues({className:Ve(ch(),r),style:a,ref:t},h),o.default.createElement(ih.Provider,{value:{layout:l,colon:c,border:d,required:u,showValidateMessage:p,controlAlign:m,labelAlign:f}},i),s&&o.default.createElement("div",{className:Ve(ch("footer"))},s))}));var dh,fh={exports:{}},mh={},ph=Symbol.for("react.element"),hh=Symbol.for("react.portal"),vh=Symbol.for("react.fragment"),gh=Symbol.for("react.strict_mode"),yh=Symbol.for("react.profiler"),bh=Symbol.for("react.provider"),wh=Symbol.for("react.context"),Eh=Symbol.for("react.server_context"),xh=Symbol.for("react.forward_ref"),Ch=Symbol.for("react.suspense"),_h=Symbol.for("react.suspense_list"),kh=Symbol.for("react.memo"),Nh=Symbol.for("react.lazy"),Sh=Symbol.for("react.offscreen");function Oh(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case ph:switch(e=e.type){case vh:case yh:case gh:case Ch:case _h:return e;default:switch(e=e&&e.$$typeof){case Eh:case wh:case xh:case Nh:case kh:case bh:return e;default:return t}}case hh:return t}}}function Ph(e){return!!fh.exports.isForwardRef(e)&&(!fh.exports.isFragment(e)&&(fh.exports.isMemo(e)?Ph(e.type):!("function"==typeof(t=e.type)&&!function(e){const t=e.prototype;return!(!t||!t.isReactComponent)}(t)&&void 0===t.defaultProps)));var t}dh=Symbol.for("react.module.reference"),mh.ContextConsumer=wh,mh.ContextProvider=bh,mh.Element=ph,mh.ForwardRef=xh,mh.Fragment=vh,mh.Lazy=Nh,mh.Memo=kh,mh.Portal=hh,mh.Profiler=yh,mh.StrictMode=gh,mh.Suspense=Ch,mh.SuspenseList=_h,mh.isAsyncMode=function(){return!1},mh.isConcurrentMode=function(){return!1},mh.isContextConsumer=function(e){return Oh(e)===wh},mh.isContextProvider=function(e){return Oh(e)===bh},mh.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===ph},mh.isForwardRef=function(e){return Oh(e)===xh},mh.isFragment=function(e){return Oh(e)===vh},mh.isLazy=function(e){return Oh(e)===Nh},mh.isMemo=function(e){return Oh(e)===kh},mh.isPortal=function(e){return Oh(e)===hh},mh.isProfiler=function(e){return Oh(e)===yh},mh.isStrictMode=function(e){return Oh(e)===gh},mh.isSuspense=function(e){return Oh(e)===Ch},mh.isSuspenseList=function(e){return Oh(e)===_h},mh.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===vh||e===yh||e===gh||e===Ch||e===_h||e===Sh||"object"==typeof e&&null!==e&&(e.$$typeof===Nh||e.$$typeof===kh||e.$$typeof===bh||e.$$typeof===wh||e.$$typeof===xh||e.$$typeof===dh||void 0!==e.getModuleId)},mh.typeOf=Oh,fh.exports=mh;const Mh=o.default.memo((e=>{var t=e,{children:n}=t,r=__objRest(t,["children"]);return o.default.cloneElement(n,r)}),((e,t)=>e.value===t.value&&e.update===t.update)),[Rh]=w("form-item"),Vh=e=>{var t,n,r,a,l,s;const i=e,{meta:c}=i,u=__objRest(i,["meta"]),d=o.default.useContext(ih),f=null!=(t=e.layout)?t:d.layout,m=null!=(n=e.border)?n:d.border,p=null!=(r=e.colon)?r:d.colon,h=null!=(a=e.showValidateMessage)?a:d.showValidateMessage,v=null!=(l=e.labelAlign)?l:d.labelAlign,g=null!=(s=e.controlAlign)?s:d.controlAlign,y=c&&c.errors.length>0,b=h&&y?c.errors[0]:null,w=__spreadProps(__spreadValues({},u),{className:Ve(Rh({vertical:"vertical"===f}),e.className),colon:p,error:!h&&y,errorMessage:b,labelAlign:v,controlAlign:g,border:m});return o.default.createElement(Gn,__spreadValues({},w),e.children)},Th=Object.assign(uh,{Item:e=>{const t=o.default.useContext(ih),n=e,{name:r,noStyle:a,rules:l,trigger:s="onChange",validateTrigger:i=s,shouldUpdate:c,dependencies:u,messageVariables:d,label:f,required:m,disabled:p,children:h,onClick:v}=n,y=__objRest(n,["name","noStyle","rules","trigger","validateTrigger","shouldUpdate","dependencies","messageVariables","label","required","disabled","children","onClick"]),b=g(e,["style","className","tooltip","intro","colon","labelWidth","labelAlign","labelClass","showValidateMessage","controlAlign","errorMessageAlign","border","layout","isLink","size","arrowDirection","leftIcon","rightIcon","prefix","suffix"]),{validateTrigger:w}=o.default.useContext(Dm),E=function(...e){let t;for(t=0;t<e.length&&void 0===e[t];t++);return e[t]}(i,w,s),x=o.default.useRef(null),C=o.default.useRef(0);function _(e,t,n,r){return a?e:o.default.createElement(Vh,__spreadProps(__spreadValues({htmlFor:t,meta:n},b),{required:r,label:f,disabled:p,onClick:e=>null==v?void 0:v(e,x)}),e)}C.current+=1;const k="function"==typeof h;if(!r&&!k&&!e.dependencies)return _(h);let N={};return"string"==typeof f&&(N.label=f),d&&(N=__spreadValues(__spreadValues({},N),d)),o.default.createElement(Up,__spreadProps(__spreadValues({},y),{name:r,shouldUpdate:c,dependencies:u,rules:l,trigger:s,validateTrigger:E}),((n,a,i)=>{var d;let f=null;const v=void 0!==m?m:null!=(d=t.required)?d:l&&l.some((e=>!(!e||"object"!=typeof e||!e.required))),g=(Sf(r).length&&a?a.name:[]).join("_");if(k)!c&&!u||r||(f=h(i));else if(u&&!r);else if(o.default.isValidElement(h)){h.props.defaultValue;const t=__spreadValues(__spreadValues({},h.props),n);Ph(h)&&(t.ref=e=>{const t=h.ref;t&&("function"==typeof t&&t(e),"current"in t&&(t.current=e)),x.current=e}),t.id||(t.id=g),p&&(t.disabled=p);new Set([...Sf(s),...Sf(E)]).forEach((e=>{t[e]=(...t)=>{var r,a,o;null==(r=n[e])||r.call(n,...t),null==(o=(a=h.props)[e])||o.call(a,...t)}})),f=o.default.createElement(Mh,{value:n[e.valuePropName||"value"],update:C.current},o.default.cloneElement(h,t))}else f=h;return _(f,g,a,v)}))},useForm:eh,List:Kp,Subscribe:e=>{const n=Se(),r=t.useContext(Dm);return o.default.createElement(o.default.Fragment,null,e.children(r.getFieldsValue(e.to),r),e.to.map((e=>o.default.createElement(sh,{key:e.toString(),form:r,namePath:e,onChange:n}))))},useWatch:oh}),Ih=["title","visible","popup","value","defaultValue","loading","readOnly","itemHeight","swipeDuration","visibleItemCount","cancelButtonText","confirmButtonText","toolbar","columnsTop","columnsBottom","optionRender","placeholder","onChange","onCancel","onConfirm","children"];const[Fh]=w("area"),Ah=t.forwardRef(((e,n)=>{const r=Je(e,{areaList:{},columnsNum:3,itemHeight:44,visibleItemCount:5,swipeDuration:300,showToolbar:!0,placeholder:!0,toolbarPosition:"top"}),a=t.useMemo((()=>{var e;return null!=(e=r.columns)?e:function(e,t){const{province_list:n={},city_list:r={},county_list:a={}}=e,o=Object.entries(n).map((([e,t])=>({value:e,text:t}))),l=Object.entries(r).map((([e,t])=>({value:e,text:t}))),s=Object.entries(a).map((([e,t])=>({value:e,text:t})));return t>2&&l.forEach((e=>{var t;const n=null==(t=e.value)?void 0:t.slice(0,4),r=s.filter((e=>{var t;return(null==(t=e.value)?void 0:t.slice(0,4))===n}));e.children=r})),t>1&&o.forEach((e=>{var t;const n=null==(t=e.value)?void 0:t.slice(0,2),r=l.filter((e=>{var t;return(null==(t=e.value)?void 0:t.slice(0,2))===n}));e.children=r})),o}(r.areaList,+r.columnsNum)}),[r.columnsNum,r.areaList,r.columns]);return o.default.createElement(of,__spreadValues({ref:n,style:r.style,className:Ve(Fh(),r.className),columns:a},g(r,Ih)))}));const jh=Object.assign((e=>{const[t]=w("card"),{className:n,style:r,round:a,border:l,children:s}=e;return o.default.createElement("div",{className:Ve(t({round:a,border:l}),n),style:r,onClick:e.onClick},s)}),{Header:e=>{const[t]=w("card-header");return o.default.createElement("div",{className:Ve(e.className,t(),{[ze]:e.border}),style:e.style,onClick:e.onClick},o.default.createElement("div",{className:Ve(t("content"))},e.children),e.extra&&o.default.createElement("div",{className:Ve(t("extra"))},e.extra))},Body:e=>{const[t]=w("card-body");return o.default.createElement("div",{className:Ve(e.className,t()),style:e.style,onClick:e.onClick},e.children)},Footer:e=>{const[t]=w("card-footer");return o.default.createElement("div",{className:Ve(e.className,t({compact:e.compact}),{[Le]:e.border}),style:e.style,onClick:e.onClick},e.children)},Cover:e=>{const[t]=w("card-cover");return o.default.createElement("div",{className:Ve(e.className,t()),style:e.style,onClick:e.onClick},e.children)}});function Dh(e){return"string"==typeof e||"number"==typeof e}const[Lh]=w("product-card");const[$h]=w("submit-bar");const[zh]=w("coupon-cell");function Hh(e){const t=new Date(1e3*e);return`${t.getFullYear()}.${Z(t.getMonth()+1)}.${Z(t.getDate())}`}function Bh(e){return(e/100).toFixed(e%100==0?0:e%10==0?1:2)}const[qh]=w("coupon"),Uh=e=>{const n=Je(e,{currency:"¥"}),{locale:r}=t.useContext(Mn),a=t.useMemo((()=>{const{startAt:e,endAt:t}=n.coupon;return`${Hh(e)} - ${Hh(t)}`}),[n.coupon]),l=t.useMemo((()=>{const{coupon:e,currency:t}=n;if(e.valueDesc)return o.default.createElement(o.default.Fragment,null,e.valueDesc," ",o.default.createElement("span",null,e.unitDesc||""));if(e.denominations){const n=Bh(e.denominations);return o.default.createElement(o.default.Fragment,null,o.default.createElement("span",null,t)," $",n)}return e.discount?r.vanCoupon.discount(+((a=e.discount)/10).toFixed(a%10==0?0:1)):"";var a}),[n.coupon,n.coupon]),s=t.useMemo((()=>{const e=Bh(n.coupon.originCondition||0);return"0"===e?r.vanCoupon.unlimited:r.vanCoupon.condition(+e)}),[n.coupon.originCondition]),{chosen:i,coupon:c,disabled:u}=n,d=u&&c.reason||c.description;return o.default.createElement("div",{className:Ve(n.className,qh({disabled:u})),style:n.style,onClick:n.onClick},o.default.createElement("div",{className:Ve(qh("content"))},o.default.createElement("div",{className:Ve(qh("head"))},o.default.createElement("h2",{className:Ve(qh("amount"))},l),o.default.createElement("p",{className:Ve(qh("condition"))},c.condition||s)),o.default.createElement("div",{className:Ve(qh("body"))},o.default.createElement("p",{className:Ve(qh("name"))},c.name),o.default.createElement("p",{className:Ve(qh("valid"))},a),!u&&o.default.createElement(Qd,{className:Ve(qh("corner")),checked:i}))),d&&o.default.createElement("p",{className:Ve(qh("description"))},d))},[Wh]=w("coupon-list"),Kh="https://img.yzcdn.cn/vant/coupon-empty.png";const Yh={QUOTA_LIMIT:0,STOCK_LIMIT:1};const[Xh]=w("sku-row"),Jh=e=>{const{skuRow:t}=e;return o.default.createElement("div",{className:Ve(Xh(),ze)},o.default.createElement("div",{className:Ve(Xh("title"))},t.k,t.is_multiple&&o.default.createElement("span",{className:Ve(Xh("title-multiple"))},"（可多选）")),(()=>{const{largeImageMode:n}=t;return n?o.default.createElement("div",{className:Ve(Xh("scroller"))},o.default.createElement("div",{className:Ve(Xh("row"))},e.children)):e.children})())},[Gh]=w("sku-row"),Qh=e=>{var n,r;const a=e.largeImageMode?"image-item":"item",l=t.useMemo((()=>{const t=e.skuValue.imgUrl||e.skuValue.img_url;return e.largeImageMode?t||"https://img01.yzcdn.cn/upload_files/2020/06/24/FmKWDg0bN9rMcTp9ne8MXiQWGtLn.png":t}),[e.skuValue]),s=t.useMemo((()=>!e.disableSoldoutSku||((e,t,n)=>{const{key:r,valueId:a}=n,o=__spreadProps(__spreadValues({},t),{[r]:a}),l=Object.keys(o).filter((e=>""!==o[e]));return e.filter((e=>l.every((t=>String(o[t])===String(e[t]))))).reduce(((e,t)=>e+t.stock_num),0)>0})(e.skuList,e.selectedSku,{key:e.skuKeyStr,valueId:e.skuValue.id})),[JSON.stringify(e.skuList),JSON.stringify(e.selectedSku),e.skuKeyStr]),i=e.skuValue.id===e.selectedSku[e.skuKeyStr];return o.default.createElement("span",{className:Ve(Gh(a,{active:i,disabled:!s})),onClick:()=>{s&&e.onSkuSelected(__spreadProps(__spreadValues({},e.skuValue),{skuKeyStr:e.skuKeyStr}))}},l?o.default.createElement(kr,{fit:"cover",src:l,lazyload:e.lazyload,className:Ve(Gh(`${a}-img`))}):null,o.default.createElement("div",{className:Ve(Gh(`${a}-name`))},e.largeImageMode?o.default.createElement("span",{className:Ve("rv-multi-ellipsis--l2")},null==(n=e.skuValue)?void 0:n.name):null==(r=e.skuValue)?void 0:r.name),e.largeImageMode&&(e.previewIcon||o.default.createElement(wt,{className:Ve(Gh(`${a}-img-icon`)),onClick:t=>{t.stopPropagation();const{skuValue:n,skuKeyStr:r}=e;e.onSkuPreviewImage(__spreadProps(__spreadValues({},n),{ks:r,imgUrl:n.imgUrl||n.img_url}))}})))},[Zh]=w("sku-row"),ev=e=>{var n;const r=t.useMemo((()=>{const{selectedProp:t,skuKeyStr:n,skuValue:r}=e;return!(!t||!t[n])&&t[n].indexOf(r.id)>-1}),[JSON.stringify(e.selectedProp),JSON.stringify(e.skuValue),e.skuKeyStr]);return o.default.createElement("span",{className:Ve(Zh("item",{active:r})),onClick:()=>{e.onSkuPropSelected(__spreadProps(__spreadValues({},e.skuValue),{skuKeyStr:e.skuKeyStr,multiple:e.multiple}))}},o.default.createElement("span",{className:Ve(Zh("item-name"))},null==(n=e.skuValue)?void 0:n.name))},{QUOTA_LIMIT:tv,STOCK_LIMIT:nv}=Yh,[rv]=w("sku"),av=e=>{const n=Je(e,{quota:0,quotaUsed:0,startSaleNum:1,customStepperConfig:{}}),[r,a]=t.useState(nv),l=t.useMemo((()=>{const e=+n.quota-+n.quotaUsed;let t,r;return+n.quota>0&&e<=n.stock?(t=e<0?0:e,r=tv):(t=n.stock,r=nv),a(r),t}),[n.quota,n.quotaUsed,n.stock]),s=t.useMemo((()=>+n.startSaleNum<1?1:+n.startSaleNum),[n.startSaleNum]),i=t.useMemo((()=>{const{quotaText:e,hideQuotaText:t}=n.customStepperConfig;if(t)return"";let r="";if(e)r=e;else{const e=[];+n.startSaleNum>1&&e.push(`${n.startSaleNum}件起售`),+n.quota>0&&e.push(`限购${+n.quota}件`),r=e.join(",")}return r}),[JSON.stringify(n.customStepperConfig),n.startSaleNum,n.quota]),c=e=>{var t,a;n.onChange(e),t=s,a=l,n.currentNum<t||t>a?n.onChange(t):n.currentNum>a&&n.onChange(a),n.onSkuStepperState({valid:t<=a,min:t,max:a,limitType:r,quota:n.quota,quotaUsed:n.quotaUsed,startSaleNum:n.startSaleNum})};return o.default.createElement("div",{className:Ve(rv("stepper-stock"))},o.default.createElement("div",{className:Ve(rv("stepper-title"))},n.stepperTitle),o.default.createElement(_f,{min:s,max:l,className:Ve(rv("stepper")),disableInput:n.disableStepperInput,value:n.currentNum,onChange:e=>{const t=parseInt(e,10),{handleStepperChange:r}=n.customStepperConfig;r&&r(t),c(e)},onOverlimit:e=>{n.onSkuOverLimit({action:e,limitType:r,quota:n.quota,quotaUsed:n.quotaUsed,startSaleNum:n.startSaleNum})}}),!n.hideQuotaText&&i&&o.default.createElement("span",{className:Ve(rv("stepper-quota"))},i))},{QUOTA_LIMIT:ov}=Yh,[lv]=w("sku"),sv=t.forwardRef(((e,n)=>{var r,a;const l=Je(e,{stepperTitle:"购买数量",properties:[],showAddCartBtn:!0,disableSoldoutSku:!0,showHeaderImage:!0,previewOnClickImage:!0,showSoldoutSku:!0,resetOnHide:!0,safeAreaInsetBottom:!0,quota:0,quotaUsed:0,startSaleNum:1,stockThreshold:50,bodyOffsetTop:200,customStepperConfig:{}}),s=t.useRef(!1),[i,c]=t.useState(!1),[u,d]=ie({selectedSku:{},selectedProp:{},selectedNum:l.startSaleNum}),{sku:f,properties:m=[]}=l,{tree:p=[]}=f,h=t.useMemo((()=>({maxHeight:`${window.innerHeight-l.bodyOffsetTop}px`})),[l.bodyOffsetTop]),v=t.useMemo((()=>{const{goods:e}=l,t=[null==e?void 0:e.picture];return f.tree.length>0&&f.tree.forEach((e=>{e.v&&e.v.forEach((e=>{const n=e.previewImgUrl||e.imgUrl||e.img_url;n&&-1===t.indexOf(n)&&t.push(n)}))})),t}),[null==(r=l.goods)?void 0:r.picture,f.tree]),g=t.useMemo((()=>!f.none_sku),[f.none_sku]),y=t.useMemo((()=>g||m.length>0),[g,m]),b=t.useMemo((()=>!(g&&!((e,t)=>{const n=Object.keys(t).filter((e=>""!==t[e]));return e.length===n.length})(p,u.selectedSku))&&!m.filter((e=>!1!==e.is_necessary)).some((e=>0===(u.selectedProp[e.k_id]||[]).length))),[g,u]),w=t.useMemo((()=>((e,t)=>{const n=(e=>{const t={};return e.forEach((e=>{t[e.k_s]=e.v})),t})(e);return Object.keys(t).reduce(((e,r)=>{const a=n[r],o=t[r];if(""!==o){const t=a.filter((e=>e.id===o))[0];t&&e.push(t)}return e}),[])})(p,u.selectedSku)),[p,u.selectedSku]),E=t.useMemo((()=>((e,t)=>{const n=(e=>{const t={};return e.forEach((e=>{const n={};e.v.forEach((e=>{n[e.id]=e})),t[e.k_id]=n})),t})(e);return Object.keys(t).reduce(((e,r)=>(t[r].forEach((t=>{e.push(__spreadValues({},n[r][t]))})),e)),[])})(m,u.selectedProp)),[m,u.selectedProp]),x=t.useMemo((()=>{let e=null;var t,n;return b&&(g?(t=f.list,n=u.selectedSku,e=t.filter((e=>Object.keys(n).every((t=>String(e[t])===String(n[t])))))[0]):e={id:f.collection_id,price:Math.round(100*+f.price),stock_num:f.stock_num},e&&(e.properties=((e,t)=>{const n=[];return(e||[]).forEach((e=>{if(t[e.k_id]&&t[e.k_id].length>0){const r=[];e.v.forEach((n=>{t[e.k_id].indexOf(n.id)>-1&&r.push(__spreadValues({},n))})),n.push(__spreadProps(__spreadValues({},e),{v:r}))}})),n})(m,u.selectedProp),e.property_price=E.reduce(((e,t)=>e+(t.price||0)),0))),e}),[b,g,JSON.stringify(f),JSON.stringify(u),m,E]),C=t.useMemo((()=>p.filter((e=>!u.selectedSku[e.k_s])).map((e=>e.k))),[p,u.selectedSku]),_=t.useCallback((e=>m.filter((t=>!e||!1!==t.is_necessary)).filter((e=>(u.selectedProp[e.k_id]||[]).length<1)).map((e=>e.k))),[m,u.selectedProp]),k=t.useMemo((()=>{if(x){return`已选 ${w.concat(E).map((e=>e.name)).join(" ")}`}return`请选择 ${C.concat(_()).join(" ")}`}),[C,_,x,w,E]),N=t.useMemo((()=>x?((x.price+x.property_price)/100).toFixed(2):f.price),[JSON.stringify(x),f.price]),S=t.useMemo((()=>{const{stockNum:e}=l.customStepperConfig;return void 0!==e?e:x?x.stock_num:f.stock_num}),[f.stock_num,JSON.stringify(x)]),O=t.useMemo((()=>l.stockRender?l.stockRender(S):o.default.createElement(o.default.Fragment,null,"剩余",o.default.createElement("span",{className:Ve(lv("stock-num",{highlight:S<l.stockThreshold}))},S),"件")),[S]),P=e=>{const t=u.selectedSku[e.skuKeyStr]===e.id?__spreadProps(__spreadValues({},u.selectedSku),{[e.skuKeyStr]:""}):__spreadProps(__spreadValues({},u.selectedSku),{[e.skuKeyStr]:e.id});d({selectedSku:t}),l.onSkuSelected&&l.onSkuSelected({skuValue:e,selectedSku:u.selectedSku,selectedSkuComb:x})},M=e=>{const t=u.selectedProp[e.skuKeyStr]||[],n=t.indexOf(e.id);n>-1?t.splice(n,1):e.multiple?t.push(e.id):t.splice(0,1,e.id);const r=__spreadProps(__spreadValues({},u.selectedProp),{[e.skuKeyStr]:t});d({selectedProp:r}),l.onSkuPropSelected&&l.onSkuPropSelected({propValue:e,selectedProp:u.selectedProp,selectedSkuComb:x})},R=e=>{const{action:t,limitType:n,quota:r,quotaUsed:a}=e,{handleOverLimit:o}=l.customStepperConfig;o?o(e):"minus"===t?l.startSaleNum>1?uu(`${l.startSaleNum}件起售`):uu("至少选择一件"):"plus"===t&&uu(n===ov?a>0?`每人限购${r}件，你已购买${a}件`:`每人限购${r}件`:"库存不足")},V=e=>{s.current=e.valid?null:__spreadProps(__spreadValues({},e),{action:"plus"})},T=()=>({goodsId:l.goodsId,selectedNum:u.selectedNum,selectedSkuComb:x}),I=async e=>{if(s.current)return void R(s.current);if(l.customSkuValidator){if(!(await l.customSkuValidator(e,__spreadValues(__spreadValues({},u.selectedSku),u.selectedProp))))return}else{const e=0===u.selectedNum?"商品已经无法购买啦":b?"":`请选择 ${C.concat(_(!0)).join(" ")}`;if(e)return void uu(e)}const t=T();"add-cart"===e?(e=>{var t;null==(t=l.onAddCart)||t.call(l,e)})(t):(e=>{var t;null==(t=l.onBuyClicked)||t.call(l,e)})(t)},F=e=>{c(!0),e&&d(e)},A=()=>{d({selectedSku:{},selectedProp:{},selectedNum:l.startSaleNum})},j=e=>{let t=0,n=v[0];e&&e.imgUrl&&(v.some(((n,r)=>n===e.imgUrl&&(t=r,!0))),n=e.imgUrl);const r=__spreadProps(__spreadValues({},e),{index:t,imageList:v,indexImage:n});l.previewOnClickImage&&(Mi.open({images:v,startPosition:t,onClose:()=>{l.onClosePreview&&l.onClosePreview(r)}}),l.onOpenPreview&&l.onOpenPreview(r))};return t.useEffect((()=>{l.initialSku&&d(l.initialSku)}),[JSON.stringify(l.initialSku)]),t.useImperativeHandle(n,(()=>({reset:A,getSkuData:T,show:F,update:d}))),o.default.createElement(En,__spreadProps(__spreadValues({round:!0,closeable:!0,position:"bottom"},l.popupProps),{visible:i,onClose:()=>{c(!1),l.popupProps&&l.popupProps.onClose&&l.popupProps.onClose()},onClosed:()=>{l.resetOnHide&&A(),l.popupProps&&l.popupProps.onClosed&&l.popupProps.onClosed()},className:Ve(null==(a=l.popupProps)?void 0:a.className,lv("container"))}),(()=>{if(l.skuHeader)return l.skuHeader;const e=function(e,t){let n;return e.tree.some((e=>{const r=t[e.k_s];if(r&&e.v){const t=e.v.findIndex((e=>e.id===r)),a=e.v[t],o=(null==a?void 0:a.previewImgUrl)||(null==a?void 0:a.imgUrl)||(null==a?void 0:a.img_url);if(o)return n=__spreadProps(__spreadValues({},a),{ks:e.k_s,imgUrl:o,position:t}),!0}return!1})),n}(f,u.selectedSku),t=e?e.imgUrl:l.goods.picture;return o.default.createElement("div",{className:Ve(lv("header"),ze)},l.showHeaderImage&&o.default.createElement(kr,{fit:"cover",src:t,className:Ve(lv("header__img-wrap")),onClick:()=>j(e)},l.skuHeaderImageExtra),o.default.createElement("div",{className:Ve(lv("header__goods-info"))},o.default.createElement(o.default.Fragment,null,(null==(n=l.skuHeaderPriceRender)?void 0:n.call(l,N))||o.default.createElement("div",{className:Ve(lv("goods-price"))},o.default.createElement("span",{className:Ve(lv("price-symbol"))},"￥"),o.default.createElement("span",{className:Ve(lv("price-num"))},N),l.priceTag&&o.default.createElement("span",{className:Ve(lv("price-tag"))},l.priceTag)),l.skuHeaderOriginPrice&&o.default.createElement("div",{className:Ve(lv("header-item"))},l.skuHeaderOriginPrice),!l.hideStock&&o.default.createElement("div",{className:Ve(lv("header-item"))},o.default.createElement("span",{className:Ve(lv("stock"))},O)),!l.hideSelectedText&&o.default.createElement("div",{className:Ve(lv("header-item"))},k)),l.skuHeaderExtra));var n})(),o.default.createElement("div",{className:Ve(lv("body")),style:h},l.skuBodyTop,l.skuGroup||y&&o.default.createElement("div",{className:Ve(lv("group-container",{"hide-soldout":!l.showSoldoutSku}))},p.map(((e,t)=>o.default.createElement(Jh,{key:t,skuRow:e},e.v.map(((t,n)=>o.default.createElement(Qh,{key:n,skuList:f.list,skuValue:t,skuKeyStr:`${e.k_s}`,selectedSku:u.selectedSku,disableSoldoutSku:l.disableSoldoutSku,largeImageMode:e.largeImageMode,previewIcon:l.previewIcon,onSkuSelected:P,onSkuPreviewImage:e=>j(e)})))))),m.map(((e,t)=>o.default.createElement(Jh,{key:t,skuRow:e},e.v.map(((t,n)=>o.default.createElement(ev,{key:n,skuValue:t,skuKeyStr:`${e.k_id}`,selectedProp:u.selectedProp,multiple:e.is_multiple,onSkuPropSelected:M}))))))),l.skuGroupExtra,l.skuStepper||o.default.createElement(av,{currentNum:u.selectedNum,onChange:e=>{d({selectedNum:parseInt(`${e}`,10)}),l.onStepperChange&&l.onStepperChange(e)},stock:S,quota:l.quota,quotaUsed:l.quotaUsed,startSaleNum:l.startSaleNum,disableStepperInput:l.disableStepperInput,customStepperConfig:l.customStepperConfig,stepperTitle:l.stepperTitle,hideQuotaText:l.hideQuotaText,onSkuStepperState:V,onSkuOverLimit:R})),l.skuActionsTop,l.skuActions||o.default.createElement("div",{className:Ve(lv("actions"))},o.default.createElement(Sn,null,l.showAddCartBtn&&o.default.createElement(Sn.Button,{type:"warning",text:l.addCartText||"加入购物车",onClick:()=>I("add-cart")}),o.default.createElement(Sn.Button,{type:"danger",text:l.buyText||"立即购买",onClick:()=>I("buy-clicked")}))),l.skuActionsBottom)}));const iv=t.createContext({});var cv=e=>{const t=o.default.useContext(iv);return o.default.createElement("div",{className:Ve("rv-floating-ball__menu__item"),onClick:()=>{null==t||t.close()}},e.children)};const uv={startX:0,startY:0,deltaX:0,deltaY:0,offsetX:0,offsetY:0,_pointX:0,_pointY:0,ready:!1,direction:""},dv={indent:.5,distance:0},[fv]=w("floating-ball"),mv=t.forwardRef(((e,n)=>{var r,a,l,s;const i=Je(e,{adsorb:dv,draggable:!0,menu:{},offset:{right:0,bottom:"30vh"}}),c=o.default.useRef(null),[d,f]=t.useState("bottom right"),[m,p]=o.default.useState(),h=(e=>{const{boundary:n=!0}=e,[r,a]=ie(uv);_e((()=>{if(!e.target)return;const t=e.target.getBoundingClientRect(),{width:n,height:r}=t,o=Object.entries(e.offset).reduce(((e,[t,a])=>{let o=X(a),l="deltaY";return"left"===t&&(o=window.innerWidth-o-n),"top"===t&&(o=window.innerHeight-o-r),"left"!==t&&"right"!==t||(l="deltaX"),e[l]=-o,e}),{});a(__spreadValues({},o)),P((()=>{a({ready:!0})}))}),[e.target]);const o=t.useCallback((()=>e.target?e.target.getBoundingClientRect():{}),[e.target]),l=t.useCallback((()=>"vertical"===r.direction),[r.direction]),s=t.useCallback((()=>"horizontal"===r.direction),[r.direction]);return __spreadProps(__spreadValues({},r),{update:a,move:e=>{const t=e.touches[0],r=o();a((e=>{const a=__spreadValues({},e);var o,l;return a.deltaX=t.clientX-a.startX,n&&t.clientX-a._pointX<=0&&(a.deltaX=-window.innerWidth+r.width),n&&t.clientX-a._pointX>=window.innerWidth-r.width&&(a.deltaX=0),a.deltaY=t.clientY-a.startY,n&&t.clientY-a._pointY<=0&&(a.deltaY=-window.innerHeight+r.height),n&&t.clientY-a._pointY>=window.innerHeight-r.height&&(a.deltaY=0),a.offsetX=Math.abs(a.deltaX),a.offsetY=Math.abs(a.deltaY),(!a.direction||a.offsetX<10&&a.offsetY<10)&&(a.direction=(o=a.offsetX)>(l=a.offsetY)?"horizontal":l>o?"vertical":""),a}))},start:e=>{const t=o();a((n=>({startX:e.touches[0].clientX-n.deltaX,startY:e.touches[0].clientY-n.deltaY,_pointX:e.touches[0].clientX-t.left,_pointY:e.touches[0].clientY-t.top})))},reset:()=>{a(uv)},isVertical:l,isHorizontal:s})})({target:m,offset:i.offset}),[v,g]=pu({value:null==(r=i.menu)?void 0:r.active,defaultValue:null==(a=i.menu)?void 0:a.defaultActive}),[y,b]=ie({indenting:!1,duration:0}),w=y.indenting,E=e=>i.draggable&&1===e.touches.length&&m&&!i.disabled,x=o.default.useMemo((()=>"boolean"==typeof i.adsorb?!!i.adsorb&&dv:__spreadValues(__spreadValues({},dv),i.adsorb)),[i.adsorb]),C=o.default.useMemo((()=>{var e,t;return(null==i?void 0:i.menu.items)&&Array.isArray(null==(e=i.menu)?void 0:e.items)?null==(t=i.menu)?void 0:t.items.filter(Boolean).filter(((e,t)=>t<5)):[]}),[null==(l=i.menu)?void 0:l.items]),_=o.default.useCallback((()=>{var e,t;if(!C.length)return null;const[n,r]=d.split(" ");return o.default.createElement("div",{className:Ve(fv("menu",{[null==(e=i.menu)?void 0:e.direction]:!!(null==(t=i.menu)?void 0:t.direction),[n]:!!n,[r]:!!r}),`list-${Math.max(C.length,5)}`)},C.map(((e,t)=>o.default.createElement(cv,{key:t},e))))}),[d,null==(s=i.menu)?void 0:s.direction,C]),k=()=>{if(m){const{rect:{left:e,top:t,width:n,height:r}}=S(),a=window.innerWidth,o=window.innerHeight;e+n/2<a/2?d.indexOf("right")>=0&&f((e=>e.replace("right","left"))):d.indexOf("left")>=0&&f((e=>e.replace("left","right"))),t+r/2<o/2?d.indexOf("bottom")>=0&&f((e=>e.replace("bottom","top"))):d.indexOf("top")>=0&&f((e=>e.replace("top","bottom")))}},N=e=>{var t,n;g(e),null==(n=null==(t=i.menu)?void 0:t.onChange)||n.call(t,e)},S=()=>{const e=m.getBoundingClientRect();return{rect:e,side:e.left+e.width/2>window.innerWidth/2?"right":"left"}},O=()=>{w||((()=>{const{side:e,rect:t}=S();if(x){const{distance:n}=x,r="right"===e?-n:-(window.innerWidth-t.width)+ +n;b({duration:300}),h.update({deltaX:r})}})(),k())};_e((()=>{v&&h.ready&&k()}),[h.ready]),le("touchmove",(e=>{E(e)&&!w&&(h.move(e),("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),v&&N(!1))}),{target:m,depends:[m,h.deltaX,h.deltaY,i.disabled,i.draggable]}),u(m,(()=>{N(!1)})),t.useImperativeHandle(n,(()=>({open:()=>{C.length&&P((()=>N(!0)))},close:()=>{C.length&&P((()=>N(!1)))}}))),_e((()=>{if(i.disabled||!x||!h.ready)return;const e=()=>{const{side:e,rect:t}=S(),{indent:n,distance:r}=x,a="right"===e,o=t.width*(a?+n:1-+n),l=a?+o:-(window.innerWidth-o);b({indenting:!0,duration:300}),N(!1),h.update({deltaX:l}),c.current&&clearTimeout(c.current),c.current=setTimeout((()=>{const e=a?-r:-(window.innerWidth-t.width)+ +r;b({indenting:!1}),h.update({deltaX:e})}),600)},t=Wc((()=>P(e)),300);return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[h.ready,m,x,i.disabled]);const M=o.default.useMemo((()=>x&&y.indenting?x.indentClassName:""),[x,y.indenting]),R=o.default.useMemo((()=>__spreadProps(__spreadValues({},i.style),{transitionDuration:`${y.duration}ms`,transform:`translate3d(${h.deltaX}px,${h.deltaY}px, 0)`})),[i.style,y.duration,h.deltaX,h.deltaY]);return o.default.createElement(iv.Provider,{value:{close:()=>{var e,t;(null==(t=null==(e=i.menu)?void 0:e.itemClickClose)||t)&&N(!1)}}},o.default.createElement("div",{className:Ve(i.className,M,fv({active:v})),style:R,ref:p,onTouchStart:e=>{E(e)&&!w&&(b({duration:0}),h.start(e))},onTouchEnd:O,onTouchCancel:O},_(),o.default.createElement("div",{className:Ve(fv("base",{[i.disabledClassName]:i.disabled})),onClick:()=>{!i.disabled&&C.length&&N(!v)}},"function"==typeof i.children?i.children({active:v,indenting:y.indenting}):i.children)))}));const pv={style:"normal",weight:"normal",color:"rgba(0,0,0,.15)",size:14,family:"sans-serif"},[hv]=w("water-mark");const[vv]=w("floating-panel");const gv=t.forwardRef(((e,n)=>{const{className:r,style:a,onHeightChange:l,anchors:s=[100]}=e,i=t.useMemo((()=>s.sort(((e,t)=>e-t))),[s]),[c,u]=[i[0],i[Math.max(0,i.length-1)]],d=t.useRef(),f=t.useRef(),m=t.useRef(),p=t.useRef(!1),h=t.useRef(null),v=ye();t.useImperativeHandle(n,(()=>({moveTo:e=>y.start({visibleH:e})})));const[{visibleH:g},y]=Ks((()=>({visibleH:c,config:{tension:300},onChange:()=>null==l?void 0:l(g.get())})),[c]);return le("touchstart",(e=>{v.start(e),h.current=g.get(),p.current=!0}),{target:d,passive:!1}),le("touchmove",(e=>{const[t,n]=[f.current,m.current];var r;v.move(e),g.goal>=u&&n&&v.firstMove.current&&(v.deltaY.current>0&&T(n)>0||v.deltaY.current<0&&!(T(r=n)>=r.scrollHeight-j(r)))&&(p.current=!1),t&&t.contains(e.target)&&(p.current=!0),p.current&&(x(e,!0),y.start({visibleH:yi(h.current+-v.deltaY.current,c,u)}))}),{target:d,passive:!1}),le("touchend",(()=>{const e=h.current;if(p.current=!1,h.current=null,v.reset(),e){const e=function(e,t){return e.reduce(((e,n)=>Math.abs(t-e)<Math.abs(t-n)?e:n))}(i,g.get());y.start({visibleH:e,from:{visibleH:g.get()}})}}),{target:d,passive:!1}),o.default.createElement(vi.div,{ref:d,className:Ve(vv(),r),style:__spreadValues({height:u,transform:g.to((e=>`translateY(calc(100% - ${e}px))`))},a)},o.default.createElement("div",{ref:f,className:Ve(vv("header"))},o.default.createElement("div",{className:Ve(vv("thumb"))})),o.default.createElement(vi.div,{ref:m,className:Ve(vv("body"))},e.children))}));e.ActionBar=Sn,e.ActionSheet=e=>{const t=Je(e,{closeable:!0,safeAreaInsetBottom:!0,round:!0,lockScroll:!0,overlay:!0,closeOnClickOverlay:!0,closeIcon:o.default.createElement(vt,null)}),n=()=>{var e,n;null==(e=t.onClose)||e.call(t),null==(n=t.onCancel)||n.call(t)},r=(e,r)=>{const{name:a,color:l,subname:s,loading:i,callback:c,disabled:u,className:d,style:f}=e,m=i?o.default.createElement(je,{className:Ve(du("loading-icon"))}):[o.default.createElement("span",{key:`${r}-1`,className:Ve(du("name"))},a),s&&o.default.createElement("div",{key:`${r}-2`,className:Ve(du("subname"))},s)];return o.default.createElement("button",{key:r,type:"button",style:__spreadValues({color:l},f),className:Ve(du("item",{loading:i,disabled:u}),d),onClick:()=>{u||i||(c&&c(e),t.closeOnClickAction&&n(),setTimeout((()=>{var n;null==(n=t.onSelect)||n.call(t,e,r)}),0))}},m)};return o.default.createElement(En,__spreadProps(__spreadValues({visible:t.visible,className:Ve(du("wrapper")),position:"bottom"},g(t,yn)),{onClose:n,closeable:!1}),o.default.createElement("div",{className:Ve(du(),t.className),style:t.style},t.title?o.default.createElement("div",{className:Ve(du("header"))},t.title,t.closeable&&o.default.cloneElement(t.closeIcon,{className:Ve(du("clear")),onClick:n})):null,t.description?o.default.createElement("div",{className:Ve(du("description"))},t.description):null,o.default.createElement("div",{className:Ve(du("content"))},t.actions?t.actions.map(r):null,t.children),t.cancelText?[o.default.createElement("div",{key:"cancel-gap",className:Ve(du("gap"))}),o.default.createElement("button",{key:"cancel-btn",type:"button",className:Ve(du("cancel")),onClick:n},t.cancelText)]:null))},e.Area=Ah,e.Badge=Qe,e.Button=Xe,e.Calendar=zd,e.Card=jh,e.Cascader=Wd,e.Cell=$t,e.CellGroup=Dt,e.Checkbox=Qd,e.CheckboxGroup=Xd,e.Circle=e=>{const n=Je(e,{clockwise:!0,speed:100,fill:"none",strokeWidth:40,startPosition:"top"}),r="van-circle-"+jf++,[a,l]=t.useState((()=>n.defaultRate||0)),[s]=pu({defaultValue:n.defaultRate,value:n.rate}),i=t.useMemo((()=>+n.strokeWidth+1e3),[n.strokeWidth]),c=t.useMemo((()=>function(e,t){const n=e?1:0;return`M ${t/2} ${t/2} m 0, -500 a 500, 500 0 1, ${n} 0, 1000 a 500, 500 0 1, ${n} 0, -1000`}(n.clockwise,i)),[n.clockwise,i]),u=t.useMemo((()=>{const e=Lf[n.startPosition];if(e)return{transform:`rotate(${e}deg)`}}),[n.startPosition]);t.useEffect((()=>{let e;const t=Date.now(),r=a,o=Df(s),i=Math.abs(1e3*(r-o)/+n.speed),c=()=>{var a;const s=Date.now(),u=Math.min((s-t)/i,1)*(o-r)+r,d=Df(parseFloat(u.toFixed(1)));l(d),(o>r?u<o:u>o)?e=P(c):null==(a=n.onChange)||a.call(n,d)};n.speed?(e&&M(e),e=P(c)):l(o)}),[s]);return o.default.createElement("div",{className:Ve($f(),n.className),style:__spreadValues(__spreadValues({},n.style),U(n.size))},o.default.createElement("svg",{viewBox:`0 0 ${i} ${i}`,style:u},(()=>{const{color:e}=n;if(!v(e))return null;const t=Object.keys(e).sort(((e,t)=>parseFloat(e)-parseFloat(t))).map(((t,n)=>o.default.createElement("stop",{key:n,offset:t,stopColor:e[t]})));return o.default.createElement("defs",null,o.default.createElement("linearGradient",{id:r,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},t))})(),(()=>{const e={fill:n.fill,stroke:n.layerColor,strokeWidth:`${n.strokeWidth}px`};return o.default.createElement("path",{className:Ve($f("layer")),style:e,d:c})})(),(()=>{const{strokeWidth:e}=n,t=3140*a/100,l=v(n.color)?`url(#${r})`:n.color,s={stroke:l,strokeWidth:+e+1+"px",strokeLinecap:n.strokeLinecap,strokeDasharray:`${t}px 3140px`};return o.default.createElement("path",{d:c,style:s,className:Ve($f("hover")),stroke:l})})()),n.text?o.default.createElement("div",{className:Ve($f("text"))},n.text):n.children)},e.Collapse=pd,e.CollapseItem=md,e.ConfigProvider=e=>{var n=e,{className:r,style:a,themeVars:l={},tag:s="div",children:i}=n,c=__objRest(n,["className","style","themeVars","tag","children"]);const u=s,d=t.useMemo((()=>l?__spreadValues(__spreadValues({},a),function(e,t){const n={};return Object.keys(e).forEach((r=>{var a;r.toString().startsWith(`--${t}-`)?n[r]=e[r]:n[`--${t}-${a=r,a.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"")}`]=e[r]})),n}(l,"rv")):a),[a,l]);return o.default.createElement(Mn.Provider,{value:__spreadValues(__spreadValues({},Pn),c)},o.default.createElement(u,{className:r,style:d},i))},e.CountDown=mr,e.CouponCell=e=>{const n=Je(e,{border:!0,editable:!0,coupons:[],currency:"¥",chosenCoupon:-1}),{locale:r}=t.useContext(Mn),a=n.coupons[+n.chosenCoupon],l=function(e,t,n,r){const a=e[+t];if(a){let e=0;return p(a.value)?({value:e}=a):p(a.denominations)&&(e=a.denominations),`-${n} ${(e/100).toFixed(2)}`}return 0===e.length?r.noCoupon:r.vanCouponCell.count(e.length)}(n.coupons,n.chosenCoupon,n.currency,r);return o.default.createElement($t,{style:n.style,className:Ve(zh(),n.className),value:l,title:n.title||r.vanCouponCell.title,border:n.border,isLink:n.editable,valueClass:Ve(zh("value",{selected:a})),onClick:n.onClick})},e.CouponList=e=>{var n;const r=Je(e,{showCount:!0,showExchangeBar:!0,showCloseButton:!0,code:"",exchangeMinLength:1,chosenCoupon:-1,coupons:[],disabledCoupons:[],displayedCouponIndex:-1,currency:"¥",emptyImage:Kh}),{locale:a}=t.useContext(Mn),l=t.useRef(!1),[s,i]=ie({tab:0,code:r.code}),c=t.useMemo((()=>!r.exchangeButtonLoading&&(r.exchangeButtonDisabled||!s.code||s.code.length<r.exchangeMinLength)),[r.exchangeButtonLoading,r.exchangeButtonDisabled,s.code,r.exchangeMinLength]),u=e=>{i({code:e}),l.current=!0},d=()=>{r.onExchange&&r.onExchange(s.code),r.code||u("")},f=()=>o.default.createElement("div",{className:Ve(Wh("empty"))},o.default.createElement("img",{alt:"empty",src:r.emptyImage}),o.default.createElement("p",null,a.noCoupon));return t.useEffect((()=>{l.current?l.current=!0:i({code:r.code})}),[r.code]),o.default.createElement("div",{className:Ve(Wh(),r.className),style:r.style},r.showExchangeBar?o.default.createElement("div",{className:Ve(Wh("exchange-bar"))},o.default.createElement(Gn,{value:s.code,onChange:u,clearable:!0,border:!1,className:Ve(Wh("field")),placeholder:r.inputPlaceholder||a.vanCouponList.placeholder,maxLength:20}),o.default.createElement(Xe,{plain:!0,type:"primary",className:Ve(Wh("exchange")),text:r.exchangeButtonText||a.vanCouponList.exchange,loading:r.exchangeButtonLoading,disabled:c,onClick:d})):null,o.default.createElement(Ku,__spreadProps(__spreadValues({active:s.tab,border:!1},r.tabsProps),{className:Ve(Wh("tab"),null==(n=r.tabsProps)?void 0:n.className)}),(()=>{const{coupons:e}=r,t=r.showCount?` (${e.length})`:"",n=(r.enabledTitle||a.vanCouponList.enable)+t;return o.default.createElement(Ku.TabPane,{title:n},o.default.createElement("div",{className:Ve(Wh("list",{"with-bar":r.showExchangeBar,"with-bottom":r.showCloseButton}))},e.map(((e,t)=>o.default.createElement(Uh,{key:e.id,coupon:e,chosen:t===r.chosenCoupon,currency:r.currency,onClick:()=>r.onChange(t)}))),!e.length&&f(),r.listFooter))})(),(()=>{const{disabledCoupons:e}=r,t=r.showCount?` (${e.length})`:"",n=(r.disabledTitle||a.vanCouponList.disabled)+t;return o.default.createElement(Ku.TabPane,{title:n},o.default.createElement("div",{className:Ve(Wh("list",{"with-bar":r.showExchangeBar,"with-bottom":r.showCloseButton}))},e.map((e=>o.default.createElement(Uh,{disabled:!0,key:e.id,coupon:e,currency:r.currency}))),!e.length&&f(),r.disabledListFooter))})()),o.default.createElement("div",{className:Ve(Wh("bottom"))},o.default.createElement(Xe,{"v-show":r.showCloseButton,round:!0,block:!0,type:"primary",className:Ve(Wh("close")),text:r.closeButtonText||a.vanCouponList.close,onClick:()=>{var e;return null==(e=r.onChange)?void 0:e.call(r,-1)}})))},e.DatetimePicker=mf,e.Dialog=Hn,e.Divider=e=>{var t=e,{children:n,className:r,hairline:a=!0,dashed:l,type:s="horizontal",contentPosition:i="center"}=t,c=__objRest(t,["children","className","hairline","dashed","type","contentPosition"]);return o.default.createElement("div",__spreadValues({role:"separator",className:Ve(r,pr({dashed:l,hairline:a,vertical:"vertical"===s,[`content-${i}`]:!!n}))},c),n)},e.DropdownMenu=wu,e.Empty=e=>{const n=Je(e,{image:"default"});return o.default.createElement("div",{className:Ve(n.className,Fi()),style:n.style},o.default.createElement("div",{className:Ve(Fi("image")),style:U(n.imageSize)},(()=>{let{image:e}=n;return t.isValidElement(e)?e:"network"===e?Ti:(Ii.includes(e)&&(e=`https://img.yzcdn.cn/vant/empty-image-${e}.png`),o.default.createElement("img",{src:e,alt:""}))})()),n.description?o.default.createElement("div",{className:Ve(Fi("description"))},n.description):null,n.children?o.default.createElement("div",{className:Ve(Fi("bottom"))},n.children):null)},e.Field=Gn,e.Flex=tr,e.FloatingBall=mv,e.FloatingPanel=gv,e.Form=Th,e.Grid=td,e.GridItem=ed,e.Image=kr,e.ImagePreview=Mi,e.IndexAnchor=od,e.IndexBar=cd,e.Input=Kn,e.Lazyload=Er,e.List=Xc,e.Loading=je,e.NavBar=e=>{const n=Je(e,{border:!0,leftArrow:o.default.createElement(at,null)}),r=t.useRef(null),a=Yu(r),l=e=>{n.onClickLeft&&n.onClickLeft(e)},s=e=>{n.onClickRight&&n.onClickRight(e)};return o.default.createElement(o.default.Fragment,null,n.fixed&&n.placeholder?o.default.createElement("div",{className:Ve(Xu("placeholder")),style:{height:a?`${a}px`:void 0}}):null,(()=>{const{title:e,fixed:a,border:i,zIndex:c}=n,u=__spreadValues({zIndex:void 0!==c?+c:void 0},n.style),d=n.leftArrow||n.leftText,f=n.rightText;return o.default.createElement("div",{ref:r,style:u,className:Ve(Xu({fixed:a,"safe-area-inset-top":n.safeAreaInsetTop}),{[ze]:i},n.className)},o.default.createElement("div",{className:Ve(Xu("content"))},d&&o.default.createElement("div",{className:Ve(Xu("left")),onClick:l},"string"!=typeof n.leftText&&t.isValidElement(n.leftText)?n.leftText:[n.leftArrow&&o.default.cloneElement(n.leftArrow,{key:"arroe",className:Ve(Xu("arrow"))}),n.leftText&&o.default.createElement("span",{key:"text",className:Ve(Xu("text"))},n.leftText)]),o.default.createElement("div",{className:Ve(Xu("title"),"rv-ellipsis")},e),f&&o.default.createElement("div",{className:Ve(Xu("right")),onClick:s},"string"!=typeof n.rightText&&t.isValidElement(n.rightText)?n.rightText:o.default.createElement("span",{className:Ve(Xu("text"))},n.rightText))))})())},e.NoticeBar=ec,e.Notify=qi,e.NumberKeyboard=e=>{var n=e,{className:r,style:a}=n;const l=Je(__objRest(n,["className","style"]),{transition:!0,blurOnClose:!0,showDeleteKey:!0,hideOnClickOutside:!0,safeAreaInsetBottom:!0,theme:"default",value:"",extraKey:"",maxlength:Number.MAX_VALUE}),s=t.useRef(),i=()=>{const e=Array(9).fill("").map(((e,t)=>({text:t+1})));return l.randomKeyOrder&&e.sort((()=>Math.random()>.5?1:-1)),e},c=t.useMemo((()=>"custom"===l.theme?(()=>{const e=i(),{extraKey:t}=l,n=Array.isArray(t)?t:[t];return 1===n.length?e.push({text:0,wider:!0},{text:n[0],type:"extra"}):2===n.length&&e.push({text:n[0],type:"extra"},{text:0},{text:n[1],type:"extra"}),e})():[...i(),{text:l.extraKey,type:"extra"},{text:0},{text:l.showDeleteKey?l.deleteButtonText:"",type:l.showDeleteKey?"delete":""}]),[l.theme]),f=()=>{var e;l.visible&&(null==(e=l.onBlur)||e.call(l))},m=()=>{var e;null==(e=l.onClose)||e.call(l),l.blurOnClose&&f()},p=(e,t)=>{var n,r,a,o;if(""===e)return void("extra"===t&&f());const{value:s}=l;"delete"===t?(null==(n=l.onDelete)||n.call(l),null==(r=l.onChange)||r.call(l,s.slice(0,s.length-1))):"close"===t?m():s.length<l.maxlength&&(null==(a=l.onInput)||a.call(l,e),null==(o=l.onChange)||o.call(l,s+e))};ce((()=>{var e;l.transition||null==(e=l[l.visible?"onShow":"onHide"])||e.call(l)}),[l.visible]),u(s,l.hideOnClickOutside?f:d,"touchstart");const h=(()=>{const{title:e,theme:t,closeButtonText:n}=l,r=n&&"default"===t;return e||r?o.default.createElement("div",{className:Ve(wf("header"))},e&&o.default.createElement("h2",{className:Ve(wf("title"))},e),r&&o.default.createElement("button",{type:"button",className:Ve(wf("close")),onClick:m},n)):null})();return o.default.createElement(an,{mountOnEnter:!0,unmountOnExit:!0,nodeRef:s,in:l.visible,timeout:300,classNames:l.transition?"rv-slide-up":"",onExited:()=>{var e;null==(e=l[l.visible?"onShow":"onHide"])||e.call(l)}},o.default.createElement("div",{ref:s,style:__spreadValues(__spreadValues({},a),W(l.zIndex)),className:Ve(r,wf({unfit:!l.safeAreaInsetBottom,"with-title":!!h})),onTouchStart:E},h,o.default.createElement("div",{className:Ve(wf("body"))},o.default.createElement("div",{className:Ve(wf("keys"))},c.map(((e,t)=>{var n,r,a;let s=null;return e.type||(s=null==(n=l.numberKeyRender)?void 0:n.call(l,e)),"delete"===e.type&&(s=null==(r=l.deleteRender)?void 0:r.call(l)),"extra"===e.type&&(s=null==(a=l.extraKeyRender)?void 0:a.call(l)),o.default.createElement(bf,{key:t,text:e.text,type:e.type,wider:e.wider,color:e.color,onPress:p,children:s})}))),"custom"===l.theme?o.default.createElement("div",{className:Ve(wf("sidebar"))},l.showDeleteKey&&o.default.createElement(bf,{large:!0,text:l.deleteButtonText,type:"delete",onPress:p}),o.default.createElement(bf,{large:!0,text:l.closeButtonText,type:"close",color:"blue",loading:l.closeButtonLoading,onPress:p})):null)))},e.Overlay=sn,e.Pagination=e=>{const n=Je(e,{mode:"multi",pageCount:0,totalItems:0,itemsPerPage:10,showPageSize:5}),{locale:r}=t.useContext(Mn),a=t.useMemo((()=>{const{pageCount:e,totalItems:t,itemsPerPage:r}=n,a=+e||Math.ceil(+t/+r);return Math.max(1,a)}),[n.pageCount,n.totalItems,n.itemsPerPage]),l=t.useMemo((()=>{const e=[],t=a,r=+n.showPageSize,{value:o,forceEllipses:l}=n;if("multi"!==n.mode)return e;let s=1,i=t;const c=r<t;c&&(s=Math.max(o-Math.floor(r/2),1),i=s+r-1,i>t&&(i=t,s=i-r+1));for(let n=s;n<=i;n++){const t=zf(n,n,n===o);e.push(t)}if(c&&r>0&&l){if(s>1){const t=zf(s-1,"...");e.unshift(t)}if(i<t){const t=zf(i+1,"...");e.push(t)}}return e}),[n.showPageSize,n.forceEllipses,n.value,a]),s=(e,t)=>{var r;e=Math.min(a,Math.max(1,e)),n.value!==e&&t&&(null==(r=n.onChange)||r.call(n,e))};t.useEffect((()=>{s(n.value)}),[n.value]);const i="multi"!==n.mode,c=e=>()=>s(e,!0),{value:u}=n;return o.default.createElement("ul",{className:Ve(Hf({simple:i}))},o.default.createElement("li",{className:Ve(Hf("item",{disabled:1===u}),Hf("prev"),De),onClick:c(u-1)},n.prevText||r.vanPagination.prev),l.map(((e,t)=>o.default.createElement("li",{key:t,className:Ve(Hf("item",{active:e.active}),Hf("page"),De),onClick:c(e.number)},n.pageRender?n.pageRender(e):e.text))),"multi"!==n.mode?o.default.createElement("li",{className:Ve(Hf("page-desc"))},n.pageDesc?n.pageDesc:`${n.value}/${a}`):null,o.default.createElement("li",{className:Ve(Hf("item",{disabled:u===a}),Hf("next"),De),onClick:c(u+1)},n.nextText||r.vanPagination.next))},e.PasswordInput=hf,e.Picker=of,e.Popover=qc,e.Popup=En,e.ProductCard=e=>{const t=Je(e,{currency:"¥",decimal:!0}),n=p(t.num),r=p(t.price),a=p(t.originPrice),l=n||r||a||t.bottom,s=r&&o.default.createElement("div",{className:Ve(Lh("price"))},(()=>{if(Dh(t.price)){const e=t.price.toString().split(".");return o.default.createElement("div",null,o.default.createElement("span",{className:Ve(Lh("price-currency"))},t.currency),o.default.createElement("span",{className:Ve(Lh("price-integer"))},e[0]),t.decimal&&o.default.createElement(o.default.Fragment,null,".",o.default.createElement("span",{className:Ve(Lh("price-decimal"))},e[1]||"00")))}return t.price})()),i=a&&o.default.createElement("div",{className:Ve(Lh("origin-price"))},Dh(t.originPrice)?`${t.currency} ${t.originPrice}`:t.originPrice),c=n&&o.default.createElement("div",{className:Ve(Lh("num"))},Dh(t.num)?`x${t.num}`:t.num),u=t.footer&&o.default.createElement("div",{className:Ve(Lh("footer"))},t.footer),d=l&&o.default.createElement("div",{className:Ve(Lh("bottom"))},t.priceTop,s,i,c,t.bottom);return o.default.createElement("div",{className:Ve(Lh(),t.className),style:t.style,onClick:t.onClick},o.default.createElement("div",{className:Ve(Lh("header"))},t.thumb?o.default.createElement("a",{href:t.thumbLink,className:Ve(Lh("thumb")),onClick:t.onClickThumb},t.thumb?"string"==typeof t.thumb?o.default.createElement(kr,{src:t.thumb,fit:"cover",width:"100%",height:"100%",lazyload:t.lazyload}):t.thumb:null,t.tag?o.default.createElement("div",{className:Ve(Lh("tag"))},Dh(t.tag)?o.default.createElement(Gu,{mark:!0,type:"danger"},t.tag):t.tag):null):null,o.default.createElement("div",{className:Ve(Lh("content",{centered:t.centered}))},o.default.createElement("div",null,t.title?o.default.createElement("div",{className:Ve(Lh("title"),"rv-multi-ellipsis--l2")},t.title):null,t.desc?o.default.createElement("div",{className:Ve(Lh("desc"),"rv-ellipsis")},t.desc):null,t.tags),d)),u)},e.Progress=e=>{const n=Je(e,{showPivot:!0,percentage:0}),r=t.useMemo((()=>n.inactive?"#cacaca":n.color),[n.inactive,n.color]),{trackColor:a,percentage:l,strokeWidth:s}=n,i=__spreadProps(__spreadValues({},n.style),{background:a,height:q(s)}),c={background:r,transform:`scaleX(${+l/100})`};return o.default.createElement("div",{className:Ve(Af(),n.className),style:i},o.default.createElement("span",{className:Ve(Af("portion")),style:c}),(()=>{const{textColor:e,pivotText:t,pivotColor:a,percentage:l}=n,s=null!=t?t:`${l}%`;if(n.showPivot&&s){const t={color:e,left:+l+"%",transform:`translate(-${+l}%,-50%)`,background:a||r};return o.default.createElement("span",{style:t,className:Ve(Af("pivot"))},s)}return null})())},e.PullRefresh=e=>{const n=Je(e,{headHeight:50,animationDuration:300,successDuration:500}),{locale:r}=t.useContext(Mn),{disabled:a,animationDuration:l}=n,s=t.useRef(),[i,c]=ie({refreshing:!1,status:"normal",distance:0,duration:0}),u=t.useRef(),d=t.useRef(null),f=ye(),m=t.useCallback((()=>"loading"!==i.status&&"success"!==i.status&&!a),[i.status,a]),p=(e,t)=>{const r=+(n.pullDistance||n.headHeight),a={distance:e};a.status=t?"loading":0===e?"normal":e<r?"pulling":"loosing",c(a)},h=()=>"normal"===i.status?"":n[`${i.status}Text`]||r.vanPullRefresh[i.status],v=e=>{const t=xe(e.target);d.current=0===T(t),d.current&&(c({duration:0}),f.start(e))},g=async()=>{d.current&&f.deltaY&&m()&&(c({duration:+l}),"loosing"===i.status?(p(+n.headHeight,!0),await(async()=>{try{c({refreshing:!0}),await n.onRefresh(),c({refreshing:!1})}catch(e){c({refreshing:!1})}})(),setTimeout((()=>{var e;return null==(e=n.onRefreshEnd)?void 0:e.call(n)}))):p(0))};le("touchmove",t.useCallback((e=>{m()&&(d.current||v(e),f.move(e),d.current&&f.deltaY.current>=0&&f.isVertical()?(p((e=>{const t=+(n.pullDistance||n.headHeight);return e>t&&(e=e<2*t?t+(e-t)/2:1.5*t+(e-2*t)/4),Math.round(e)})(f.deltaY.current)),x(e)):p(0))}),[d.current,f.deltaY.current,m]),{target:u.current,depends:[d.current,m(),f.deltaY]}),ce((()=>{c({duration:+l}),i.refreshing?p(+n.headHeight,!0):n.successText?(c({status:"success"}),setTimeout((()=>{p(0)}),+n.successDuration)):p(0,!1)}),[i.refreshing]);const y=t.useMemo((()=>({transitionDuration:`${i.duration}ms`,transform:i.distance?`translate3d(0,${i.distance}px, 0)`:""})),[i.duration,i.distance]);return o.default.createElement("div",{ref:s,className:Ve(n.className,Wi()),style:n.style},o.default.createElement("div",{ref:u,className:Ve(Wi("track")),style:y,onTouchStart:e=>{m()&&v(e.nativeEvent)},onTouchEnd:g,onTouchCancel:g},o.default.createElement("div",{className:Ve(Wi("head")),style:50!==n.headHeight?{height:`${n.headHeight}px`}:null},(()=>{var e;const{status:t,distance:r}=i;if("function"==typeof n[`${i.status}Text`])return null==(e=n[`${i.status}Text`])?void 0:e.call(n,{distance:r});const a=[];return Ui.includes(t)&&a.push(o.default.createElement("div",{key:"text",className:Ve(Wi("text"))},h())),"loading"===t&&a.push(o.default.createElement(je,{key:"loading",className:Ve(Wi("loading"))},h())),a})()),n.children))},e.Radio=wd,e.RadioGroup=gd,e.Rate=e=>{var n=e,{count:r=5,touchable:a=!0,onChange:l}=n;const s=Je(__objRest(n,["count","touchable","onChange"]),{size:20,gutter:4,icon:o.default.createElement(It,null),voidIcon:o.default.createElement(Vt,null)}),[i,c]=pu({value:s.value,defaultValue:s.defaultValue}),u=t.useRef(null),d=ye(),[f,m]=fu(),p=()=>s.readOnly||s.disabled||!a,h=t.useMemo((()=>Array(r).fill("").map(((e,t)=>function(e,t,n,r){if(e>=t)return{status:"full",value:1};if(e+.5>=t&&n&&!r)return{status:"half",value:.5};if(e+1>=t&&n&&r){const n=10**10;return{status:"half",value:Math.round((e-t+1)*n)/n}}return{status:"void",value:0}}(i,t+1,s.allowHalf,s.readOnly)))),[r,i,s.allowHalf,s.readOnly]),v=t.useRef(),g=()=>{const e=f.map((e=>e.getBoundingClientRect()));v.current=[],e.forEach(((e,t)=>{s.allowHalf?v.current.push({score:t+.5,left:e.left},{score:t+1,left:e.left+e.width/2}):v.current.push({score:t+1,left:e.left})}))},y=e=>{for(let t=v.current.length-1;t>0;t--)if(e>v.current[t].left)return v.current[t].score;return s.allowHalf?.5:1},b=e=>{s.disabled||s.readOnly||e===i||(c(e),null==l||l(e))};return le("touchmove",(e=>{if(!p()&&(d.move(e),d.isHorizontal())){const{clientX:t}=e.touches[0];x(e),b(y(t))}}),{target:u.current,depends:[d.deltaY.current]}),o.default.createElement("div",{ref:u,role:"radiogroup",className:Ve(Ed({readOnly:s.readOnly,disabled:s.disabled})),tabIndex:0,onTouchStart:e=>{p()||(d.start(e.nativeEvent),g())}},h.map(((e,t)=>{const{icon:n,size:a,color:l,gutter:i,voidIcon:c,disabled:u,voidColor:d,allowHalf:f,disabledColor:p}=s,h=t+1,v="full"===e.status,w="void"===e.status,E=f&&e.value>0&&e.value<1;let x;i&&h!==+r&&(x={marginRight:q(i)});return o.default.createElement("div",{key:t,ref:m(t),role:"radio",style:x,className:Ve(Ed("item")),tabIndex:0,"aria-setsize":parseInt(null==r?void 0:r.toString(),10),"aria-posinset":h,"aria-checked":!w,onClick:e=>{g(),b(f?y(e.clientX):h)}},o.default.cloneElement(v?n:c,{className:Ve(Ed("icon",{disabled:u,full:v})),style:{color:u?p:v?l:d,fontSize:a}}),E&&o.default.createElement("div",{className:Ve(Ed("icon",["half"])),style:{width:100*e.value+"%"}},o.default.cloneElement(w?c:n,{className:Ve(Ed("icon",[{disabled:u,full:!w}])),style:{color:u?p:w?d:l,fontSize:a}})))})))},e.Search=xu,e.Selector=e=>{const t=Je(e,{multiple:!1,defaultValue:[],showCheckMark:!0}),[n,r]=Pe({value:t.value,defaultValue:t.defaultValue,onChange:e=>{var n;const r={get items(){return t.options.filter((t=>e.includes(t.value)))}};null==(n=t.onChange)||n.call(t,e,r)}}),a=t.options.map((e=>{const a=(n||[]).includes(e.value),l=e.disabled||t.disabled,s=Ve(or("item",{active:a&&!t.multiple,"multiple-active":a&&t.multiple,disabled:l}));return o.default.createElement("div",{key:e.value,className:s,onClick:()=>{if(!l)if(t.multiple){const t=a?n.filter((t=>t!==e.value)):[...n,e.value];r(t)}else{const t=a?[]:[e.value];r(t)}}},e.label,e.description&&o.default.createElement("div",{className:Ve(or("item-description"))},e.description),a&&t.showCheckMark&&o.default.createElement("div",{className:Ve(or("check-mark-wrapper"))},o.default.createElement(ar,null)))}));return o.default.createElement("div",{className:Ve(or(),t.className),style:t.style},a)},e.ShareSheet=e=>{const n=Je(e,{options:[],closeOnPopstate:!0,safeAreaInsetBottom:!0,closeOnClickOverlay:!0,duration:300}),{locale:r}=t.useContext(Mn),a=()=>{var e;null==(e=n.onCancel)||e.call(n)},l=(e,t)=>{const{name:r,icon:a,className:l,description:s}=e;return o.default.createElement("div",{key:t,role:"button",tabIndex:0,className:Ve([Qi("option"),l]),onClick:()=>((e,t)=>{var r;null==(r=n.onSelect)||r.call(n,e,t)})(e,t)},"string"==typeof a?o.default.createElement("img",{alt:"share sheet icon",src:Gi(a),className:Ve(Qi("icon"))}):a,r&&o.default.createElement("span",{className:Ve(Qi("name"))},r),s&&o.default.createElement("span",{className:Ve(Qi("option-description"))},s))},s=(e,t,n)=>o.default.createElement("div",{key:n,className:Ve(Qi("options",{border:t}))},e.map(l));return o.default.createElement(En,__spreadValues({round:!0,className:Ve(Qi()),position:"bottom",onClose:a},g(n,["closeOnPopstate","safeAreaInsetBottom","visible","overlay","duration","lockScroll","overlayStyle","overlayClass","closeOnClickOverlay"])),(()=>{const{title:e,description:t}=n;return e||t?o.default.createElement("div",{className:Ve(Qi("header"))},e&&o.default.createElement("div",{className:Ve(Qi("title"))},e),t&&o.default.createElement("div",{className:Ve(Qi("description"))},t)):null})(),(()=>{const{options:e}=n;return Array.isArray(e[0])?e.map(((e,t)=>s(e,0!==t,t))):s(e)})(),(()=>{const{cancelText:e=r.cancel}=n;return e?o.default.createElement("button",{type:"button",className:Ve(Qi("cancel")),onClick:a},e):null})())},e.Sidebar=Nu,e.SidebarItem=_u,e.Skeleton=br,e.Sku=sv,e.Slider=e=>{const n=Je(e,{min:0,max:100,step:1}),[r,a]=t.useState(null),[l,s]=t.useState(null),i=t.useRef(),c=t.useRef(),u=t.useRef(n.value),d=t.useRef(),f=t.useRef(),m=ye(),p=t.useMemo((()=>Number(n.max)-Number(n.min)),[n.max,n.min]),h=t.useMemo((()=>{const e=n.vertical?"width":"height";return __spreadValues({background:n.inactiveColor,[e]:q(n.barHeight)},n.style)}),[n.vertical,n.barHeight,n.inactiveColor,n.style]),v=e=>n.range&&Array.isArray(e),g=()=>{const{value:e,min:t}=n;return v(e)?100*(e[1]-e[0])/p+"%":100*(+e-Number(t))/p+"%"},y=()=>{const{value:e,min:t}=n;return v(e)?100*(e[0]-Number(t))/p+"%":"0%"},b=t.useMemo((()=>{const e={[n.vertical?"height":"width"]:g(),background:n.activeColor};f.current&&(e.transition="none");return e[n.vertical?n.reverse?"bottom":"top":n.reverse?"right":"left"]=y(),e}),[y]),w=e=>{const t=+n.min,r=+n.max,a=+n.step;e=J(e,t,r);return function(e,t){const n=10**10;return Math.round((e+t)*n)/n}(t,Math.round((e-t)/a)*a)},C=(e,t)=>JSON.stringify(e)===JSON.stringify(t),_=(e,t)=>{var r,a;return e=v(e)?(e=>{var t,r;const a=null!=(t=e[0])?t:Number(n.min),o=null!=(r=e[1])?r:Number(n.max);return a>o?[o,a]:[a,o]})(e).map(w):w(e),C(e,n.value)||null==(r=n.onChange)||r.call(n,e),t&&!C(e,c.current)&&(null==(a=n.onChangeAfter)||a.call(n,e)),e},k=e=>{var t;if(n.disabled||n.readOnly)return;"start"===f.current&&(null==(t=n.onDragStart)||t.call(n,e,c.current)),x(e,!0),m.move(e),f.current="dragging";const r=Ki(d.current);let a=(n.vertical?m.deltaY.current:m.deltaX.current)/(n.vertical?r.height:r.width)*p;if(n.reverse&&(a=-a),v(c.current)){const e=n.reverse?1-i.current:i.current;u.current[e]=c.current[e]+a}else u.current=+c.current+a;_(u.current)},N=e=>{var t;if(!n.disabled&&!n.readOnly){if("dragging"===f.current){const r=_(u.current,!0);null==(t=n.onDragEnd)||t.call(n,e,r)}f.current=""}},S=e=>{if("number"==typeof e){return Ef("button-wrapper",["left","right"][e])}return Ef("button-wrapper",n.reverse?"left":"right")},O=(e,t)=>{const r="number"==typeof t?n.value[t]:n.value;return o.default.createElement("div",{ref:e,key:t,role:"slider",className:Ve(S(t)),tabIndex:n.disabled||n.readOnly?-1:0,"aria-valuemin":n.min,"aria-valuenow":r,"aria-valuemax":n.max,"aria-orientation":n.vertical?"vertical":"horizontal",onTouchStart:e=>{"number"==typeof t&&(i.current=t),(e=>{n.disabled||n.readOnly||(m.start(e),u.current=JSON.parse(JSON.stringify(n.value)),v(u.current)?c.current=u.current.map(w):c.current=w(u.current),f.current="start")})(e)},onTouchEnd:N,onTouchCancel:N,onClick:E},((e,t)=>{if("number"==typeof t){const e=n[0===t?"leftButton":"rightButton"];if(e)return e}return"function"==typeof n.button?n.button({value:e}):n.button?n.button:o.default.createElement("div",{className:Ve(Ef("button")),style:U(n.buttonSize)})})(u.current,t))};return le("touchmove",k,{target:r,depends:[m.deltaX.current,m.deltaY.current,n.disabled,n.readOnly]}),le("touchmove",k,{target:l,depends:[m.deltaX.current,m.deltaY.current,n.disabled,n.readOnly]}),o.default.createElement("div",{ref:d,style:h,className:Ve(n.className,Ef({vertical:n.vertical,disabled:n.disabled})),onClick:e=>{if(e.stopPropagation(),n.disabled||n.readOnly)return;const{min:t,reverse:r,vertical:a,value:o}=n,l=Ki(d.current),s=a?l.height:l.width,i=Number(t)+(a?r?l.bottom-e.clientY:e.clientY-l.top:r?l.right-e.clientX:e.clientX-l.left)/s*p;if(v(o)){const[e,t]=o;_(i<=(e+t)/2?[i,t]:[e,i],!0)}else _(i,!0)}},o.default.createElement("div",{className:Ve(Ef("bar")),style:b},n.range?[O(a,0),O(s,1)]:O(a)))},e.Space=e=>{const{wrap:n,block:r,direction:a="horizontal",align:l,justify:s}=e,i=o.default.useMemo((()=>{if(void 0!==e.gap&&null!==e.gap){if(Array.isArray(e.gap)){const[t,n]=e.gap;return __spreadProps(__spreadValues({},e.style),{"--gap":`${nr(t)} ${nr(n)}`})}return __spreadProps(__spreadValues({},e.style),{"--gap":nr(e.gap)})}return e.style}),[e.style,e.gap]),c=t.useMemo((()=>o.default.Children.map(e.children,(e=>e)).filter((e=>null!=e))),[e.children]);return o.default.createElement("div",{className:Ve(e.className,rr({wrap:n,block:r,[`${a}`]:!!a,[`align-${l}`]:!!l,[`justify-${s}`]:!!s})),style:i,onClick:e.onClick},c.map(((t,n)=>o.default.createElement(o.default.Fragment,{key:n},o.default.createElement("div",{className:Ve(rr("item"))},t),!!e.divider&&n!==c.length-1&&o.default.createElement("div",{className:Ve(rr("item-divider"))},e.divider)))))},e.Stepper=_f,e.Steps=Zc,e.StepsItem=Qc,e.Sticky=Ou,e.SubmitBar=e=>{const n=Je(e,{buttonType:"danger",decimalLength:2,currency:"¥",safeAreaInsetBottom:!0}),{locale:r}=t.useContext(Mn),a=()=>null==n?void 0:n.onSubmit();return o.default.createElement("div",{className:Ve(n.className,$h(),{"rv-safe-area-bottom":n.safeAreaInsetBottom}),style:n.style},n.top,(()=>{const{tip:e,tipIcon:t}=n;return e?o.default.createElement("div",{className:Ve($h("tip"))},t&&o.default.cloneElement(t,{className:Ve($h("tip-icon"))}),e&&o.default.createElement("span",{className:Ve($h("tip-text"))},e)):null})(),o.default.createElement("div",{className:Ve($h("bar"))},n.children,(()=>{const{price:e,label:t,currency:a,textAlign:l,suffixLabel:s,decimalLength:i}=n;if("number"==typeof+e){const n=(+e/100).toFixed(+i).split("."),c=i?`.${n[1]}`:"";return o.default.createElement("div",{className:Ve($h("text")),style:{textAlign:l}},o.default.createElement("span",null,t||r.vanSubmitBar.label),o.default.createElement("span",{className:Ve($h("price"))},a,o.default.createElement("span",{className:Ve($h("price-integer"))},n[0]),c),s&&o.default.createElement("span",{className:Ve($h("suffix-label"))},s))}return null})(),n.button?n.button:o.default.createElement(Xe,{round:!0,type:n.buttonType,text:n.buttonText,className:Ve($h("button",n.buttonType)),color:n.buttonColor,loading:n.loading,disabled:n.disabled,onClick:a})))},e.SwipeCell=Xi,e.Swiper=ju,e.Switch=e=>{const n=Je(e,{activeValue:!0,inactiveValue:!1}),{loading:r,disabled:a,size:l,activeColor:s,inactiveColor:i}=n,[c,u]=pu({value:n.checked,defaultValue:n.defaultChecked}),d=t.useMemo((()=>c===n.activeValue),[c,n.activeValue]),f=__spreadValues({fontSize:q(l),backgroundColor:d?s:i},n.style);return o.default.createElement("div",{role:"switch",tabIndex:0,className:Ve(n.className,Nf({on:d,loading:r,disabled:a})),style:f,"aria-checked":d,onClick:e=>{var t,r;if(n.disabled||null==(t=n.onClick)||t.call(n,e),!n.disabled&&!n.loading){const e=d?n.inactiveValue:n.activeValue;u(e),null==(r=n.onChange)||r.call(n,e)}}},o.default.createElement("div",{className:Ve(Nf("node"))},(()=>{if(n.loading){const e=d?n.activeColor:n.inactiveColor;return o.default.createElement(je,{className:Ve(Nf("loading")),color:e})}return null})()))},e.Tabbar=Kf,e.TabbarItem=Wf,e.Tabs=Ku,e.Tag=Gu,e.Toast=uu,e.Typography=dr,e.Uploader=Ff,e.WaterMark=e=>{const t=Je(e,{zIndex:2e3,gapX:24,gapY:48,width:100,height:64,rotate:-22,font:pv,fullPage:!0}),{zIndex:n,gapX:r,gapY:a,width:l,height:s,rotate:i,image:c,content:u,font:d}=t,[f,m]=o.default.useState("");return o.default.useEffect((()=>{const e=document.createElement("canvas"),t=window.devicePixelRatio,n=e.getContext("2d"),o=(r+l)*t+"px",f=(a+s)*t+"px",p=l*t,h=s*t;if(e.setAttribute("width",o),e.setAttribute("height",f),!n)throw new Error("当前环境不支持Canvas");if(c){const{width:r,height:a,src:o}=c;n.translate(p/2,h/2),n.rotate(Math.PI/180*Number(i));const l=new Image;l.crossOrigin="anonymous",l.referrerPolicy="no-referrer",l.src=o,l.onload=()=>{n.drawImage(l,-r*t/2,-a*t/2,r*t,a*t),n.restore(),m(e.toDataURL())}}else if(u){const r=__spreadValues(__spreadValues({},d),pv),{size:a,family:o,style:l,weight:s,color:c}=r;n.textBaseline="middle",n.textAlign="center",n.translate(p/2,h/2),n.rotate(Math.PI/180*Number(i));const f=Number(a)*t;n.font=`${l} normal ${s} ${f}px/${h}px ${o}`,n.fillStyle=c,n.fillText(u,0,0),n.restore(),m(e.toDataURL())}}),[r,a,i,l,s,c,u,d]),o.default.createElement("div",{className:Ve(hv({full:t.fullPage})),style:{zIndex:n,backgroundSize:`${r+l}px`,backgroundImage:`url('${f}')`}})},e.hooks=Me,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
